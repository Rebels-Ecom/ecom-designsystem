import{r as C}from"./index-6f814c40.js";import{c as _}from"./index-74f03c09.js";import{P as E}from"./picture-1385f78c.js";import{g as U,D as M}from"./divider-lines-aed21525.js";import{c as g,P as Q}from"./format-helper-144e19ab.js";import{B as N}from"./button-d3b60dad.js";import{P as D}from"./product-variant-list-ac301c56.js";import{f as k}from"./product-variant-3aba3cd5.js";import{T as R}from"./tag-fb485b4a.js";import{a as r,j as m,F as J}from"./jsx-runtime-76c5c2e2.js";import{d as K,a as X}from"./dummy-product-a4cbc78e.js";const Y="_placeholderImage_zwoaa_1",Z="_placeholderShimmer_zwoaa_1",ee="_placeholderTags_zwoaa_15",re="_placeholderHeading_zwoaa_21",te="_placeholderParagraphLong_zwoaa_27",ae="_placeholderParagraphShort_zwoaa_32",q={placeholderImage:Y,placeholderShimmer:Z,placeholderTags:ee,placeholderHeading:re,placeholderParagraphLong:te,placeholderParagraphShort:ae};function c({type:a="heading"}){function e(d){switch(d){case"image":return"placeholderImage";case"tags":return"placeholderTags";case"p_long":return"placeholderParagraphLong";case"p_short":return"placeholderParagraphShort";case"heading":default:return"placeholderHeading"}}return r("div",{className:_(q.placeholder,q[e(a)])})}try{c.displayName="Placeholder",c.__docgenInfo={description:"",displayName:"Placeholder",props:{type:{defaultValue:{value:"heading"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"image"'},{value:'"heading"'},{value:'"tags"'},{value:'"p_long"'},{value:'"p_short"'}]}}}}}catch{}const ne="_productCard_utevk_1",ie="_imageWrapper_utevk_15",oe="_cardPicture_utevk_24",ce="_cardImage_utevk_31",de="_cardContent_utevk_42",le="_placeholderContent_utevk_42",ue="_headingWrapper_utevk_52",se="_heading_utevk_52",pe="_textGray_utevk_61",me="_textPurple_utevk_66",ge="_productCardInput_utevk_72",he="_productCardBtn_utevk_76",ye="_iconLink_utevk_80",i={productCard:ne,imageWrapper:ie,cardPicture:oe,cardImage:ce,cardContent:de,placeholderContent:le,headingWrapper:ue,heading:se,textGray:pe,textPurple:me,productCardInput:ge,productCardBtn:he,iconLink:ye},_e="_tagsList_1cf84_1",Pe={tagsList:_e};function P({tagsList:a=[]}){return r("ul",{className:Pe.tagsList,children:Array.isArray(a)&&a.length>0&&a.map((e,d)=>r("li",{children:r(R,{...e})},d))})}try{P.displayName="TagsList",P.__docgenInfo={description:"",displayName:"TagsList",props:{tagsList:{defaultValue:{value:"[]"},description:"",name:"tagsList",required:!1,type:{name:"ITag[]"}}}}}catch{}function h({product:a,changePackagingButton:e,addToCartButton:d,addToCart:o,loading:l,linkComponent:f}){const{productId:y,productImageUrl:$,price:z,itemNumberPerSalesUnit:O}=a,[j,I]=C.useState(!1),[t,S]=C.useState({...a,productImage:U(y,$),quantity:"1",totalPrice:g(z*O),selectedVariantId:y});function F(n){const u=parseInt(n.target.value)||1;S({...t,quantity:u.toString(),totalPrice:g(t.price*t.itemNumberPerSalesUnit*u)})}function G(){I(!0)}function H(n){const u=t.productId===n.variantId?parseInt(t.quantity):1;S({...t,productId:n.variantId,productImage:U(n.variantId,n.imageUrl?n.imageUrl:k),country:n.country,packaging:n.variantName,priceStr:n.listPricePerUnitString,price:n.price,salesUnit:n.salesUnit,itemNumberPerSalesUnit:n.itemNumberPerSalesUnit,totalPrice:g(n.price*n.itemNumberPerSalesUnit*u),quantity:u.toString(),selectedVariantId:n.variantId}),I(!1)}return j?r(D,{className:i.productCard,variantsList:t.productVariantList,onVariantSelect:H,selectedVariantId:t.selectedVariantId}):m("div",{className:i.productCard,children:[Array.isArray(t.tags)&&t.tags.length?r(J,{children:l?r(c,{type:"tags"}):r(P,{tagsList:t.tags})}):null,l?r(c,{type:"image"}):r("div",{className:i.imageWrapper,children:r(E,{...t.productImage,classNamePicture:i.cardPicture,classNameImg:`${i.cardImage}`,fallbackImageUrl:k})}),l?m("div",{className:i.placeholderContent,children:[r(c,{type:"heading"}),r(c,{type:"p_short"}),r(c,{type:"p_long"}),r(c,{type:"p_long"})]}):m("div",{className:`${i.cardContent}`,children:[t.productUrl&&f?r(f,{to:t.productUrl,href:t.productUrl,className:i.headingWrapper,children:r("h5",{className:i.heading,children:t.productName})}):r("h5",{className:i.heading,children:t.productName}),r(M,{}),r("p",{className:_(i.textGray,"bodyS"),children:`Art.nr. ${y} - ${t.country}`}),r("p",{className:_(i.textPurple,"bodyS"),children:`${t.packaging}: ${t.priceStr} kr/st`})]}),r(N,{...e,surface:"secondary",iconRight:{icon:"icon-layers"},rounded:!0,fullWidth:!0,onClick:()=>G(),disabled:l,children:"Byt förpackning"}),l?m("div",{className:i.placeholderContent,children:[r(c,{type:"p_long"}),r(c,{type:"p_long"})]}):r(Q,{className:i.productCardInput,salesUnit:t.salesUnit,itemNumberPerSalesUnit:t.itemNumberPerSalesUnit,totalPrice:t.totalPrice,quantity:t.quantity,quantityInputId:t.productId,onChange:F}),r(N,{...d,className:l?"":i.productCardBtn,fullWidth:!0,onClick:()=>o(a),disabled:l,children:"Lägg i kundvagn"})]})}try{h.displayName="ProductCard",h.__docgenInfo={description:"",displayName:"ProductCard",props:{product:{defaultValue:null,description:"",name:"product",required:!0,type:{name:"IProduct"}},changePackagingButton:{defaultValue:null,description:"",name:"changePackagingButton",required:!0,type:{name:"IButton"}},addToCartButton:{defaultValue:null,description:"",name:"addToCartButton",required:!0,type:{name:"IButton"}},addToCart:{defaultValue:null,description:"",name:"addToCart",required:!0,type:{name:"CallableFunction"}},loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"boolean"}},linkComponent:{defaultValue:null,description:"",name:"linkComponent",required:!1,type:{name:"any"}},productId:{defaultValue:null,description:"",name:"productId",required:!0,type:{name:"string"}},productName:{defaultValue:null,description:"",name:"productName",required:!0,type:{name:"string"}},productUrl:{defaultValue:null,description:"",name:"productUrl",required:!1,type:{name:"string"}},productImageUrl:{defaultValue:null,description:"",name:"productImageUrl",required:!0,type:{name:"string"}},country:{defaultValue:null,description:"",name:"country",required:!1,type:{name:"string"}},packaging:{defaultValue:null,description:"",name:"packaging",required:!0,type:{name:"string"}},priceStr:{defaultValue:null,description:"",name:"priceStr",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},salesUnit:{defaultValue:null,description:"",name:"salesUnit",required:!0,type:{name:"string"}},itemNumberPerSalesUnit:{defaultValue:null,description:"",name:"itemNumberPerSalesUnit",required:!0,type:{name:"number"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:"string"}},totalPrice:{defaultValue:null,description:"",name:"totalPrice",required:!0,type:{name:"string"}},productVariantList:{defaultValue:null,description:"",name:"productVariantList",required:!0,type:{name:"IProductVariant[]"}},tags:{defaultValue:null,description:"",name:"tags",required:!1,type:{name:"ITag[]"}}}}}catch{}const fe={title:"Design System/Molecules/ProductCard",component:h},B={render:({...a})=>{function e(d){console.log("Showing toast with product...")}return r("div",{style:{width:"100%",marginTop:"2rem",marginLeft:"2rem"},children:r(h,{...a,addToCart:e})})}};function W(a){return a.map(e=>({text:e.Text,shape:e.Shape?e.Shape:"pill",color:e.Class}))}function Ie(a,e){const d=e[0].VariantId;return e.map(o=>({productName:a,variantName:o.Name,variantId:o.VariantId,country:Array.isArray(o.ShortTexts)&&o.ShortTexts.length?o.ShortTexts[0]:"",listPricePerUnitString:o.ListPricePerUnitString,price:o.ListPricePerUnit,salesUnit:o.SalesUnit,itemNumberPerSalesUnit:o.UnitsPerBaseUnit,imageUrl:o.PrimaryImageUrl,checked:o.VariantId===d,tags:W(o.Tags),onChange:()=>{}}))}function A(a){const e=a.Variants[0];return{productId:e.VariantId,productUrl:a.ProductUrl,productName:a.DisplayName,productImageUrl:e.PrimaryImageUrl,country:Array.isArray(e.ShortTexts)&&e.ShortTexts.length?e.ShortTexts[0]:"",packaging:e.VariantFullName,priceStr:e.ListPricePerUnitString,price:e.ListPricePerUnit,salesUnit:e.SalesUnit,itemNumberPerSalesUnit:e.UnitsPerBaseUnit,tags:W(e.Tags),quantity:"1",totalPrice:g(e.ListPricePerUnit*e.UnitsPerBaseUnit),productVariantList:Ie(a.DisplayName,a.Variants)}}A(K);const w=A(X),s={...B,args:{product:w,linkComponent:"a"}},p={...B,args:{product:w,loading:!0}};var T,L,V;s.parameters={...s.parameters,docs:{...(T=s.parameters)==null?void 0:T.docs,source:{originalSource:`{
  ...ProductCardStoryTemplate,
  args: {
    product: productWineArgs,
    linkComponent: 'a'
  }
}`,...(V=(L=s.parameters)==null?void 0:L.docs)==null?void 0:V.source}}};var v,b,x;p.parameters={...p.parameters,docs:{...(v=p.parameters)==null?void 0:v.docs,source:{originalSource:`{
  ...ProductCardStoryTemplate,
  args: {
    product: productWineArgs,
    loading: true
  }
}`,...(x=(b=p.parameters)==null?void 0:b.docs)==null?void 0:x.source}}};const Se=["ProductCardStory","ProductCardStory_Loading"],Be=Object.freeze(Object.defineProperty({__proto__:null,ProductCardStory:s,ProductCardStory_Loading:p,__namedExportsOrder:Se,default:fe},Symbol.toStringTag,{value:"Module"}));export{h as P,s as a,Be as p};
//# sourceMappingURL=product-card.stories-a430667d.js.map
