{"version":3,"file":"hero-carousel.stories-48c17b9c.js","sources":["../../src/design-system/hooks/useSwipe.ts","../../src/design-system/components/organisms/hero-carousel/hero-carousel.tsx","../../src/design-system/components/organisms/hero-carousel/hero-carousel.stories.tsx"],"sourcesContent":["import {TouchEvent, useState} from \"react\";\n\ninterface SwipeArgs {\n    onSwipedLeft: () => void\n    onSwipedRight: () => void\n}\n\ninterface SwipeReturnEvents  {\n    onTouchStart: (e: TouchEvent) => void\n    onTouchMove: (e: TouchEvent) => void\n}\n\nexport default function useSwipe (args: SwipeArgs): SwipeReturnEvents {\n    const [touchPosition, setTouchPosition] = useState(0);\n\n    const minSwipeDistance = 5;\n\n    const onTouchStart = (e: TouchEvent) => {\n        const touchDown = e.touches[0].clientX;\n        setTouchPosition(touchDown);\n    }\n\n    const onTouchMove = (e: TouchEvent) => {\n        const touchDown = touchPosition;\n    \n        if(touchDown === 0) {\n            return;\n        }\n    \n        const currentTouch = e.touches[0].clientX;\n        const diff = touchDown - currentTouch;\n    \n        if (diff > minSwipeDistance) {\n            args.onSwipedLeft();\n        }\n    \n        if (diff < -minSwipeDistance) {\n            args.onSwipedRight();\n        }\n    \n        setTouchPosition(0);\n    }\n\n    return {\n        onTouchStart,\n        onTouchMove\n    }\n}","import { useEffect, useState } from 'react'\nimport { IHero, Hero } from '../../molecules/hero/hero'\nimport styles from './hero-carousel.module.css'\nimport cx from 'classnames'\nimport useSwipe from '../../../hooks/useSwipe'\n\nexport interface IHeroCarousel {\n  heroComponents: Array<IHero>\n}\n\nconst HeroCarousel = ({ heroComponents }: IHeroCarousel) => {\n  const [currentIndex, setCurrent] = useState(0)\n  const [autoPlay, setAutoPlay] = useState(true)\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (autoPlay) {\n        slideRight()\n      }\n    }, 3000)\n\n    return () => {\n      if (interval) {\n        clearInterval(interval)\n      }\n    }\n  })\n\n  const slideRight = () => {\n    setCurrent(currentIndex === heroComponents.length - 1 ? 0 : currentIndex + 1)\n  }\n\n  const slideLeft = () => {\n    setCurrent(currentIndex === 0 ? heroComponents.length - 1 : currentIndex - 1)\n  }\n\n  const swipeHandlers = useSwipe({ onSwipedLeft: () => slideRight(), onSwipedRight: () => slideLeft() })\n\n  return (\n    <div className={styles.heroCarousel} onMouseEnter={() => setAutoPlay(false)} onMouseLeave={() => setAutoPlay(true)}>\n      <div className={styles.carouselContentWrapper} {...swipeHandlers}>\n        <div className={styles.carouselContent} style={{ transform: `translateX(-${currentIndex * 100}%)` }}>\n          {heroComponents.map((hero: IHero, index: number) => {\n            return <Hero key={index} {...hero} fetchPriority={index === 0 ? 'high' : 'auto'} loading={index === 0 ? 'eager' : 'lazy'} />\n          })}\n        </div>\n      </div>\n      <div className={styles.carouselPagination}>\n        {heroComponents.map((_: IHero, index: number) => {\n          return (\n            <div\n              key={index}\n              className={index === currentIndex ? cx(styles.paginationIndicator, styles.paginationIndicatorActive) : cx(styles.paginationIndicator)}\n              onClick={() => setCurrent(index)}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport { HeroCarousel }\n","import React from 'react';\nimport { ComponentMeta, ComponentStory } from '@storybook/react';\nimport { HeroCarousel } from './hero-carousel';\nimport { HeroStoryCenter, HeroStoryLeft, HeroStoryRight } from '../../molecules/hero/hero.stories';\nexport default ({\n  title: 'Design System/Organisms/HeroCarousel',\n  component: HeroCarousel\n} as ComponentMeta<typeof HeroCarousel>);\nconst Template: ComponentStory<typeof HeroCarousel> = args => {\n  return <div style={{\n    margin: 'auto',\n    maxWidth: '77.5rem'\n  }}>\n            <HeroCarousel {...args} />\n        </div>;\n};\nconst heroComponentsList = [HeroStoryLeft.args, HeroStoryRight.args, HeroStoryCenter.args, HeroStoryLeft.args, HeroStoryRight.args];\nexport const HeroCarouselStory = Template.bind({});\nHeroCarouselStory.storyName = 'Hero Carousel';\nHeroCarouselStory.args = {\n  heroComponents: heroComponentsList\n};\nHeroCarouselStory.parameters = {\n  ...HeroCarouselStory.parameters,\n  docs: {\n    ...HeroCarouselStory.parameters?.docs,\n    source: {\n      originalSource: \"args => {\\n  return <div style={{\\n    margin: 'auto',\\n    maxWidth: '77.5rem'\\n  }}>\\n            <HeroCarousel {...args} />\\n        </div>;\\n}\",\n      ...HeroCarouselStory.parameters?.docs?.source\n    }\n  }\n};"],"names":["useSwipe","args","touchPosition","setTouchPosition","useState","minSwipeDistance","e","touchDown","currentTouch","diff","HeroCarousel","heroComponents","currentIndex","setCurrent","autoPlay","setAutoPlay","useEffect","interval","slideRight","clearInterval","slideLeft","swipeHandlers","_jsxs","styles","heroCarousel","_jsx","carouselContentWrapper","carouselContent","hero","index","Hero","carouselPagination","cx","heroCarousel_stories","title","component","Template","style","margin","maxWidth","children","heroComponentsList","HeroStoryLeft","HeroStoryRight","HeroStoryCenter","HeroCarouselStory","bind","storyName","parameters","docs","source","originalSource"],"mappings":"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"}