import{r,j as e}from"./jsx-runtime-03333307.js";import{c as j}from"./index-09749a66.js";import{u as T}from"./useOnClickOutside-9d2c35bb.js";import{A as k}from"./index-61679f6b.js";import{m as l}from"./motion-9380e2c6.js";import{I as g}from"./icon-e3522fc5.js";import{B as A}from"./button-ae86c7d5.js";import{C as w}from"./content-wrapper-adfa8526.js";const C="_mobileNavigation_11tir_1",M="_top_11tir_7",O="_actions_11tir_15",S="_topInner_11tir_23",B="_menuButton_11tir_26",D="_menuIcon_11tir_39",E="_menuCloseIcon_11tir_43",P="_content_11tir_50",F="_menuListWrapper_11tir_64",W="_menuList_11tir_64",R="_menuListItem_11tir_79",$="_menuListItemLink_11tir_88",G="_menuListItemLinkActive_11tir_101",V="_subMenuList_11tir_108",X="_subMenuListItemLink_11tir_115",H="_subMenuListItemLinkActive_11tir_129",J="_itemIcon_11tir_137",z="_signOut_11tir_142",K="_backDrop_11tir_149",n={mobileNavigation:C,top:M,actions:O,topInner:S,menuButton:B,menuIcon:D,menuCloseIcon:E,content:P,menuListWrapper:F,menuList:W,menuListItem:R,menuListItemLink:$,menuListItemLinkActive:G,subMenuList:V,subMenuListItemLink:X,subMenuListItemLinkActive:H,itemIcon:J,signOut:z,backDrop:K},y=({name:i,link:m,links:s,delay:b})=>{const[u,a]=r.useState(!1),[c,I]=r.useState(0),[d,p]=r.useState();return e.jsxs(l.div,{initial:{opacity:0,translateX:"10vw"},whileInView:{opacity:1,translateX:0,transition:{delay:b??.3}},viewport:{once:!0},className:n.menuListItem,children:[v(m)?e.jsx("a",{className:n.menuListItemLink,href:m.href,target:m.openInNewTab?"_blank":"_self",children:i}):e.jsxs("button",{className:n.menuListItemLink,onClick:()=>{I(c===0?"auto":0),a(!u)},children:[e.jsx("span",{className:`${u?n.menuListItemLinkActive:""}`,children:i}),e.jsx(g,{className:n.itemIcon,icon:u?"icon-chevron-up":"icon-chevron-down"})]}),s!=null&&s.length?e.jsx(l.div,{className:n.subMenuList,initial:{height:0},animate:{height:c},children:s.map(t=>{var o;return e.jsxs(r.Fragment,{children:[v(t)?e.jsxs("a",{className:n.subMenuListItemLink,href:t.href,target:t.openInNewTab?"_blank":"_self",children:[t.name,e.jsx(g,{className:n.itemIcon,icon:"icon-chevron-right"})]}):e.jsxs("button",{className:n.subMenuListItemLink,onClick:()=>{p(d===t.name?"":t.name)},children:[e.jsx("span",{className:`${d===t.name?n.subMenuListItemLinkActive:""}`,children:t.name}),e.jsx(g,{className:n.itemIcon,icon:d===t.name?"icon-chevron-up":"icon-chevron-down"})]}),_(t)&&((o=t.links)!=null&&o.length)?e.jsx(l.div,{className:n.subMenuList,initial:{height:0},animate:{height:d===t.name?"auto":0},children:t.links.map(f=>e.jsx(r.Fragment,{children:v(f)?e.jsxs("a",{className:n.subMenuListItemLink,href:f.href,target:f.openInNewTab?"_blank":"_self",children:[f.name,e.jsx(g,{className:n.itemIcon,icon:"icon-chevron-right"})]}):void 0},f.name))}):void 0]},t.name)})}):void 0]},i)},L=({categories:i,isAuthenticated:m,signOutLabel:s,onSignOut:b,actions:u,isOpen:a,setIsOpen:c})=>{const[I,d]=r.useState(0),p=r.useRef(null);return r.useEffect(()=>{var t,o;d((((t=p.current)==null?void 0:t.getBoundingClientRect().y)??0)+((((o=p.current)==null?void 0:o.clientHeight)??0)+16))},[a]),r.useEffect(()=>{const t=document.body;t&&(a?t.classList.add("no-scroll"):t.classList.remove("no-scroll"))},[a]),T({ref:p,onClose:()=>c(!1)}),e.jsxs("div",{className:n.mobileNavigation,ref:p,children:[e.jsxs("div",{className:n.top,children:[u&&e.jsx("div",{className:n.actions,children:u}),e.jsx("div",{className:n.topInner,children:e.jsxs(k,{initial:!1,exitBeforeEnter:!0,children:[!a&&e.jsx(l.button,{initial:{scale:.2},animate:{scale:a?0:1},exit:{scale:.2},onClick:()=>c(!0),className:n.menuButton,children:e.jsx(g,{className:n.menuIcon,icon:"icon-menu"})},"menu-btn"),a&&e.jsx(l.button,{initial:{scale:.2},animate:{scale:a?1:0},exit:{scale:.2},onClick:()=>c(!1),className:n.menuButton,children:e.jsx(g,{className:j(n.menuIcon,n.menuCloseIcon),icon:"icon-plus"})},"close-btn")]})})]}),e.jsx(l.nav,{className:n.content,initial:{x:"100vw"},animate:{x:a?"0":"100vw"},transition:{type:"tween"},style:{paddingTop:`${I}px`},children:e.jsxs("div",{className:n.menuListWrapper,children:[e.jsx("ul",{className:n.menuList,children:i.map((t,o)=>{if(_(t))return e.jsx(y,{name:t.name,links:t.links,delay:o*.1,href:t.href},t.name);if(v(t))return e.jsx(y,{name:t.name,link:t,delay:o*.1},t.name)})}),m&&s&&b&&e.jsx("div",{className:n.signOut,children:e.jsx(A,{children:s,onClick:b,surface:"x",type:"button"})})]})}),e.jsx(k,{children:a&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:.75},exit:{opacity:0},className:n.backDrop})})]})},v=i=>i&&!_(i),_=i=>i&&"links"in i;L.__docgenInfo={description:"",methods:[],displayName:"MobileNavigation",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(val: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"val"}],return:{name:"void"}}},description:""},categories:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:"TNavLink | TNavCategory",elements:[{name:"signature",type:"object",raw:`{
  // Link text / title
  name: string;
  // Path to destination
  href: string;
  // Boolean for toggling target="_blank"
  openInNewTab?: boolean;
  // Descriptive text
  description?: string;
  links?: never;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"openInNewTab",value:{name:"boolean",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"links",value:{name:"never",required:!1}}]}},{name:"signature",type:"object",raw:`{
  // Link text / title
  name: string;
  // Path to destination
  href: string;
  // Boolean for toggling target="_blank"
  openInNewTab?: boolean;
  // Descriptive text
  description?: string;
  // Subtitle
  subtitle?: string;
  // Required sub level of links
  links: Array<TNavLink | TNavCategory>;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"openInNewTab",value:{name:"boolean",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"subtitle",value:{name:"string",required:!1}},{key:"links",value:{name:"Array",elements:[{name:"union",raw:"TNavLink | TNavCategory",elements:[{name:"signature",type:"object",raw:`{
  // Link text / title
  name: string;
  // Path to destination
  href: string;
  // Boolean for toggling target="_blank"
  openInNewTab?: boolean;
  // Descriptive text
  description?: string;
  links?: never;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"openInNewTab",value:{name:"boolean",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"links",value:{name:"never",required:!1}}]}},{name:"TNavCategory"}]}],raw:"Array<TNavLink | TNavCategory>",required:!0}}]}}]}],raw:"Array<TNavLink | TNavCategory>"},description:""},currentSlug:{required:!0,tsType:{name:"string"},description:""},initial:{required:!1,tsType:{name:"string"},description:""},isAuthenticated:{required:!1,tsType:{name:"boolean"},description:""},signOutLabel:{required:!1,tsType:{name:"string"},description:""},onSignOut:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},actions:{required:!1,tsType:{name:"JSX.Element"},description:""}}};const Q=[{name:"Drycker",href:"#",openInNewTab:!0,links:[{name:"Öl",href:"#",links:[{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"}]},{name:"Vin",href:"#",links:[{name:"Alla viner",href:"#"},{name:"Alkoholfritt",href:"#"},{name:"Champagne",href:"#"},{name:"Glögg",href:"#"},{name:"Mousserande",href:"#"}]},{name:"Sprit",href:"#",links:[{name:"Brand och Cognac",href:"#"},{name:"Calvados",href:"#"},{name:"Gin",href:"#"},{name:"Grappa",href:"#"},{name:"Likör",href:"#"}]},{name:"Övrigt",href:"#",links:[{name:"Cider",href:"#"},{name:"Läsk",href:"#"},{name:"Vatten",href:"#"},{name:"FAB / Blanddryck",href:"#"},{name:"Energidryck",href:"#"},{name:"Fruktdryck",href:"#"},{name:"Mixers",href:"#"},{name:"Stilldrink / Juice",href:"#"},{name:"Övrigt",href:"#"}]}]},{name:"Tillbehör",href:"#",links:[{name:"Item 1",href:"#",subtitle:"Information",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Mitt Spendrups",href:"#mitt-spendrups",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{name:"Item 2",description:"Lorem.",href:"#item-2"},{name:"Item 3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-3"},{name:"Item 4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-4"}]},{name:"Item 2",href:"#",subtitle:"Lorem ipsum",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"},{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"}]},{name:"Item 3",href:"#"}]},{name:"Nyheter",href:"#",openInNewTab:!0},{name:"Kampanjer",href:"#",openInNewTab:!0}],U={title:"Design System/Molecules/MobileNavigation",component:L,tags:["autodocs"],parameters:{padding:!1}},h={render:i=>{const[m,s]=r.useState(!1);return e.jsxs(w,{children:[e.jsx(L,{...i,isOpen:m,setIsOpen:s}),";"]})},args:{currentSlug:"/",categories:Q,isAuthenticated:!0,signOutLabel:"Logga ut",onSignOut:()=>alert("Logging out")}};var N,x,q;h.parameters={...h.parameters,docs:{...(N=h.parameters)==null?void 0:N.docs,source:{originalSource:`{
  render: args => {
    const [isOpen, setIsOpen] = useState(false);
    return <ContentWrapper>
        <MobileNavigation {...args} isOpen={isOpen} setIsOpen={setIsOpen} />;
      </ContentWrapper>;
  },
  args: {
    currentSlug: '/',
    categories,
    isAuthenticated: true,
    signOutLabel: 'Logga ut',
    onSignOut: () => alert('Logging out')
  }
}`,...(q=(x=h.parameters)==null?void 0:x.docs)==null?void 0:q.source}}};const Y=["DefaultMobileNavigation"],oe=Object.freeze(Object.defineProperty({__proto__:null,DefaultMobileNavigation:h,__namedExportsOrder:Y,default:U},Symbol.toStringTag,{value:"Module"}));export{h as D,L as M,oe as m};
