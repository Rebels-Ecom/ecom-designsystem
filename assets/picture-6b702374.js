import{c as g}from"./index-09749a66.js";import{r as s,j as n}from"./jsx-runtime-03333307.js";const N="_picture_rdopn_1",V="_fallback_rdopn_11",z="_image_rdopn_21",I="_loading_rdopn_39",E="_opacityLayer_rdopn_49",b="_fadeIn_rdopn_1",D="_withLightBackground_rdopn_71",R="_withDarkBackground_rdopn_79",A="_skeleton_rdopn_87",a={picture:N,fallback:V,image:z,loading:I,opacityLayer:E,fadeIn:b,withLightBackground:D,withDarkBackground:R,skeleton:A},v=i=>{try{return new URL(i),!0}catch{return!1}},$=({id:i,sources:o,src:l,width:f,height:y,loading:w="lazy",decoding:L="auto",alt:q="",fetchPriority:T="auto",classNamePicture:x,classNameImg:B,pictureWithOpacity:c,fallbackImageUrl:t=""})=>{var k;const[r,_]=s.useState({src:l,sources:o}),[d,u]=s.useState(!0),m=s.useRef(null);s.useEffect(()=>{const e=o,p=v(l)?l:"";_({src:p,sources:e}),u(!0)},[l,o]),s.useEffect(()=>{m.current&&m.current.complete&&h()},[r]);const S=()=>{t&&v(t)&&_({src:t,sources:[{srcset:t}]}),u(!1)},h=()=>{u(!1)},j=()=>{u(!0)},P=()=>{var e;return(e=r==null?void 0:r.sources)!=null&&e.length?!!r.src:!1};return n.jsxs(n.Fragment,{children:[n.jsxs("picture",{className:g(a.picture,x),id:i,children:[(k=r.sources)==null?void 0:k.map((e,p)=>n.jsx("source",{srcSet:e.srcset||t,type:e.type,media:e.media,sizes:e.sizes},`${i}_source_${p}`)),n.jsx("img",{ref:m,src:r.src||t,className:g(a.image,B,{[a.fallback]:!P()&&!!t},{[a.loading]:d}),loading:w,decoding:L,alt:q,"aria-busy":d,width:f,height:y,fetchpriority:T,onError:S,onLoad:h,onLoadStart:j}),d&&n.jsx("div",{className:a.skeleton,style:{width:f,height:y}})]}),c&&n.jsx("div",{className:g(a.opacityLayer,{[a.withLightBackground]:c==="light",[a.withDarkBackground]:c==="dark"}),"aria-hidden":"true"})]})};$.__docgenInfo={description:"",methods:[],displayName:"Picture",props:{id:{required:!0,tsType:{name:"string"},description:""},sources:{required:!0,tsType:{name:"Array",elements:[{name:"IPictureSource"}],raw:"Array<IPictureSource>"},description:""},src:{required:!0,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},height:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},loading:{required:!1,tsType:{name:"union",raw:"'eager' | 'lazy'",elements:[{name:"literal",value:"'eager'"},{name:"literal",value:"'lazy'"}]},description:"",defaultValue:{value:"'lazy'",computed:!1}},decoding:{required:!1,tsType:{name:"union",raw:"'sync' | 'async' | 'auto'",elements:[{name:"literal",value:"'sync'"},{name:"literal",value:"'async'"},{name:"literal",value:"'auto'"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},alt:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},fetchPriority:{required:!1,tsType:{name:"union",raw:"'high' | 'low' | 'auto'",elements:[{name:"literal",value:"'high'"},{name:"literal",value:"'low'"},{name:"literal",value:"'auto'"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},classNamePicture:{required:!1,tsType:{name:"string"},description:""},classNameImg:{required:!1,tsType:{name:"string"},description:""},pictureWithOpacity:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:""},fallbackImageUrl:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}}}};export{$ as P};
