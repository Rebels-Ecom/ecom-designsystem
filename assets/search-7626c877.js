import{r as n,j as e}from"./jsx-runtime-03333307.js";import{I as x}from"./icon-cf6ebd85.js";import{I}from"./input-text-0d02e73b.js";import{B as v}from"./button-e2072245.js";import{c as N}from"./index-09749a66.js";import{u as T}from"./useOnClickOutside-9d2c35bb.js";import{u as C}from"./useCloseOnEscape-f124367e.js";const q="_search_tngsh_1",B="_searchBar_tngsh_5",k="_searchInput_tngsh_45",L="_clearButton_tngsh_49",w="_searchResults_tngsh_60",E="_searchResultLink_tngsh_85",S="_active_tngsh_92",$="_searchResultItem_tngsh_97",A="_serchResultItemLabel_tngsh_102",s={search:q,searchBar:B,searchInput:k,clearButton:L,searchResults:w,searchResultLink:E,active:S,searchResultItem:$,serchResultItemLabel:A};function z({className:_,id:c,isOpen:l,setIsOpen:t,query:u,setQuery:o,setIsFocused:i,results:h,disabled:g,noResult:m,placeholder:f}){const p=n.useRef(null),r=n.useRef(null),d=n.useCallback(()=>(t(!1),(r==null?void 0:r.current)&&r.current.blur()),[t]);n.useCallback(()=>{t(!0),i(!0)},[t,i]);const b=n.useCallback(()=>{i(!1)},[i]),y=n.useCallback(a=>{l||t(!0),o(a.target.value)},[l,t,o]);function R(){return o(""),(r==null?void 0:r.current)&&r.current.focus()}return T({ref:p,onClose:d}),C({onClose:d,isOpen:l}),e.jsxs("div",{ref:p,className:N(s.search,_),children:[e.jsxs("div",{className:s.searchBar,children:[e.jsx(v,{type:"button",surface:"tertiary",size:"x-small",children:e.jsx(x,{icon:"icon-search"})}),e.jsx(I,{ref:r,type:"text",id:c,onChange:y,value:u,onBlur:b,other:{autoComplete:"off"},disabled:g,placeholder:f,wrapperClassName:s.searchInput}),u&&e.jsx("button",{onClick:R,tabIndex:-1,type:"button",className:s.clearButton,children:e.jsx(x,{icon:"icon-x",className:"text-icon"})})]}),l&&u&&e.jsx("div",{className:s.searchResults,children:e.jsxs("ul",{"aria-labelledby":c,children:[h.map((a,j)=>e.jsx("li",{children:e.jsxs("a",{href:a.slug,className:s.searchResultLink,children:[e.jsx("span",{className:s.serchResultItemLabel,children:a.label}),a.text&&e.jsx("span",{children:" - "}),e.jsx("span",{className:s.serchResultItemText,children:a.text})]})},`${c}_${j}`)),h.length===0&&u.length?e.jsx("li",{children:e.jsxs("div",{className:s.serchResultItem,children:[e.jsx("span",{className:s.serchResultItemLabel,children:m.label}),m.text&&e.jsx("span",{children:"-"}),e.jsx("span",{className:s.serchResultItemText,children:m.text})]})},`search_no_result_${c}`):null]})})]})}z.__docgenInfo={description:"",methods:[],displayName:"Search",props:{id:{required:!0,tsType:{name:"string"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isOpen"}],return:{name:"void"}}},description:""},setIsFocused:{required:!0,tsType:{name:"signature",type:"function",raw:"(isFocused: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isFocused"}],return:{name:"void"}}},description:""},query:{required:!0,tsType:{name:"string"},description:""},setQuery:{required:!0,tsType:{name:"signature",type:"function",raw:"(query: string) => void",signature:{arguments:[{type:{name:"string"},name:"query"}],return:{name:"void"}}},description:""},results:{required:!0,tsType:{name:"Array",elements:[{name:"IResult"}],raw:"Array<IResult>"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},noResult:{required:!0,tsType:{name:"ISearchNoResult"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{z as S};
