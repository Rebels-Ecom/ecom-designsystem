import{r as e,j as o}from"./jsx-runtime-03333307.js";import{c as v}from"./index-09749a66.js";import{u as w}from"./generic-helper-ddbede2e.js";import{r as h}from"./index-821951ec.js";import{m as k}from"./motion-9380e2c6.js";import{I as P}from"./icon-button-c6bda5d8.js";import{A as C}from"./index-61679f6b.js";const j=t=>{const[a,s]=e.useState({render:()=>null,remove:()=>null}),l=e.useCallback(r=>({render:({children:d})=>h.createPortal(d,r),remove:()=>h.unmountComponentAtNode(r)}),[]);return e.useEffect(()=>{if(t){a.remove();const r=l(t);return s(r),()=>{r.remove()}}},[t]),a.render},E=j,R="_modal_1f32w_1",T="_buttonClose_1f32w_23",N="_backdrop_1f32w_35",q="_light_1f32w_42",M="_dark_1f32w_43",i={modal:R,buttonClose:T,backdrop:N,light:q,dark:M};function z({open:t,children:a,onClose:s,backdropType:l="dark",dismissable:r,hideCloseButton:c}){const[b,d]=e.useState(null),u=e.useRef(null);e.useEffect(()=>{d(document.getElementById("portal"))},[]);const m=e.useCallback(()=>{if(!u.current)return;const n=Math.floor(window.innerHeight*.95/2)*2;u.current.style.maxHeight=`${n}px`},[]),p=w(m,100);e.useEffect(()=>{if(t)return m(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}},[t,p,m]);const g=E(b),x=({children:n,onClick:f})=>o.jsx(k.div,{className:v(i.backdrop,i[l]),onClick:f,initial:!1,animate:{opacity:1},exit:{opacity:0},children:n}),y=e.useCallback(({children:n,onClick:f})=>o.jsxs(k.div,{ref:u,className:i.modal,onClick:_=>_.stopPropagation(),initial:!1,animate:{opacity:1},transition:{duration:.3,ease:"easeOut"},exit:{opacity:0,transition:{duration:.3}},children:[!c&&o.jsx(P,{type:"button",className:i.buttonClose,onClick:f,icon:"icon-x",size:"large",isTransparent:!0,noBorder:!0,noPadding:!0}),n]}),[c]);return o.jsx(g,{children:o.jsx(C,{initial:!1,children:t?o.jsx(x,{onClick:()=>{r&&s()},children:o.jsx(y,{onClick:s,children:a})}):null})})}z.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},backdropType:{required:!1,tsType:{name:"union",raw:"'dark' | 'light'",elements:[{name:"literal",value:"'dark'"},{name:"literal",value:"'light'"}]},description:"",defaultValue:{value:"'dark'",computed:!1}},dismissable:{required:!1,tsType:{name:"boolean"},description:""},hideCloseButton:{required:!1,tsType:{name:"boolean"},description:""}}};export{z as M};
