import{r as o,a as r,j as i}from"./jsx-runtime-a3a6c0b8.js";import{c as q}from"./index-a587463d.js";import{u as C}from"./useOnClickOutside-338168d6.js";import{A as k}from"./index-4058f88b.js";import{m as u}from"./motion-54668070.js";import{I as h}from"./icon-5fefd509.js";import{B as S}from"./button-97f3af74.js";import{C as w}from"./content-wrapper-c985da24.js";const x="_mobileNavigation_11tir_1",B="_top_11tir_7",D="_actions_11tir_15",T="_topInner_11tir_23",V="_menuButton_11tir_26",E="_menuIcon_11tir_39",F="_menuCloseIcon_11tir_43",W="_content_11tir_50",P="_menuListWrapper_11tir_64",j="_menuList_11tir_64",$="_menuListItem_11tir_79",G="_menuListItemLink_11tir_88",R="_menuListItemLinkActive_11tir_101",H="_subMenuList_11tir_108",X="_subMenuListItemLink_11tir_115",z="_subMenuListItemLinkActive_11tir_129",J="_itemIcon_11tir_137",K="_signOut_11tir_142",Q="_backDrop_11tir_149",t={mobileNavigation:x,top:B,actions:D,topInner:T,menuButton:V,menuIcon:E,menuCloseIcon:F,content:W,menuListWrapper:P,menuList:j,menuListItem:$,menuListItemLink:G,menuListItemLinkActive:R,subMenuList:H,subMenuListItemLink:X,subMenuListItemLinkActive:z,itemIcon:J,signOut:K,backDrop:Q},y=({name:n,link:l,links:s,delay:I})=>{const[c,a]=o.useState(!1),[d,v]=o.useState(0),[p,f]=o.useState();return r(u.div,{initial:{opacity:0,translateX:"10vw"},whileInView:{opacity:1,translateX:0,transition:{delay:I??.3}},viewport:{once:!0},className:t.menuListItem,children:[_(l)?i("a",{className:t.menuListItemLink,href:l.href,target:l.openInNewTab?"_blank":"_self",children:n}):r("button",{className:t.menuListItemLink,onClick:()=>{v(d===0?"auto":0),a(!c)},children:[i("span",{className:`${c?t.menuListItemLinkActive:""}`,children:n}),i(h,{className:t.itemIcon,icon:c?"icon-chevron-up":"icon-chevron-down"})]}),s!=null&&s.length?i(u.div,{className:t.subMenuList,initial:{height:0},animate:{height:d},children:s.map(e=>{var m;return r(o.Fragment,{children:[_(e)?r("a",{className:t.subMenuListItemLink,href:e.href,target:e.openInNewTab?"_blank":"_self",children:[e.name,i(h,{className:t.itemIcon,icon:"icon-chevron-right"})]}):r("button",{className:t.subMenuListItemLink,onClick:()=>{f(p===e.name?"":e.name)},children:[i("span",{className:`${p===e.name?t.subMenuListItemLinkActive:""}`,children:e.name}),i(h,{className:t.itemIcon,icon:p===e.name?"icon-chevron-up":"icon-chevron-down"})]}),N(e)&&((m=e.links)!=null&&m.length)?i(u.div,{className:t.subMenuList,initial:{height:0},animate:{height:p===e.name?"auto":0},children:e.links.map(g=>i(o.Fragment,{children:_(g)?r("a",{className:t.subMenuListItemLink,href:g.href,target:g.openInNewTab?"_blank":"_self",children:[g.name,i(h,{className:t.itemIcon,icon:"icon-chevron-right"})]}):void 0},g.name))}):void 0]},e.name)})}):void 0]},n)},L=({categories:n,isAuthenticated:l,signOutLabel:s,onSignOut:I,actions:c,isOpen:a,setIsOpen:d})=>{const[v,p]=o.useState(0),f=o.useRef(null);return o.useEffect(()=>{var e,m;p((((e=f.current)==null?void 0:e.getBoundingClientRect().y)??0)+((((m=f.current)==null?void 0:m.clientHeight)??0)+16))},[a]),o.useEffect(()=>{const e=document.body;e&&(a?e.classList.add("no-scroll"):e.classList.remove("no-scroll"))},[a]),C({ref:f,onClose:()=>d(!1)}),r("div",{className:t.mobileNavigation,ref:f,children:[r("div",{className:t.top,children:[c&&i("div",{className:t.actions,children:c}),i("div",{className:t.topInner,children:r(k,{initial:!1,exitBeforeEnter:!0,children:[!a&&i(u.button,{initial:{scale:.2},animate:{scale:a?0:1},exit:{scale:.2},onClick:()=>d(!0),className:t.menuButton,children:i(h,{className:t.menuIcon,icon:"icon-menu"})},"menu-btn"),a&&i(u.button,{initial:{scale:.2},animate:{scale:a?1:0},exit:{scale:.2},onClick:()=>d(!1),className:t.menuButton,children:i(h,{className:q(t.menuIcon,t.menuCloseIcon),icon:"icon-plus"})},"close-btn")]})})]}),i(u.nav,{className:t.content,initial:{x:"100vw"},animate:{x:a?"0":"100vw"},transition:{type:"tween"},style:{paddingTop:`${v}px`},children:r("div",{className:t.menuListWrapper,children:[i("ul",{className:t.menuList,children:n.map((e,m)=>{if(N(e))return i(y,{name:e.name,links:e.links,delay:m*.1,href:e.href},e.name);if(_(e))return i(y,{name:e.name,link:e,delay:m*.1},e.name)})}),l&&s&&I&&i("div",{className:t.signOut,children:i(S,{children:s,onClick:I,surface:"x",type:"button"})})]})}),i(k,{children:a&&i(u.div,{initial:{opacity:0},animate:{opacity:.75},exit:{opacity:0},className:t.backDrop})})]})},_=n=>n&&!N(n),N=n=>n&&"links"in n;try{L.displayName="MobileNavigation",L.__docgenInfo={description:"",displayName:"MobileNavigation",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(val: boolean) => void"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"(TNavLink | TNavCategory)[]"}},currentSlug:{defaultValue:null,description:"",name:"currentSlug",required:!0,type:{name:"string"}},initial:{defaultValue:null,description:"",name:"initial",required:!1,type:{name:"string"}},isAuthenticated:{defaultValue:null,description:"",name:"isAuthenticated",required:!1,type:{name:"boolean"}},signOutLabel:{defaultValue:null,description:"",name:"signOutLabel",required:!1,type:{name:"string"}},onSignOut:{defaultValue:null,description:"",name:"onSignOut",required:!1,type:{name:"(() => void)"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"Element"}}}}}catch{}const U=[{name:"Drycker",href:"#",openInNewTab:!0,links:[{name:"Öl",href:"#",links:[{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"}]},{name:"Vin",href:"#",links:[{name:"Alla viner",href:"#"},{name:"Alkoholfritt",href:"#"},{name:"Champagne",href:"#"},{name:"Glögg",href:"#"},{name:"Mousserande",href:"#"}]},{name:"Sprit",href:"#",links:[{name:"Brand och Cognac",href:"#"},{name:"Calvados",href:"#"},{name:"Gin",href:"#"},{name:"Grappa",href:"#"},{name:"Likör",href:"#"}]},{name:"Övrigt",href:"#",links:[{name:"Cider",href:"#"},{name:"Läsk",href:"#"},{name:"Vatten",href:"#"},{name:"FAB / Blanddryck",href:"#"},{name:"Energidryck",href:"#"},{name:"Fruktdryck",href:"#"},{name:"Mixers",href:"#"},{name:"Stilldrink / Juice",href:"#"},{name:"Övrigt",href:"#"}]}]},{name:"Tillbehör",href:"#",links:[{name:"Item 1",href:"#",subtitle:"Information",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Mitt Spendrups",href:"#mitt-spendrups",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{name:"Item 2",description:"Lorem.",href:"#item-2"},{name:"Item 3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-3"},{name:"Item 4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-4"}]},{name:"Item 2",href:"#",subtitle:"Lorem ipsum",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"},{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"}]},{name:"Item 3",href:"#"}]},{name:"Nyheter",href:"#",openInNewTab:!0},{name:"Kampanjer",href:"#",openInNewTab:!0}],Y={title:"Design System/Molecules/MobileNavigation",component:L,tags:["autodocs"],parameters:{padding:!1}},b={render:n=>{const[l,s]=o.useState(!1);return r(w,{children:[i(L,{...n,isOpen:l,setIsOpen:s}),";"]})},args:{currentSlug:"/",categories:U,isAuthenticated:!0,signOutLabel:"Logga ut",onSignOut:()=>alert("Logging out")}};var M,O,A;b.parameters={...b.parameters,docs:{...(M=b.parameters)==null?void 0:M.docs,source:{originalSource:`{
  render: args => {
    const [isOpen, setIsOpen] = useState(false);
    return <ContentWrapper>
        <MobileNavigation {...args} isOpen={isOpen} setIsOpen={setIsOpen} />;
      </ContentWrapper>;
  },
  args: {
    currentSlug: '/',
    categories,
    isAuthenticated: true,
    signOutLabel: 'Logga ut',
    onSignOut: () => alert('Logging out')
  }
}`,...(A=(O=b.parameters)==null?void 0:O.docs)==null?void 0:A.source}}};const Z=["DefaultMobileNavigation"],me=Object.freeze(Object.defineProperty({__proto__:null,DefaultMobileNavigation:b,__namedExportsOrder:Z,default:Y},Symbol.toStringTag,{value:"Module"}));export{b as D,L as M,me as m};
