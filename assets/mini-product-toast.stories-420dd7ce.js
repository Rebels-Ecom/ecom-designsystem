import{j as t,r as v}from"./jsx-runtime-03333307.js";import{c as p}from"./index-09749a66.js";import{g as I}from"./picture-helper-e0ae1ee4.js";import{f as P}from"./defaultFallbackImage-b43581a6.js";import{P as q}from"./picture-7d923a99.js";import{m as $}from"./hooks-0265167d.js";import{m as l}from"./motion-9380e2c6.js";import{I as L}from"./icon-button-876cd016.js";import{L as B}from"./loader-5c06d14e.js";import{Product_Card_Horizontal as g}from"./product-card-horizontal.stories-a1401d3f.js";import{B as h}from"./button-8e3f9b10.js";import"./react-responsive-c4f2314e.js";import"./tslib.es6-4d885d63.js";import"./ui-link-9ccf406a.js";import"./icon-cf6ebd85.js";import"./dummy-product-d82fa475.js";import"./product-card-d383dea3.js";import"./format-helper-a8a0bc10.js";import"./product-quantity-input-b87eabed.js";import"./input-text-0d02e73b.js";import"./form-helper-af1dc92c.js";import"./tags-list-dcc30c34.js";import"./tag-84e76236.js";import"./debounce-input-f51e0718.js";import"./generic-helper-87eaa4e8.js";import"./debounce-27b61785.js";import"./isSymbol-9d21be03.js";import"./flex-container-7aff6506.js";import"./icon-with-tooltip-a95bbda3.js";import"./index-9d35675b.js";import"./index-145cfc81.js";import"./index-821951ec.js";import"./useOnClickOutside-9d2c35bb.js";import"./carousel-68e34069.js";import"./component-with-tooltip-83375017.js";import"./placeholder-87f072f7.js";import"./alert-box-b46c872a.js";import"./text-1a10703e.js";import"./product-card-vertical-085e2b18.js";import"./product-variant-list-ec589865.js";import"./product-variant-ca4c6f61.js";import"./radio-button-a10aef08.js";import"./index-61679f6b.js";import"./button-with-tooltip-55b8a1cc.js";import"./product-card-restricted-65d8b93f.js";import"./button.module-a43725bf.js";const S="_miniProductToast_11hva_1",A="_notification_11hva_21",f={miniProductToast:S,notification:A},w="_productCardMini_1o28o_1",z="_picture_1o28o_12",E="_image_1o28o_20",U="_textContent_1o28o_29",H="_name_1o28o_33",O="_info_1o28o_42",a={productCardMini:w,picture:z,image:E,textContent:U,name:H,info:O},b=({product:i,imagePriority:e})=>{if(!i)return null;const{partNo:r,primaryImageUrl:o,productName:s,packaging:m,priceLabel:n,priceStr:c,currencyLabel:N,unitLabel:_,country:u,partNoLabel:T}=i,k=I(r,o,"120",void 0,e==null?void 0:e.loading,e==null?void 0:e.fetchPriority);return t.jsxs("div",{className:a.productCardMini,children:[t.jsx(q,{...k,classNamePicture:a.picture,classNameImg:a.image,fallbackImageUrl:P}),t.jsxs("div",{className:a.textContent,children:[t.jsx("h2",{className:p(a.name,"h5"),children:s}),m&&t.jsx("p",{className:p(a.info),children:m}),t.jsx("p",{className:p(a.info),children:`${n}: ${c?`${c} ${N??""}/${_?_.toLowerCase():""}`:""}`}),(u!==""||r!=="")&&t.jsx("p",{className:p(a.info),children:`${r?`${T} ${r}`:""} ${u&&`- ${u}`}`})]})]})};b.__docgenInfo={description:"",methods:[],displayName:"ProductCardMini",composes:["Pick"]};const x=({cartProducts:i=[],open:e,loading:r,notification:o})=>{var c;const{isMobile:s}=$(),m=i.length,n=i==null?void 0:i[m-1];return t.jsxs(l.div,{initial:s?{y:"-100%"}:{x:"100%"},animate:s?{y:e?0:"-100%"}:{x:e?0:"100%"},exit:s?{y:"-100%"}:{x:"100%"},transition:{duration:.2,ease:"easeIn"},className:f.miniProductToast,children:[t.jsxs(l.div,{className:f.notification,children:[((o==null?void 0:o.quantity)||(o==null?void 0:o.quantity)===0)&&t.jsx(L,{type:"button",notification:o.quantity,onClick:o.onClick,icon:"icon-shopping-cart",size:"medium",noBorder:!0,isTransparent:!0,className:f.cartIcon,disabled:r}),r&&t.jsx(B,{visible:!0,position:"relative",size:"xs"})]}),n!=null&&n.product?t.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.jsx(b,{...n})},(c=n==null?void 0:n.product)==null?void 0:c.partNo):null]})};x.__docgenInfo={description:"",methods:[],displayName:"MiniProductToast",props:{cartProducts:{required:!1,tsType:{name:"Array",elements:[{name:"IProductCardMini"}],raw:"Array<IProductCardMini>"},description:"",defaultValue:{value:"[]",computed:!1}},open:{required:!0,tsType:{name:"boolean"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},notification:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  quantity: number
  onClick: (data?: any) => void
}`,signature:{properties:[{key:"quantity",value:{name:"number",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"(data?: any) => void",signature:{arguments:[{type:{name:"any"},name:"data"}],return:{name:"void"}},required:!0}}]}},description:""}}};const At={title:"Design System/Molecules/MiniProductToast",component:x},y={...g.args,product:{...g.args.product,tags:[],productVariantList:[]},showFavoriteIcon:!1,showAddToPurchaseListIcon:!1,hidePrice:!0,hideCartButton:!0,hideRemoveButton:!0},R={render:({...i})=>{const[e,r]=v.useState([]);return t.jsxs("div",{style:{position:"relative"},children:[t.jsx(h,{type:"button",surface:"primary",children:"Toggle",onClick:()=>{if(e.length>0){r([]);return}r([y])}}),t.jsx(h,{type:"button",surface:"primary",children:"Add",onClick:()=>{r(o=>o==null?void 0:o.concat([{...y,product:{...y.product,productName:Math.ceil(Math.random()*100).toString()}}]))}}),t.jsx(x,{...i,open:!!e.length,cartProducts:e})]})}},d={...R,args:{loading:!1,notification:{quantity:1,onClick:()=>{alert("clicked notification")}}}};var j,C,M;d.parameters={...d.parameters,docs:{...(j=d.parameters)==null?void 0:j.docs,source:{originalSource:`{
  ...MiniProductToastStoryTemplate,
  args: {
    loading: false,
    notification: {
      quantity: 1,
      onClick: () => {
        alert('clicked notification');
      }
    }
  }
}`,...(M=(C=d.parameters)==null?void 0:C.docs)==null?void 0:M.source}}};const wt=["MiniProductToastStory"];export{d as MiniProductToastStory,wt as __namedExportsOrder,At as default};
