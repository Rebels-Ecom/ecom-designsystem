import{j as e,r as z}from"./jsx-runtime-03333307.js";import{f as fe}from"./defaultFallbackImage-b43581a6.js";import{c as pe}from"./format-helper-580ef2bc.js";import{g as Je}from"./picture-helper-dd6bd3b8.js";import{c as s}from"./index-09749a66.js";import{P as Ke}from"./product-quantity-input-16f4e0c1.js";import{T as Xe}from"./tags-list-30883e29.js";import{D as Ye}from"./debounce-input-b07add8b.js";import{u as ze}from"./useOnClickOutside-9d2c35bb.js";import{m as We}from"./motion-9380e2c6.js";import{C as Ze,a as er}from"./carousel-c1935f6a.js";import{m as rr}from"./hooks-0265167d.js";import{F as ye}from"./flex-container-7aff6506.js";import{I as Ce}from"./icon-with-tooltip-bfa653e5.js";import{I as je}from"./icon-a32914e5.js";import{I as Q}from"./icon-button-aa68e962.js";import{C as H}from"./component-with-tooltip-5f7975e6.js";import{P as J}from"./placeholder-3cf73146.js";import{P as Ne}from"./picture-6b702374.js";import{B as ke}from"./button-856a03f5.js";import{A as nr}from"./alert-box-ef10dec6.js";import{P as ar}from"./product-card-restricted-154b410f.js";import{P as tr}from"./product-card-vertical-2e4eeed6.js";const ir="_horizontalVariants_1o2ln_1",sr="_closeVariantsIcon_1o2ln_10",or="_carousel_1o2ln_16",lr="_carouselTrack_1o2ln_19",cr="_list_1o2ln_24",dr="_listItem_1o2ln_33",ur="_variantPicture_1o2ln_40",ge={horizontalVariants:ir,closeVariantsIcon:sr,carousel:or,carouselTrack:lr,list:cr,listItem:dr,variantPicture:ur},mr="_horizontalVariant_1mcgp_1",pr="_selected_1mcgp_21",gr="_topRow_1mcgp_25",yr="_mainContent_1mcgp_30",fr="_imageWrapper_1mcgp_37",xr="_picture_1mcgp_41",hr="_image_1mcgp_37",_r="_contentWrapper_1mcgp_52",qr="_heading_1mcgp_57",Tr="_partNo_1mcgp_58",br="_price_1mcgp_59",vr="_selectedIcon_1mcgp_79",p={horizontalVariant:mr,selected:pr,topRow:gr,mainContent:yr,imageWrapper:fr,picture:xr,image:hr,contentWrapper:_r,heading:qr,partNo:Tr,price:br,selectedIcon:vr},$e=({checked:o,onClick:t,variantId:g,sellerOnly:b,sellerOnlyTooltipText:j,image:h,isRestrictedUser:y,variantName:d,partNoLabel:_,priceStr:v,currencyLabel:i,unitLabel:q})=>e.jsxs("button",{className:s(p.horizontalVariant,{[p.selected]:o}),onClick:()=>t==null?void 0:t(g),children:[e.jsx(ye,{stretch:!0,justifyContent:"flex-end",alignItems:"center",className:p.topRow,children:b&&e.jsx(e.Fragment,{children:j?e.jsx(Ce,{content:j,icon:{icon:"icon-eye"}}):e.jsx(je,{icon:"icon-eye",size:"large"})})}),e.jsxs("div",{className:p.mainContent,children:[e.jsxs("div",{className:p.imageWrapper,children:[e.jsx(Ne,{...h,classNamePicture:p.picture,classNameImg:`${p.image}`,fallbackImageUrl:fe})," "]}),e.jsxs("div",{className:`${p.contentWrapper}`,children:[e.jsx("p",{className:p.heading,children:d}),!y&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:p.partNo,children:`${_} ${g}`}),e.jsx("p",{className:p.price,children:`${v} ${i}/${q}`})]})]})]}),o&&e.jsx(je,{icon:"icon-check",className:p.selectedIcon})]});$e.__docgenInfo={description:"",methods:[],displayName:"HorizontalVariant",props:{productName:{required:!0,tsType:{name:"string"},description:""},variantName:{required:!0,tsType:{name:"string"},description:""},variantId:{required:!0,tsType:{name:"string"},description:""},country:{required:!0,tsType:{name:"string"},description:""},priceStr:{required:!0,tsType:{name:"string"},description:""},salesUnit:{required:!0,tsType:{name:"string"},description:""},itemNumberPerSalesUnit:{required:!0,tsType:{name:"number"},description:""},sellerOnly:{required:!0,tsType:{name:"boolean"},description:""},image:{required:!0,tsType:{name:"IPicture"},description:""},onChange:{required:!0,tsType:{name:"CallableFunction"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(partNo: string) => void",signature:{arguments:[{type:{name:"string"},name:"partNo"}],return:{name:"void"}}},description:""},checked:{required:!0,tsType:{name:"boolean"},description:""},partNoLabel:{required:!0,tsType:{name:"string"},description:""},unitLabel:{required:!0,tsType:{name:"string"},description:""},currencyLabel:{required:!0,tsType:{name:"string"},description:""},sellerOnlyTooltipText:{required:!1,tsType:{name:"string"},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},outOfStock:{required:!1,tsType:{name:"boolean"},description:""},isAccessoryPotItem:{required:!1,tsType:{name:"boolean"},description:""},tags:{required:!1,tsType:{name:"Array",elements:[{name:"ITag"}],raw:"Array<ITag>"},description:""}}};const Pr="_productCardHorizontal_2a8xn_1",Ir="_border_2a8xn_16",kr="_specialCard_2a8xn_22",Cr="_box_2a8xn_28",jr="_noRemoveButton_2a8xn_39",Nr="_iconLink_2a8xn_44",Fr="_campaign_2a8xn_49",Sr="_limitedProduct_2a8xn_63",wr="_outOfStockProduct_2a8xn_73",Or="_picture_2a8xn_83",Br="_smallPicture_2a8xn_94",zr="_image_2a8xn_101",Wr="_smallImage_2a8xn_114",$r="_content_2a8xn_121",Ar="_mainLink_2a8xn_131",Ur="_heading_2a8xn_140",Lr="_extraPadding_2a8xn_147",Rr="_cardInfoWrapper_2a8xn_156",Hr="_alertBox_2a8xn_169",Vr="_packaging_2a8xn_177",Dr="_priceText_2a8xn_178",Er="_partNo_2a8xn_179",Gr="_buttonsWrapper_2a8xn_201",Mr="_productCardBtn_2a8xn_216",Qr="_cartBtnIcon_2a8xn_220",Jr="_favoriteIconActive_2a8xn_229",Kr="_imageWrapper_2a8xn_234",Xr="_imageWrapperPlaceholder_2a8xn_238",Yr="_placeholderContent_2a8xn_244",Zr="_standardIcon_2a8xn_248",en="_alertBoxButton_2a8xn_261",rn="_alertBoxWrapper_2a8xn_265",r={productCardHorizontal:Pr,border:Ir,specialCard:kr,box:Cr,noRemoveButton:jr,iconLink:Nr,campaign:Fr,limitedProduct:Sr,outOfStockProduct:wr,picture:Or,smallPicture:Br,image:zr,smallImage:Wr,content:$r,mainLink:Ar,heading:Ur,extraPadding:Lr,cardInfoWrapper:Rr,alertBox:Hr,packaging:Vr,priceText:Dr,partNo:Er,buttonsWrapper:Gr,productCardBtn:Mr,cartBtnIcon:Qr,favoriteIconActive:Jr,imageWrapper:Kr,imageWrapperPlaceholder:Xr,placeholderContent:Yr,standardIcon:Zr,alertBoxButton:en,alertBoxWrapper:rn},Ae=({product:o,loading:t=!1,addToCart:g,addToCartBtnLabel:b,hideCartButton:j,hidePrice:h,onClickRemoveProduct:y,hideRemoveButton:d,onChangeQuantity:_,productQuantityDisabled:v,linkComponent:i,className:q="",defaultQuantity:f,buttonLoading:V,disabled:K,displaySmallImage:W=!1,showAddToPurchaseListIcon:X,onSaveToPurchaseListClick:D,maxQuantity:E,isRestrictedUser:F,alertBox:P,onClick:Y,debounceQuantityVal:Z,productArea:ee,onVariantsButtonClick:S,variantsOpen:re,onCloseVariants:xe,selectedVariantId:ne,handlePackageChange:ae,productImage:I,showPackaging:he=!1,favoriteProductsIds:G,showFavoriteIcon:te,onFavoriteIconClick:w,tooltips:n,isAddingToFavorites:ie,allowNegative:se})=>{var Be;const oe=z.useRef(null),{isMobile:l}=rr(),{activeCampaign:u,campaignTitle:k="",partNo:m,partNoLabel:le,productName:ce,productUrl:T,tags:c,isLimitedProduct:$,country:A,priceStr:C,totalPrice:U,quantity:L,outOfStock:M,salesUnit:de,itemNumberPerSalesUnit:R,priceLabel:a,currencyLabel:x,unitLabel:ue,outOfStockLabel:N,limitedLabel:_e,sellerOnly:Fe,isAccessoryPotItem:Se,pricePerUnit:qe,aLabel:Le,productVariantList:O,packaging:we}=o,[Re,Oe]=z.useState(!1);function He(B){y&&y(B)}function Ve(B){const Qe=parseInt(B.target.value)||0;_&&_(Qe)}function De(B){_&&_(parseInt(B))}function Ee(B){return!G||G.length===0?!1:G.includes(B)}const Ge={"--campaign-color":(u==null?void 0:u.color)??"#FFF","--limited-product-color":$&&_e?"#F08A00":"#FFF","--out-of-stock-product-color":M&&N?"#e4b6c3":"#FFF"},Te=Fe||Se||!!(c!=null&&c.length),me=Ee(m),be=u==null?void 0:u.title,ve=!!(!u&&$&&_e),Pe=!!(!u&&M&&N),Ie=be||ve||Pe,Me=e.jsxs(ye,{alignItems:"center",gap:.5,minHeight:Te?2.25:0,stretch:!0,children:[Fe&&e.jsx(e.Fragment,{children:n!=null&&n.sellerOnly?e.jsx(Ce,{content:n.sellerOnly,icon:{icon:"icon-eye"}}):e.jsx(je,{icon:"icon-eye",size:"large"})}),Se&&e.jsx(e.Fragment,{children:n!=null&&n.accessoryPotItem?e.jsx(Ce,{content:n.accessoryPotItem,text:"S"}):e.jsx("span",{className:r.standardIcon,children:"S"})}),Array.isArray(c)&&c.length?e.jsx(Xe,{tagsList:c}):null,!d&&y&&e.jsx("div",{className:r.iconLink,children:e.jsx(Q,{className:r.iconBtn,type:"button",icon:"icon-x-circle",onClick:()=>He(m),isTransparent:!0,noBorder:!0,noPadding:!0,size:"large",name:"Remove product"})})]});return ze({ref:oe,onClose:()=>Oe(!1)}),e.jsxs("div",{className:s(r.productCardHorizontal,q,{[r.specialCard]:Ie&&!t,[r.campaign]:be&&!t,[r.limitedProduct]:ve&&!t,[r.outOfStockProduct]:Pe&&!t}),style:Ge,children:[!M&&be&&!t&&e.jsx("div",{className:s(r.box,{[r.noRemoveButton]:d}),children:u.title}),ve&&!t&&e.jsx("div",{className:s(r.box,{[r.noRemoveButton]:d}),children:_e}),Pe&&!t&&e.jsxs(e.Fragment,{children:[(n==null?void 0:n.stockShortage)&&e.jsx(H,{content:n.stockShortage,element:e.jsx("div",{children:N}),wrapperClassName:s(r.box,{[r.noRemoveButton]:d})}),(n==null?void 0:n.outOfStock)&&e.jsx(H,{content:n.outOfStock,element:e.jsx("div",{children:N}),wrapperClassName:s(r.box,{[r.noRemoveButton]:d})}),!(n!=null&&n.stockShortage)&&!(n!=null&&n.outOfStock)&&e.jsx("div",{className:s(r.box,{[r.noRemoveButton]:d}),children:N})]}),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:s(r.imageWrapper,r.imageWrapperPlaceholder),children:e.jsx(J,{type:"image"})}),e.jsxs("div",{className:r.placeholderContent,children:[e.jsx(J,{type:"heading"}),e.jsx(J,{type:"p_long"}),e.jsx(J,{type:"p_short"}),e.jsx(J,{type:"p_short"})]})]}):e.jsxs(e.Fragment,{children:[T&&i?e.jsx(i,{to:T,href:T,className:r.imageWrapper,onClick:Y,children:e.jsx(Ne,{...I,classNamePicture:s(r.picture,W&&r.smallPicture),classNameImg:s(r.image,W&&r.smallImage),fallbackImageUrl:fe})}):e.jsx("div",{className:r.imageWrapper,children:e.jsx(Ne,{...I,classNamePicture:s(r.picture,W&&r.smallPicture),classNameImg:s(r.image,W&&r.smallImage),fallbackImageUrl:fe})}),e.jsxs(ye,{flexDirection:"column",className:r.content,gap:.25,children:[Me,T&&i?e.jsx(i,{to:T,href:T,className:r.mainLink,onClick:Y,children:e.jsx("h2",{className:s(r.heading,"h5",{[r.extraPadding]:!Te&&!d&&!Ie}),children:ce})}):e.jsx("h2",{className:s(r.heading,"h5",{[r.extraPadding]:!Te&&!d&&!Ie}),children:ce}),e.jsxs("div",{className:r.cardInfoWrapper,children:[e.jsxs("div",{children:[he&&we&&e.jsx("p",{className:s(r.packaging,"bodyS"),children:we}),!h&&!F&&e.jsx("p",{className:s(r.priceText,"bodyS"),children:`${a}: ${C?`${C} ${x??""}/${ue?ue.toLowerCase():""}`:""}`}),(A!==""||m!=="")&&!F&&e.jsx("p",{className:s(r.partNo,"bodyS"),children:`${m?`${le} ${m}`:""} ${A&&`- ${A}`}`}),!F&&e.jsx(e.Fragment,{children:Z?e.jsx(Ye,{debounceVal:Z,debouncedEvent:De,salesUnit:de,itemNumberPerSalesUnit:R,totalPrice:U,quantity:f??L,quantityInputId:`${m}-${ee}`,maxQuantity:E,disabled:v,hidePrice:h,pricePerUnitText:`${Le} ${(Be=qe==null?void 0:qe.toFixed(2))==null?void 0:Be.replace(".",",")} ${x}`,isGift:k==="GÃ¥va"}):e.jsx(Ke,{className:r.quantityInput,salesUnit:de,itemNumberPerSalesUnit:R,totalPrice:U,quantity:f??L,quantityInputId:`${m}-${ee}`,onChange:Ve,disabled:v,maxQuantity:E,hidePrice:h,allowNegative:se})})]}),e.jsxs("div",{className:r.buttonsWrapper,children:[(!!(O!=null&&O.length)||X&&D||te&&w)&&e.jsxs(ye,{gap:.5,justifyContent:"flex-end",alignItems:"center",children:[(O==null?void 0:O.length)>1&&e.jsx(H,{content:n==null?void 0:n.changeVariant,element:e.jsx(Q,{type:"button",icon:"icon-layers",onClick:()=>S==null?void 0:S(),noBorder:!0,isTransparent:!0,size:"medium",noPadding:!0,name:"Open variants list"})}),X&&D&&e.jsx(H,{content:n==null?void 0:n.addToPurchaseList,element:e.jsx(Q,{type:"button",icon:"icon-file-plus",onClick:()=>D(m,U),noBorder:!0,isTransparent:!0,size:"medium",noPadding:!0,name:"Add to purchase list"})}),te&&w&&e.jsx(H,{content:me?n==null?void 0:n.removeFromFavorites:n==null?void 0:n.addToFavorites,element:e.jsx(Q,{type:"button",icon:me?"icon-heart1":"icon-heart-o",onClick:()=>w(m,me,U),noBorder:!0,isTransparent:!0,name:"Add to favorite list",className:me?r.favoriteIconActive:void 0,size:"medium",noPadding:!0,animate:ie?"loading":"default"})}),P&&e.jsx(e.Fragment,{children:l?e.jsx(ke,{type:"button",onClick:()=>Oe(!0),className:r.alertBoxButton,children:P.buttonText??"Byt produkt",surface:"primary",iconRight:{icon:"icon-alert-circle",color:"error"},size:"x-small"}):e.jsx(H,{content:P.title,element:e.jsx(ke,{type:"button",onClick:P.onClick,className:r.alertBoxButton,children:P.buttonText??"Byt produkt",surface:"primary",iconRight:{icon:"icon-alert-circle",color:"error"},size:"x-small"})})})]}),!j&&e.jsx(e.Fragment,{children:F?e.jsx(ke,{type:"button",onClick:()=>g(o),surface:"primary",disabled:V||t||K||L<="0",name:b,children:b}):e.jsx(Q,{type:"button",icon:"icon-shopping-cart",onClick:()=>g(o),surface:"primary",noBorder:!0,disabled:V||t||K||L<="0",name:b,size:"medium"})})]})]})]})]}),ne&&e.jsx(Ue,{open:re,variantsList:O,onVariantSelect:ae,onCloseVariants:xe,selectedVariantId:ne,sellerOnlyTooltipText:n==null?void 0:n.sellerOnly}),P&&l&&e.jsx(We.div,{ref:oe,className:r.alertBoxWrapper,initial:{y:"100%"},animate:Re?{y:"0%"}:{y:"100%"},exit:{y:"100%"},transition:{type:"tween",duration:.3,ease:[.4,0,.2,1]},children:e.jsx(nr,{className:r.alertBox,...P})})]})};Ae.__docgenInfo={description:"",methods:[],displayName:"ProductCardHorizontal",props:{productImage:{required:!0,tsType:{name:"IPicture"},description:""},cardDisplay:{required:!0,tsType:{name:"literal",value:"'horizontal'"},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},product:{required:!0,tsType:{name:"IProduct"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},buttonLoading:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},hidePrice:{required:!1,tsType:{name:"boolean"},description:""},addToCart:{required:!0,tsType:{name:"CallableFunction"},description:""},addToCartBtnLabel:{required:!0,tsType:{name:"string"},description:""},hideCartButton:{required:!1,tsType:{name:"boolean"},description:""},onChangeQuantity:{required:!1,tsType:{name:"CallableFunction"},description:""},productQuantityDisabled:{required:!1,tsType:{name:"boolean"},description:""},defaultQuantity:{required:!1,tsType:{name:"string"},description:`Sets a custom default quantity to start from
@default 0`},onRemoveProduct:{required:!1,tsType:{name:"CallableFunction"},description:""},hideRemoveButton:{required:!1,tsType:{name:"boolean"},description:""},showFavoriteIcon:{required:!1,tsType:{name:"boolean"},description:""},favoriteProductsIds:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:""},onFavoriteIconClick:{required:!1,tsType:{name:"CallableFunction"},description:""},isAddingToFavorites:{required:!1,tsType:{name:"boolean"},description:""},showAddToPurchaseListIcon:{required:!1,tsType:{name:"boolean"},description:""},onSaveToPurchaseListClick:{required:!1,tsType:{name:"CallableFunction"},description:""},border:{required:!1,tsType:{name:"boolean"},description:""},displaySmallImage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},linkComponent:{required:!1,tsType:{name:"any"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},maxQuantity:{required:!1,tsType:{name:"number"},description:""},alertBox:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  title: string
  buttonText?: string
  color?: TBoxColor
  className?: string
  onClick?: () => void
  loading?: boolean
  minHeight?: boolean
}`,signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"buttonText",value:{name:"string",required:!1}},{key:"color",value:{name:"union",raw:"'error' | 'warning' | 'information'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'information'"}],required:!1}},{key:"className",value:{name:"string",required:!1}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!1}},{key:"loading",value:{name:"boolean",required:!1}},{key:"minHeight",value:{name:"boolean",required:!1}}]}},description:""},onClick:{required:!1,tsType:{name:"CallableFunction"},description:""},debounceQuantityVal:{required:!1,tsType:{name:"number"},description:""},productArea:{required:!1,tsType:{name:"union",raw:"'category' | 'recommended' | 'details' | 'cart' | 'inspiration'",elements:[{name:"literal",value:"'category'"},{name:"literal",value:"'recommended'"},{name:"literal",value:"'details'"},{name:"literal",value:"'cart'"},{name:"literal",value:"'inspiration'"}]},description:""},imagePriority:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  fetchPriority: 'auto' | 'high' | 'low'
  loading: 'eager' | 'lazy'
}`,signature:{properties:[{key:"fetchPriority",value:{name:"union",raw:"'auto' | 'high' | 'low'",elements:[{name:"literal",value:"'auto'"},{name:"literal",value:"'high'"},{name:"literal",value:"'low'"}],required:!0}},{key:"loading",value:{name:"union",raw:"'eager' | 'lazy'",elements:[{name:"literal",value:"'eager'"},{name:"literal",value:"'lazy'"}],required:!0}}]}},description:""},variantsOpen:{required:!1,tsType:{name:"boolean"},description:""},handlePackageChange:{required:!0,tsType:{name:"CallableFunction"},description:""},selectedVariantId:{required:!1,tsType:{name:"string"},description:""},onVariantsButtonClick:{required:!0,tsType:{name:"CallableFunction"},description:""},onVariantChange:{required:!1,tsType:{name:"CallableFunction"},description:""},onCloseVariants:{required:!0,tsType:{name:"CallableFunction"},description:""},tooltips:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  addToFavorites?: string
  removeFromFavorites?: string
  addToPurchaseList?: string
  changeVariant?: string
  sellerOnly?: string
  accessoryPotItem?: string
  stockShortage?: string
  outOfStock?: string
}`,signature:{properties:[{key:"addToFavorites",value:{name:"string",required:!1}},{key:"removeFromFavorites",value:{name:"string",required:!1}},{key:"addToPurchaseList",value:{name:"string",required:!1}},{key:"changeVariant",value:{name:"string",required:!1}},{key:"sellerOnly",value:{name:"string",required:!1}},{key:"accessoryPotItem",value:{name:"string",required:!1}},{key:"stockShortage",value:{name:"string",required:!1}},{key:"outOfStock",value:{name:"string",required:!1}}]}},description:""},allowNegative:{required:!1,tsType:{name:"boolean"},description:""},onClickRemoveProduct:{required:!1,tsType:{name:"CallableFunction"},description:""},removingProduct:{required:!1,tsType:{name:"boolean"},description:""},showPackaging:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onButtonClick:{required:!1,tsType:{name:"never"},description:""}}};function nn({cardDisplay:o,isRestrictedUser:t,product:g,loading:b,buttonLoading:j,disabled:h,addToCart:y,addToCartBtnLabel:d,hideCartButton:_,hidePrice:v,onChangeQuantity:i,productQuantityDisabled:q,defaultQuantity:f,onRemoveProduct:V,hideRemoveButton:K,showFavoriteIcon:W,favoriteProductsIds:X,onFavoriteIconClick:D,showAddToPurchaseListIcon:E,onSaveToPurchaseListClick:F,border:P,displaySmallImage:Y,linkComponent:Z,className:ee,maxQuantity:S,alertBox:re,onClick:xe,debounceQuantityVal:ne,productArea:ae,imagePriority:I,showPackaging:he,tooltips:G,isAddingToFavorites:te,onVariantsButtonClick:w,onVariantChange:n,allowNegative:ie}){if(!o)throw new Error("cardDisplay must be assigned");const{partNo:se,primaryImageUrl:oe,pricePerUnit:l,itemNumberPerSalesUnit:u,quantity:k,priceStr:m,activeCampaign:le}=g,[ce,T]=z.useState(!1),[c,$]=z.useState({...g,productImage:Je(se,oe,"120",void 0,I==null?void 0:I.loading,I==null?void 0:I.fetchPriority),quantity:C(k),pricePerUnit:l&&isFinite(l)?l:0,totalPrice:pe((l&&isFinite(l)?l:0)*u*(f??C(k)?parseInt(f??C(k)):0)),selectedVariantId:se});z.useEffect(()=>{$(a=>({...a,quantity:C(k),priceStr:m,pricePerUnit:l&&isFinite(l)?l:0,totalPrice:pe((l&&isFinite(l)?l:0)*u*(f??C(k)?parseInt(f??C(k)):0)),activeCampaign:le}))},[k,m,l,le]);function A(a){if(S&&a>S)return;const x={...c,quantity:a.toString(),totalPrice:pe(c.pricePerUnit*c.itemNumberPerSalesUnit*a)};i?i(x):$(x)}function C(a){const x=parseInt(a);return!a||isNaN(x)?"1":x<0&&!ie?"0":a}function U(){T(!0),w==null||w()}function L(){T(!1)}function M(a){V&&V(a)}function de(a){const x=c.partNo===a.variantId?parseInt(c.quantity):1;$(ue=>{const N={...ue,partNo:a.variantId,productImage:a.image??fe,packaging:a.variantName,price:a.price,priceStr:a.priceStr,pricePerUnit:a.pricePerUnit&&isFinite(a.pricePerUnit)?a.pricePerUnit:0,pricePerUnitString:a.pricePerUnitString,salesUnit:a.salesUnit,itemNumberPerSalesUnit:a.itemNumberPerSalesUnit,totalPrice:pe(a.price*a.itemNumberPerSalesUnit*x),quantity:x.toString(),selectedVariantId:a.variantId,sellerOnly:a.sellerOnly,activeCampaign:a.activeCampaign,productUrl:`/Product/${a.variantId}`,outOfStock:a.outOfStock,isAccessoryPotItem:a==null?void 0:a.isAccessoryPotItem,tags:a==null?void 0:a.tags};return n==null||n(N),N}),T(!1)}const R={product:c,loading:b,buttonLoading:j,disabled:h,addToCart:y,addToCartBtnLabel:d,hideCartButton:_,hidePrice:v,linkComponent:Z,className:ee,onClick:xe,productImage:c.productImage,variantsOpen:ce,onVariantsButtonClick:U,handlePackageChange:de,selectedVariantId:c.selectedVariantId,onCloseVariants:L,tooltips:G,showFavoriteIcon:W,favoriteProductsIds:X,onFavoriteIconClick:D,isAddingToFavorites:te,allowNegative:ie};return o==="horizontal"?e.jsx(Ae,{...R,isRestrictedUser:t,cardDisplay:"horizontal",onChangeQuantity:A,productQuantityDisabled:q,defaultQuantity:f,onClickRemoveProduct:M,hideRemoveButton:K,showAddToPurchaseListIcon:E,onSaveToPurchaseListClick:F,border:P,displaySmallImage:Y,maxQuantity:S,alertBox:re,debounceQuantityVal:ne,productArea:ae,showPackaging:he}):o==="vertical"?t?e.jsx(ar,{cardDisplay:"vertical",...R}):e.jsx(tr,{cardDisplay:"vertical",...R,onChangeQuantity:A,productQuantityDisabled:q,defaultQuantity:f,showAddToPurchaseListIcon:E,onSaveToPurchaseListClick:F,alertBox:re,productArea:ae}):null}nn.__docgenInfo={description:"",methods:[],displayName:"ProductCard",props:{productImage:{required:!0,tsType:{name:"IPicture"},description:""},cardDisplay:{required:!0,tsType:{name:"union",raw:"'vertical' | 'horizontal'",elements:[{name:"literal",value:"'vertical'"},{name:"literal",value:"'horizontal'"}]},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},product:{required:!0,tsType:{name:"IProduct"},description:""},loading:{required:!0,tsType:{name:"boolean"},description:""},buttonLoading:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},hidePrice:{required:!1,tsType:{name:"boolean"},description:""},addToCart:{required:!0,tsType:{name:"CallableFunction"},description:""},addToCartBtnLabel:{required:!0,tsType:{name:"string"},description:""},hideCartButton:{required:!1,tsType:{name:"boolean"},description:""},onChangeQuantity:{required:!1,tsType:{name:"CallableFunction"},description:""},productQuantityDisabled:{required:!1,tsType:{name:"boolean"},description:""},defaultQuantity:{required:!1,tsType:{name:"string"},description:`Sets a custom default quantity to start from
@default 0`},onRemoveProduct:{required:!1,tsType:{name:"CallableFunction"},description:""},hideRemoveButton:{required:!1,tsType:{name:"boolean"},description:""},showFavoriteIcon:{required:!1,tsType:{name:"boolean"},description:""},favoriteProductsIds:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:""},onFavoriteIconClick:{required:!1,tsType:{name:"CallableFunction"},description:""},isAddingToFavorites:{required:!1,tsType:{name:"boolean"},description:""},showAddToPurchaseListIcon:{required:!1,tsType:{name:"boolean"},description:""},onSaveToPurchaseListClick:{required:!1,tsType:{name:"CallableFunction"},description:""},border:{required:!1,tsType:{name:"boolean"},description:""},displaySmallImage:{required:!1,tsType:{name:"boolean"},description:""},linkComponent:{required:!1,tsType:{name:"any"},description:""},className:{required:!1,tsType:{name:"string"},description:""},maxQuantity:{required:!1,tsType:{name:"number"},description:""},alertBox:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  title: string
  buttonText?: string
  color?: TBoxColor
  className?: string
  onClick?: () => void
  loading?: boolean
  minHeight?: boolean
}`,signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"buttonText",value:{name:"string",required:!1}},{key:"color",value:{name:"union",raw:"'error' | 'warning' | 'information'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'information'"}],required:!1}},{key:"className",value:{name:"string",required:!1}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!1}},{key:"loading",value:{name:"boolean",required:!1}},{key:"minHeight",value:{name:"boolean",required:!1}}]}},description:""},onClick:{required:!1,tsType:{name:"CallableFunction"},description:""},debounceQuantityVal:{required:!1,tsType:{name:"number"},description:""},productArea:{required:!1,tsType:{name:"union",raw:"'category' | 'recommended' | 'details' | 'cart' | 'inspiration'",elements:[{name:"literal",value:"'category'"},{name:"literal",value:"'recommended'"},{name:"literal",value:"'details'"},{name:"literal",value:"'cart'"},{name:"literal",value:"'inspiration'"}]},description:""},imagePriority:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  fetchPriority: 'auto' | 'high' | 'low'
  loading: 'eager' | 'lazy'
}`,signature:{properties:[{key:"fetchPriority",value:{name:"union",raw:"'auto' | 'high' | 'low'",elements:[{name:"literal",value:"'auto'"},{name:"literal",value:"'high'"},{name:"literal",value:"'low'"}],required:!0}},{key:"loading",value:{name:"union",raw:"'eager' | 'lazy'",elements:[{name:"literal",value:"'eager'"},{name:"literal",value:"'lazy'"}],required:!0}}]}},description:""},variantsOpen:{required:!1,tsType:{name:"boolean"},description:""},handlePackageChange:{required:!0,tsType:{name:"CallableFunction"},description:""},selectedVariantId:{required:!1,tsType:{name:"string"},description:""},onVariantsButtonClick:{required:!0,tsType:{name:"CallableFunction"},description:""},onVariantChange:{required:!1,tsType:{name:"CallableFunction"},description:""},onCloseVariants:{required:!0,tsType:{name:"CallableFunction"},description:""},tooltips:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  addToFavorites?: string
  removeFromFavorites?: string
  addToPurchaseList?: string
  changeVariant?: string
  sellerOnly?: string
  accessoryPotItem?: string
  stockShortage?: string
  outOfStock?: string
}`,signature:{properties:[{key:"addToFavorites",value:{name:"string",required:!1}},{key:"removeFromFavorites",value:{name:"string",required:!1}},{key:"addToPurchaseList",value:{name:"string",required:!1}},{key:"changeVariant",value:{name:"string",required:!1}},{key:"sellerOnly",value:{name:"string",required:!1}},{key:"accessoryPotItem",value:{name:"string",required:!1}},{key:"stockShortage",value:{name:"string",required:!1}},{key:"outOfStock",value:{name:"string",required:!1}}]}},description:""},allowNegative:{required:!1,tsType:{name:"boolean"},description:""}}};const Ue=({variantsList:o,onCloseVariants:t,open:g,onVariantSelect:b,selectedVariantId:j})=>{var v;const h=z.useRef(null),[y,d]=z.useState(j);function _(i){d(i);const q=o.find(f=>f.variantId===i);b(q,o)}return ze({ref:h,onClose:t}),e.jsx(We.div,{ref:h,className:s(ge.horizontalVariants,{[ge.open]:g}),initial:{y:"100%"},animate:g?{y:"0%"}:{y:"100%"},exit:{y:"100%"},transition:{type:"tween",duration:.3,ease:[.4,0,.2,1]},children:e.jsx(Ze,{className:ge.carousel,noGrid:!0,trackClassName:ge.carouselTrack,splideProps:{options:{gap:"0.25rem"}},zeroOffset:!0,breakpoints:{md:{perPage:2,perMove:2},lg:{perPage:2,perMove:2}},children:(v=o==null?void 0:o.sort((i,q)=>+(q.variantId===y)-+(i.variantId===y)))==null?void 0:v.map(i=>e.jsx(er,{children:e.jsx($e,{...i,checked:i.variantId===y,onClick:_})},i.variantId))})})};Ue.__docgenInfo={description:"",methods:[],displayName:"HorizontalVariants",props:{className:{required:!1,tsType:{name:"string"},description:""},variantsList:{required:!0,tsType:{name:"Array",elements:[{name:"IProductVariant"}],raw:"Array<IProductVariant>"},description:""},onVariantSelect:{required:!0,tsType:{name:"CallableFunction"},description:""},selectedVariantId:{required:!0,tsType:{name:"string"},description:""},sellerOnlyTooltipText:{required:!1,tsType:{name:"string"},description:""},onCloseVariants:{required:!0,tsType:{name:"CallableFunction"},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},absolutePositioned:{required:!1,tsType:{name:"boolean"},description:""},open:{required:!1,tsType:{name:"boolean"},description:""},hideBottomBtn:{required:!1,tsType:{name:"boolean"},description:""}}};export{nn as P};
