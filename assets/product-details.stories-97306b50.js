import{r as A}from"./index-6f814c40.js";import{P as le}from"./product-quantity-input-0c8d0bb8.js";import{B as x}from"./button-90dd05d4.js";import{c as y}from"./format-helper-6b4b1091.js";import{P as ce}from"./product-variant-list-3526e7c6.js";import{g as v}from"./picture-helper-86177d87.js";import{c as d}from"./index-74f03c09.js";import{P as k}from"./picture-1385f78c.js";import{T as oe}from"./tag-cf40f1b7.js";import{A as h,B as E}from"./below-1d00122a.js";import{f as S}from"./defaultFallbackImage-b43581a6.js";import{j as u,a as n}from"./jsx-runtime-76c5c2e2.js";import{L as q}from"./loading-bars-09aff8ec.js";import{ChangePackagingButtonStory as I,ButtonProductCardStory as f}from"./button.stories-8e6d0d0d.js";import{d as ue,a as de}from"./dummy-product-details-fd02879d.js";const ge="_productDetails_5o8ci_1",me="_imageOuterWrapper_5o8ci_16",pe="_loadingBars_5o8ci_28",Pe="_imageWrapper_5o8ci_37",Se="_variantsListOpen_5o8ci_60",ye="_tagsList_5o8ci_67",Ue="_quantityInput_5o8ci_96",Ie="_contentWrapper_5o8ci_101",fe="_productVariants_5o8ci_118",Ve="_heading_5o8ci_132",be="_specsText_5o8ci_138",Ne="_textPurple_5o8ci_142",he="_cardPicture_5o8ci_148",Te="_cardImage_5o8ci_160",Le="_btn_5o8ci_174",r={productDetails:ge,imageOuterWrapper:me,loadingBars:pe,imageWrapper:Pe,variantsListOpen:Se,tagsList:ye,quantityInput:Ue,contentWrapper:Ie,productVariants:fe,heading:Ve,specsText:be,textPurple:Ne,cardPicture:he,cardImage:Te,btn:Le},U=({productId:a,productName:t,productImageUrl:c,packaging:l,priceStr:J,price:L,salesUnit:X,itemNumberPerSalesUnit:C,tags:$e,productVariantList:Y,productDetail:i,changePackagingButton:Z,addToCartButton:ee,addToCart:te,className:Re})=>{const[s,_]=A.useState({productId:a,productName:t,productImage:v(a,c||S),packaging:l,priceStr:J,price:L,salesUnit:X,itemNumberPerSalesUnit:C,quantity:"1",totalPrice:y(L*C),productVariantList:Y,selectedVariantId:a}),[ae,B]=A.useState(!1);function re(e){const o=parseInt(e.target.value)||1;_({...s,quantity:o.toString(),totalPrice:y(s.price*s.itemNumberPerSalesUnit*o)})}function ne(){B(!0)}function ie(e){const o=s.productId===e.variantId?parseInt(s.quantity):1;_({...s,productId:e.variantId,productImage:v(e.variantId,e.imageUrl?e.imageUrl:S),packaging:e.variantName,priceStr:e.listPricePerUnitString,price:e.price,salesUnit:e.salesUnit,itemNumberPerSalesUnit:e.itemNumberPerSalesUnit,totalPrice:y(e.price*e.itemNumberPerSalesUnit*o),quantity:o.toString(),selectedVariantId:e.variantId}),B(!1)}const N=({tagsList:e=[]})=>n("ul",{className:r.tagsList,children:Array.isArray(e)&&e.length>0&&e.map((o,se)=>n("li",{children:n(oe,{...o})},se))});return ae?u("div",{className:d(r.productDetails),children:[u("div",{className:r.imageOuterWrapper,children:[n(h,{breakpoint:"md",children:e=>e&&(i==null?void 0:i.loaderValues)&&i.loaderValues.length>0&&n(q,{loadingBars:i.loaderValues,className:r.loadingBars})}),u("div",{className:d(r.imageWrapper,r.variantsListOpen),children:[n(E,{breakpoint:"md",children:e=>e&&i.tags&&n(N,{tagsList:i.tags})}),n(k,{...s.productImage,classNamePicture:r.cardPicture,classNameImg:`${r.cardImage}`,fallbackImageUrl:S})]})]}),n(ce,{className:d(r.contentWrapper,r.productVariants),variantsList:s.productVariantList,onVariantSelect:ie,selectedVariantId:s.selectedVariantId})]}):u("div",{className:d(r.productDetails),children:[u("div",{className:r.imageOuterWrapper,children:[n(h,{breakpoint:"md",children:e=>e&&(i==null?void 0:i.loaderValues)&&i.loaderValues.length>0&&n(q,{loadingBars:i.loaderValues,className:r.loadingBars})}),u("div",{className:r.imageWrapper,children:[n(E,{breakpoint:"md",children:e=>e&&i.tags&&n(N,{tagsList:i.tags})}),n(k,{...s.productImage,classNamePicture:r.cardPicture,classNameImg:`${r.cardImage}`,fallbackImageUrl:S})]})]}),u("div",{className:r.contentWrapper,children:[n(h,{breakpoint:"md",children:e=>e&&i.tags&&n(N,{tagsList:i.tags})}),n("h3",{className:r.heading,children:s.productName}),n("p",{className:d(r.textPurple,"bodyS"),children:`${s.packaging}: ${s.priceStr} kr/st`}),Array.isArray(i.visibleSpecs)&&i.visibleSpecs.length>0&&i.visibleSpecs.map((e,o)=>n("p",{className:d(r.specsText,"bodyS"),children:`${e.name} : ${e.value}`},o)),(i==null?void 0:i.visibleDescription)&&n("p",{className:r.description,children:i.visibleDescription}),Array.isArray(s.productVariantList)&&s.productVariantList.length>1&&n(x,{...Z,className:r.btn,surface:"secondary",iconRight:{icon:"icon-layers"},rounded:!0,onClick:()=>ne(),children:"Byt förpackning"}),n(le,{className:r.quantityInput,salesUnit:s.salesUnit,itemNumberPerSalesUnit:s.itemNumberPerSalesUnit,totalPrice:s.totalPrice,quantity:s.quantity,quantityInputId:s.productId,onChange:re}),n(x,{...ee,className:r.btn,size:"large",onClick:()=>te(s),children:"Lägg i kundvagn"})]})]})};try{U.displayName="ProductDetails",U.__docgenInfo={description:"",displayName:"ProductDetails",props:{product:{defaultValue:null,description:"",name:"product",required:!0,type:{name:"IProduct"}},productDetail:{defaultValue:null,description:"",name:"productDetail",required:!0,type:{name:"IProductDetail"}},changePackagingButton:{defaultValue:null,description:"",name:"changePackagingButton",required:!0,type:{name:"IButton"}},addToCartButton:{defaultValue:null,description:"",name:"addToCartButton",required:!0,type:{name:"IButton"}},addToCart:{defaultValue:null,description:"",name:"addToCart",required:!0,type:{name:"CallableFunction"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},productId:{defaultValue:null,description:"",name:"productId",required:!0,type:{name:"string"}},productName:{defaultValue:null,description:"",name:"productName",required:!0,type:{name:"string"}},productUrl:{defaultValue:null,description:"",name:"productUrl",required:!1,type:{name:"string"}},productImageUrl:{defaultValue:null,description:"",name:"productImageUrl",required:!0,type:{name:"string"}},country:{defaultValue:null,description:"",name:"country",required:!1,type:{name:"string"}},packaging:{defaultValue:null,description:"",name:"packaging",required:!0,type:{name:"string"}},priceStr:{defaultValue:null,description:"",name:"priceStr",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},salesUnit:{defaultValue:null,description:"",name:"salesUnit",required:!0,type:{name:"string"}},itemNumberPerSalesUnit:{defaultValue:null,description:"",name:"itemNumberPerSalesUnit",required:!0,type:{name:"number"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:"string"}},totalPrice:{defaultValue:null,description:"",name:"totalPrice",required:!0,type:{name:"string"}},productVariantList:{defaultValue:null,description:"",name:"productVariantList",required:!0,type:{name:"IProductVariant[]"}},tags:{defaultValue:null,description:"",name:"tags",required:!1,type:{name:"ITag[]"}}}}}catch{}const Ce={FirstVariantName:"",ListPricePerUnit:22.677,ListPricePerUnitString:"22,68",DisplayName:"Norrlands Guld Export 5,3",ProductUrl:"/Product/1105101",IsHit:!0,IsProduct:!0,PrimaryImageUrl:"https://spendrups.cdn.storm.io/4237ad51-a9f9-45e5-a85a-72389f6e65bb",ExternalId:"1105101",LimitedProduct:!1,CampaignProduct:!1,ActiveCampaign:null,Tags:[],SellerOnly:!1,ShortTexts:["Sverige"],Variants:[{Name:"50cl Returglas",VariantFullName:"50cl Returglas",VariantId:"1105101",PrimaryImageUrl:"https://spendrups.cdn.storm.io/4237ad51-a9f9-45e5-a85a-72389f6e65bb",SalesUnit:"KLI",UnitsPerBaseUnit:15,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:22.677,ListPricePerUnitString:"22,68",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"33cl Engångsglas",VariantFullName:"33cl Engångsglas",VariantId:"1105111",PrimaryImageUrl:"https://spendrups.cdn.storm.io/fca77f23-eacc-4b53-b1b4-9df3620154b4",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:16.209,ListPricePerUnitString:"16,21",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"33cl PET",VariantFullName:"33cl PET",VariantId:"1152339",PrimaryImageUrl:"https://spendrups.cdn.storm.io/57aafd54-e882-418f-8f2f-f43e98bf75e6",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:16.219,ListPricePerUnitString:"16,22",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"50cl PET",VariantFullName:"50cl PET",VariantId:"1152340",PrimaryImageUrl:"https://spendrups.cdn.storm.io/c873d755-c034-44b2-b599-b45eb67e5c71",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:23.645,ListPricePerUnitString:"23,65",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"30l FAT",VariantFullName:"30l FAT",VariantId:"1105191",PrimaryImageUrl:"https://spendrups.cdn.storm.io/09a0cd7a-ea94-4730-a46d-a36ef0669ec7",SalesUnit:"KLI",UnitsPerBaseUnit:1,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:1404.44,ListPricePerUnitString:"1404,44",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"33cl Burk",VariantFullName:"33cl Burk",VariantId:"1147921",PrimaryImageUrl:"https://spendrups.cdn.storm.io/a9a46999-1348-480e-909a-c33a8cb7974c",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:15.561,ListPricePerUnitString:"15,56",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"50cl Burk",VariantFullName:"50cl Burk",VariantId:"1146323",PrimaryImageUrl:"https://spendrups.cdn.storm.io/985e24c0-c1de-4a30-9d2b-5928c858b514",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:22.933,ListPricePerUnitString:"22,93",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null}],Desc:"",SalesUnit:"KLI",UnitsPerBaseUnit:15,AccessoryPotItem:!1,ModelName:"50cl Returglas",CategoryName:"Öl",BrandName:"Norrlands Guld"},_e={FirstVariantName:"",ListPricePerUnit:132,ListPricePerUnitString:"132",DisplayName:"Torre Del Falasco Valpolicella Ripasso Superiore DOC",ProductUrl:"/Product/2489224",IsHit:!0,IsProduct:!0,PrimaryImageUrl:"https://spendrups.cdn.storm.io/3d7badb2-7b39-45d2-b64d-fbfb8544d5c8",ExternalId:"2489224",LimitedProduct:!1,CampaignProduct:!1,ActiveCampaign:null,Tags:[{Text:"Vegan",Class:"purple",ExternalId:"16267"}],SellerOnly:!0,ShortTexts:["Italien"],Variants:[{Name:"75cl Engångsglas",VariantFullName:"75cl Engångsglas",VariantId:"2489224",PrimaryImageUrl:"https://spendrups.cdn.storm.io/3d7badb2-7b39-45d2-b64d-fbfb8544d5c8",SalesUnit:"ST",UnitsPerBaseUnit:1,Tags:[{Text:"Vegan",Class:"purple",ExternalId:"16267"}],ShortTexts:["Italien"],ListPricePerUnit:132,ListPricePerUnitString:"132",SellerOnly:!0,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"75cl Engångsglas",VariantFullName:"75cl Engångsglas",VariantId:"2489214",PrimaryImageUrl:"https://spendrups.cdn.storm.io/3d7badb2-7b39-45d2-b64d-fbfb8544d5c8",SalesUnit:"KLI",UnitsPerBaseUnit:6,Tags:[{Text:"Vegan",Class:"purple",ExternalId:"16267"}],ShortTexts:["Italien"],ListPricePerUnit:132,ListPricePerUnitString:"132",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"150cl Engångsglas",VariantFullName:"150cl Engångsglas",VariantId:"2527326",PrimaryImageUrl:"https://spendrups.cdn.storm.io/1704f06e-d5c2-419c-8dc4-c60e9665664a",SalesUnit:"ST",UnitsPerBaseUnit:1,Tags:[{Text:"Vegan",Class:"purple",ExternalId:"16267"}],ShortTexts:["Italien"],ListPricePerUnit:280,ListPricePerUnitString:"280",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null}],Desc:"",SalesUnit:"ST",UnitsPerBaseUnit:1,AccessoryPotItem:!1,ModelName:"75cl Engångsglas",CategoryName:"Vin",BrandName:"Spendrups"},Be={FirstVariantName:"",ListPricePerUnit:132,ListPricePerUnitString:"132",DisplayName:"Torre Del Falasco Valpolicella Ripasso Superiore DOC",ProductUrl:"/Product/2489224",IsHit:!0,IsProduct:!0,PrimaryImageUrl:"https://spendrups.cdn.storm.io/3d7badb2-7b39-45d2-b64d-fbfb8544d5c8",ExternalId:"2489224",LimitedProduct:!1,CampaignProduct:!1,ActiveCampaign:null,Tags:[{Text:"Vegan",Class:"purple",ExternalId:"16267"}],SellerOnly:!0,ShortTexts:["Italien"],Variants:[{Name:"75cl Engångsglas",VariantFullName:"75cl Engångsglas",VariantId:"2489224",PrimaryImageUrl:"https://spendrups.cdn.storm.io/3d7badb2-7b39-45d2-b64d-fbfb8544d5c8",SalesUnit:"ST",UnitsPerBaseUnit:1,Tags:[{Text:"Vegan",Class:"purple",ExternalId:"16267"}],ShortTexts:["Italien"],ListPricePerUnit:132,ListPricePerUnitString:"132",SellerOnly:!0,AccessoryPotVariant:!1,ActiveCampaign:null}],Desc:"",SalesUnit:"ST",UnitsPerBaseUnit:1,AccessoryPotItem:!1,ModelName:"75cl Engångsglas",CategoryName:"Vin",BrandName:"Spendrups"},Ae={FirstVariantName:"",ListPricePerUnit:132,ListPricePerUnitString:"132",DisplayName:"Torre Del Falasco Valpolicella Ripasso Superiore DOC",ProductUrl:"/Product/2489224",IsHit:!0,IsProduct:!0,PrimaryImageUrl:"https://spendrups.cdn.storm.io/3d7badb2-7b39-45d2-b64d-fbfb8544d5c8",ExternalId:"2489224",LimitedProduct:!1,CampaignProduct:!1,ActiveCampaign:null,Tags:[{Text:"Vegan",Class:"purple",ExternalId:"16267"}],SellerOnly:!0,ShortTexts:["Italien"],Variants:[{Name:"75cl Engångsglas",VariantFullName:"75cl Engångsglas",VariantId:"2489224",PrimaryImageUrl:"https://spendrups.cdn.storm.io/3d7badb2-7b39-45d2-b64d-fbfb8544d5c8",SalesUnit:"ST",UnitsPerBaseUnit:1,Tags:[{Text:"Vegan",Class:"purple",ExternalId:"16267"}],ShortTexts:["Italien"],ListPricePerUnit:132,ListPricePerUnitString:"132",SellerOnly:!0,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"75cl Engångsglas",VariantFullName:"75cl Engångsglas",VariantId:"2489214",PrimaryImageUrl:"",SalesUnit:"KLI",UnitsPerBaseUnit:6,Tags:[{Text:"Vegan",Class:"purple",ExternalId:"16267"}],ShortTexts:["Italien"],ListPricePerUnit:132,ListPricePerUnitString:"132",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"150cl Engångsglas",VariantFullName:"150cl Engångsglas",VariantId:"2527326",PrimaryImageUrl:"https://spendrups.cdn.storm.io/1704f06e-d5c2-419c-8dc4-c60e9665664a",SalesUnit:"ST",UnitsPerBaseUnit:1,Tags:[{Text:"Vegan",Class:"purple",ExternalId:"16267"}],ShortTexts:["Italien"],ListPricePerUnit:280,ListPricePerUnitString:"280",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null}],Desc:"",SalesUnit:"ST",UnitsPerBaseUnit:1,AccessoryPotItem:!1,ModelName:"75cl Engångsglas",CategoryName:"Vin",BrandName:"Spendrups"},xe={title:"Design System/Organisms/ProductDetails",component:U},V={render:({...a})=>{function t(c){alert(`Adding to cart - ${c.productName} - ${c.packaging}. Quantity: ${c.quantity}, Total: ${c.totalPrice}`)}return n(U,{...a,addToCart:t})}};function ve(a){return a.map(t=>({text:t.Text,shape:t.Shape?t.Shape:"pill",color:t.Class}))}function O(a){return a.map(t=>({name:t.Item1,value:t.Item2}))}function ke(a,t){const c=t==="Vin"?"purple":"orange";return a.map(l=>({name:l.Key,value:l.Value,color:c}))}function w(a){return{visibleSpecs:O(a.VisibleInfo.Specifications),visibleDescription:a.VisibleInfo.FullDescription,invisibleSpecs:O(a.InvisibleInfo.Specifications),invisibleDescription:a.InvisibleInfo.FullDescription,tags:ve(a.Tags),loaderValues:ke(a.ClockValues,a.CategoryString)}}function Ee(a,t){const c=t[0].VariantId;return t.map(l=>({productName:a,variantName:l.Name,variantId:l.VariantId,country:Array.isArray(l.ShortTexts)&&l.ShortTexts.length?l.ShortTexts[0]:"",listPricePerUnitString:l.ListPricePerUnitString,price:l.ListPricePerUnit,salesUnit:l.SalesUnit,itemNumberPerSalesUnit:l.UnitsPerBaseUnit,imageUrl:l.PrimaryImageUrl,checked:l.VariantId===c,onChange:()=>{}}))}function b(a){const t=a.Variants[0];return{productId:t.VariantId,productUrl:a.ProductUrl,productName:a.DisplayName,productImageUrl:t.PrimaryImageUrl,country:Array.isArray(t.ShortTexts)&&t.ShortTexts.length?t.ShortTexts[0]:"",packaging:t.VariantFullName,priceStr:t.ListPricePerUnitString,price:t.ListPricePerUnit,salesUnit:t.SalesUnit,itemNumberPerSalesUnit:t.UnitsPerBaseUnit,quantity:"1",totalPrice:y(t.ListPricePerUnit*t.UnitsPerBaseUnit),productVariantList:Ee(a.DisplayName,a.Variants)}}const qe=b(Ce),Oe=b(_e),We=b(Ae),Fe=b(Be),De=w(ue),T=w(de),g={...V,args:{...qe,productDetail:De,changePackagingButton:I.args,addToCart:f.args}},m={...V,args:{...Oe,productDetail:T,changePackagingButton:I.args,addToCart:f.args}},p={...V,args:{...Fe,productDetail:T,changePackagingButton:I.args,addToCart:f.args}},P={...V,args:{...We,productDetail:T,changePackagingButton:I.args,addToCart:f.args}};var W,F,D;g.parameters={...g.parameters,docs:{...(W=g.parameters)==null?void 0:W.docs,source:{originalSource:`{
  ...ProductDetailsStoryTemplate,
  args: {
    ...productArgs,
    productDetail: productDetailsArgs,
    changePackagingButton: ChangePackagingButtonStory.args,
    addToCart: ButtonProductCardStory.args
  }
}`,...(D=(F=g.parameters)==null?void 0:F.docs)==null?void 0:D.source}}};var K,$,R;m.parameters={...m.parameters,docs:{...(K=m.parameters)==null?void 0:K.docs,source:{originalSource:`{
  ...ProductDetailsStoryTemplate,
  args: {
    ...productArgsWine,
    productDetail: productDetailsArgsWine,
    changePackagingButton: ChangePackagingButtonStory.args,
    addToCart: ButtonProductCardStory.args
  }
}`,...(R=($=m.parameters)==null?void 0:$.docs)==null?void 0:R.source}}};var j,M,H;p.parameters={...p.parameters,docs:{...(j=p.parameters)==null?void 0:j.docs,source:{originalSource:`{
  ...ProductDetailsStoryTemplate,
  args: {
    ...productArgsWineNoVariants,
    productDetail: productDetailsArgsWine,
    changePackagingButton: ChangePackagingButtonStory.args,
    addToCart: ButtonProductCardStory.args
  }
}`,...(H=(M=p.parameters)==null?void 0:M.docs)==null?void 0:H.source}}};var Q,z,G;P.parameters={...P.parameters,docs:{...(Q=P.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  ...ProductDetailsStoryTemplate,
  args: {
    ...productArgsWine_VariantDefaultImg,
    productDetail: productDetailsArgsWine,
    changePackagingButton: ChangePackagingButtonStory.args,
    addToCart: ButtonProductCardStory.args
  }
}`,...(G=(z=P.parameters)==null?void 0:z.docs)==null?void 0:G.source}}};const Ke=["ProductDetailsStory","ProductDetailsStory_Wine","ProductDetailsStory_Wine_NoVariants","ProductDetailsStory_Wine_VariantFallbackImg"],nt=Object.freeze(Object.defineProperty({__proto__:null,ProductDetailsStory:g,ProductDetailsStory_Wine:m,ProductDetailsStory_Wine_NoVariants:p,ProductDetailsStory_Wine_VariantFallbackImg:P,__namedExportsOrder:Ke,default:xe},Symbol.toStringTag,{value:"Module"}));export{U as P,g as a,nt as p};
//# sourceMappingURL=product-details.stories-97306b50.js.map
