import{r as P}from"./index-6f814c40.js";import{C as A}from"./card-image-558fab3f.js";import{c as s,P as B}from"./format-helper-9317824c.js";import{B as L}from"./button-e76f0a80.js";import{P as $,d as O}from"./dummy-product-81708ed6.js";import{g as f}from"./picture-helper-8d380938.js";import{a as o,j}from"./jsx-runtime-76c5c2e2.js";const M="_productCard_y05yr_1",Q="_productCardInput_y05yr_9",E="_productCardBtn_y05yr_13",d={productCard:M,productCardInput:Q,productCardBtn:E},c=({productId:a,productName:r,productImageUrl:i,country:e,packaging:U,priceStr:N,price:l,salesUnit:_,itemNumberPerSalesUnit:p,productVariantList:h,button:V,addToCart:q})=>{const[t,m]=P.useState({productId:a,productName:r,productImage:f(a,i),country:e,packaging:U,priceStr:N,price:l,salesUnit:_,itemNumberPerSalesUnit:p,quantity:"1",totalPrice:s(l*p),productVariantList:h,selectedVariantId:a}),[b,g]=P.useState(!1);function T(n){const y=parseInt(n.target.value)||1;m({...t,quantity:y.toString(),totalPrice:s(t.price*t.itemNumberPerSalesUnit*y)})}function k(){g(!0)}function x(n){m({...t,productId:n.variantId,productImage:n.image,country:n.country,packaging:n.variantName,priceStr:n.listPricePerUnitString,price:n.price,salesUnit:n.salesUnit,itemNumberPerSalesUnit:n.itemNumberPerSalesUnit,totalPrice:s(n.price*n.itemNumberPerSalesUnit),selectedVariantId:n.variantId}),g(!1)}return b?o($,{className:d.productCard,variantsList:t.productVariantList,onVariantSelect:x,selectedVariantId:t.selectedVariantId}):j("div",{className:d.productCard,children:[o(A,{heading:t.productName,image:t.productImage,articleId:t.productId,country:t.country,packaging:t.packaging,unitPriceStr:t.priceStr,onClick:k}),o(B,{className:d.productCardInput,salesUnit:t.salesUnit,itemNumberPerSalesUnit:t.itemNumberPerSalesUnit,totalPrice:t.totalPrice,quantity:t.quantity,quantityInputId:t.productId,onChange:T}),o(L,{...V,className:d.productCardBtn,fullWidth:!0,onClick:()=>q(t),children:"Add to cart"})]})};try{c.displayName="ProductCard",c.__docgenInfo={description:"",displayName:"ProductCard",props:{product:{defaultValue:null,description:"",name:"product",required:!0,type:{name:"IProduct"}},button:{defaultValue:null,description:"",name:"button",required:!0,type:{name:"IButton"}},addToCart:{defaultValue:null,description:"",name:"addToCart",required:!0,type:{name:"CallableFunction"}},productId:{defaultValue:null,description:"",name:"productId",required:!0,type:{name:"string"}},productName:{defaultValue:null,description:"",name:"productName",required:!0,type:{name:"string"}},productImageUrl:{defaultValue:null,description:"",name:"productImageUrl",required:!0,type:{name:"string"}},country:{defaultValue:null,description:"",name:"country",required:!0,type:{name:"string"}},packaging:{defaultValue:null,description:"",name:"packaging",required:!0,type:{name:"string"}},priceStr:{defaultValue:null,description:"",name:"priceStr",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},salesUnit:{defaultValue:null,description:"",name:"salesUnit",required:!0,type:{name:"string"}},itemNumberPerSalesUnit:{defaultValue:null,description:"",name:"itemNumberPerSalesUnit",required:!0,type:{name:"number"}},productVariantList:{defaultValue:null,description:"",name:"productVariantList",required:!0,type:{name:"IProductVariant[]"}}}}}catch{}const F={title:"Design System/Molecules/Product/ProductCard",component:c},z=a=>{function r(i){alert(`Adding to cart - ${i.productName} - ${i.packaging}. Quantity: ${i.quantity}, Total: ${i.totalPrice}`)}return o(c,{...a,addToCart:r})};function W(a,r){const i=r[0].VariantId;return r.map(e=>({productName:a,variantName:e.Name,variantId:e.VariantId,country:Array.isArray(e.ShortTexts)&&e.ShortTexts.length?e.ShortTexts[0]:"",listPricePerUnitString:e.ListPricePerUnitString,price:e.ListPricePerUnit,salesUnit:e.SalesUnit,itemNumberPerSalesUnit:e.UnitsPerBaseUnit,image:f(e.VariantId,e.PrimaryImageUrl),checked:e.VariantId===i,onChange:()=>{}}))}function w(a){const r=a.Variants[0];return{productId:r.VariantId,productName:a.DisplayName,productImageUrl:r.PrimaryImageUrl,country:Array.isArray(r.ShortTexts&&r.ShortTexts.length)?r.ShortTexts[0]:"",packaging:r.VariantFullName,priceStr:r.ListPricePerUnitString,price:r.ListPricePerUnit,salesUnit:r.SalesUnit,itemNumberPerSalesUnit:r.UnitsPerBaseUnit,productVariantList:W(a.DisplayName,a.Variants)}}const D=w(O),u=z.bind({});u.storyName="Product Card";u.args={...D};var C,I,S;u.parameters={...u.parameters,docs:{...(C=u.parameters)==null?void 0:C.docs,source:{originalSource:"args => {\n  function handleAddToCart(product) {\n    alert(`Adding to cart - ${product.productName} - ${product.packaging}. Quantity: ${product.quantity}, Total: ${product.totalPrice}`);\n  }\n  return <ProductCard {...args} addToCart={handleAddToCart} />;\n}",...(S=(I=u.parameters)==null?void 0:I.docs)==null?void 0:S.source}}};const G=["ProductCardStory"],v=Object.freeze(Object.defineProperty({__proto__:null,ProductCardStory:u,__namedExportsOrder:G,default:F},Symbol.toStringTag,{value:"Module"}));export{c as P,u as a,v as p};
//# sourceMappingURL=product-card.stories-3a323458.js.map
