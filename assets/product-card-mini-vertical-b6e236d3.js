import{c as f}from"./index-09749a66.js";import{j as e,r as y,R as ve}from"./jsx-runtime-03333307.js";import{f as A}from"./defaultFallbackImage-b43581a6.js";import{a as V}from"./format-helper-580ef2bc.js";import{a as xe}from"./generic-helper-ddbede2e.js";import{g as Ce}from"./picture-helper-dd6bd3b8.js";import{T as je}from"./tag-8d2e34a8.js";import{P as E}from"./picture-ffae027b.js";import{I as ce}from"./icon-a32914e5.js";import{u as Se}from"./useOnClickOutside-9d2c35bb.js";import{m as Ve}from"./motion-9380e2c6.js";import{C as Fe,a as we}from"./carousel-c97bc3fd.js";import{P as F}from"./placeholder-3cf73146.js";import{I as oe}from"./icon-button-c6bda5d8.js";import{B as Ue}from"./button-1f0f0554.js";import{A as Ae}from"./add-to-cart-button-55f8f217.js";const Oe="_verticalVariant_1r3kd_1",Le="_selected_1r3kd_21",$e="_topRow_1r3kd_25",We="_mainContent_1r3kd_35",Re="_imageWrapper_1r3kd_42",Be="_picture_1r3kd_46",Me="_image_1r3kd_42",ze="_contentWrapper_1r3kd_57",Qe="_heading_1r3kd_62",Ee="_partNo_1r3kd_63",De="_price_1r3kd_64",Ge="_selectedIcon_1r3kd_84",u={verticalVariant:Oe,selected:Le,topRow:$e,mainContent:We,imageWrapper:Re,picture:Be,image:Me,contentWrapper:ze,heading:Qe,partNo:Ee,price:De,selectedIcon:Ge},de=({checked:i,onClick:s,variantId:p,sellerOnly:l,image:b,isRestrictedUser:k,variantName:h,salesUnit:_,itemNumberPerSalesUnit:o,priceStr:T,currencyLabel:q,unitLabel:d})=>e.jsx("button",{className:f(u.verticalVariant,{[u.selected]:i}),onClick:()=>s==null?void 0:s(p),children:e.jsxs("div",{className:u.mainContent,children:[e.jsxs("div",{className:u.imageWrapper,children:[e.jsx(E,{...b,classNamePicture:u.picture,classNameImg:`${u.image}`,fallbackImageUrl:A})," "]}),e.jsxs("div",{className:`${u.contentWrapper}`,children:[e.jsx("div",{className:u.topRow,children:l&&e.jsx(ce,{className:u.sellerIcon,icon:"icon-eye",size:"small"})}),e.jsx("p",{className:u.heading,children:h}),!k&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:u.partNo,children:`${_} (${o} styck)`}),e.jsx("p",{className:u.price,children:`${T} ${q}/${d}`})]})]})]})});de.__docgenInfo={description:"",methods:[],displayName:"VerticalVariant",props:{productName:{required:!0,tsType:{name:"string"},description:""},variantName:{required:!0,tsType:{name:"string"},description:""},variantId:{required:!0,tsType:{name:"string"},description:""},country:{required:!0,tsType:{name:"string"},description:""},priceStr:{required:!0,tsType:{name:"string"},description:""},salesUnit:{required:!0,tsType:{name:"string"},description:""},itemNumberPerSalesUnit:{required:!0,tsType:{name:"number"},description:""},sellerOnly:{required:!0,tsType:{name:"boolean"},description:""},image:{required:!0,tsType:{name:"IPicture"},description:""},onChange:{required:!0,tsType:{name:"CallableFunction"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(partNo: string) => void",signature:{arguments:[{type:{name:"string"},name:"partNo"}],return:{name:"void"}}},description:""},checked:{required:!0,tsType:{name:"boolean"},description:""},partNoLabel:{required:!0,tsType:{name:"string"},description:""},unitLabel:{required:!0,tsType:{name:"string"},description:""},currencyLabel:{required:!0,tsType:{name:"string"},description:""},sellerOnlyTooltipText:{required:!1,tsType:{name:"string"},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},outOfStock:{required:!1,tsType:{name:"boolean"},description:""}}};const He="_verticalVariants_1m08r_1",Je="_closeVariantsIcon_1m08r_13",Ke="_carousel_1m08r_19",Xe="_carouselTrack_1m08r_22",Ye="_list_1m08r_27",Ze="_listItem_1m08r_36",et="_variantPicture_1m08r_43",w={verticalVariants:He,closeVariantsIcon:Je,carousel:Ke,carouselTrack:Xe,list:Ye,listItem:Ze,variantPicture:et},le=({variantsList:i,onCloseVariants:s,open:p,onVariantSelect:l,selectedVariantId:b,isRestrictedUser:k})=>{var q;const h=y.useRef(null),[_,o]=y.useState(b);function T(d){o(d);const N=i.find(v=>v.variantId===d);l(N,i)}return Se({ref:h,onClose:s}),e.jsx(Ve.div,{ref:h,className:f(w.verticalVariants,{[w.open]:p}),initial:{y:"100%"},animate:p?{y:"0%"}:{y:"100%"},exit:{y:"100%"},transition:{type:"tween",duration:.3,ease:[.4,0,.2,1]},children:e.jsx(Fe,{className:w.carousel,noGrid:!0,trackClassName:w.carouselTrack,splideProps:{options:{gap:"0.25rem",direction:"ttb",height:"100%",fixedHeight:"40%"}},hidePagination:!0,zeroOffset:!0,breakpoints:{sm:{hideArrows:!0},md:{perPage:2,perMove:2},lg:{perPage:2,perMove:2}},children:(q=i==null?void 0:i.sort((d,N)=>+(N.variantId===_)-+(d.variantId===_)))==null?void 0:q.map(d=>e.jsx(we,{children:e.jsx(de,{...d,checked:d.variantId===_,onClick:T,isRestrictedUser:k})},d.variantId))})})};le.__docgenInfo={description:"",methods:[],displayName:"VerticalVariants",props:{className:{required:!1,tsType:{name:"string"},description:""},variantsList:{required:!0,tsType:{name:"Array",elements:[{name:"IProductVariant"}],raw:"Array<IProductVariant>"},description:""},onVariantSelect:{required:!0,tsType:{name:"CallableFunction"},description:""},selectedVariantId:{required:!0,tsType:{name:"string"},description:""},sellerOnlyTooltipText:{required:!1,tsType:{name:"string"},description:""},onCloseVariants:{required:!0,tsType:{name:"CallableFunction"},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},absolutePositioned:{required:!1,tsType:{name:"boolean"},description:""},open:{required:!1,tsType:{name:"boolean"},description:""}}};const tt="_productContent_1jawn_1",rt="_bottom_1jawn_8",at="_left_1jawn_13",it="_productNameLink_1jawn_21",nt="_productName_1jawn_21",st="_detail_1jawn_36",ot="_price_1jawn_40",ct="_favoriteIconActive_1jawn_45",m={productContent:tt,bottom:rt,left:at,productNameLink:it,productName:nt,detail:st,price:ot,favoriteIconActive:ct},ue=({productName:i,productUrl:s,Link:p,onClick:l,quantity:b,salesUnit:k,itemNumberPerSalesUnit:h,price:_,isRestrictedUser:o,hidePrice:T,icons:q})=>e.jsxs("div",{className:`${m.productContent}`,children:[s&&p?e.jsx(p,{to:s,href:s,onClick:l,className:m.productNameLink,children:e.jsx("h2",{className:f(m.productName,"bodyS"),children:i})}):e.jsx("h2",{className:f(m.productName,"bodyS"),children:i}),e.jsxs("div",{className:m.bottom,children:[e.jsx("div",{className:m.left,children:!T&&!o&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:f(m.detail,"bodyS"),children:`${b} x ${k} (${h} styck)`}),e.jsx("p",{className:f(m.detail,"bodyS fontBold",m.price),children:`${_} kr`})]})}),e.jsx("div",{className:m.right,children:q&&e.jsx("div",{className:m.right,children:q})})]})]}),dt=ue;ue.__docgenInfo={description:"",methods:[],displayName:"ProductContent",props:{productName:{required:!0,tsType:{name:"string"},description:""},productUrl:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},Link:{required:!0,tsType:{name:"any"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},quantity:{required:!0,tsType:{name:"number"},description:""},itemNumberPerSalesUnit:{required:!0,tsType:{name:"number"},description:""},price:{required:!0,tsType:{name:"string"},description:""},salesUnit:{required:!0,tsType:{name:"string"},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},hidePrice:{required:!1,tsType:{name:"boolean"},description:""},icons:{required:!1,tsType:{name:"ReactElement"},description:""}}};const lt="_picture_mik4x_1",ut="_image_mik4x_8",U={picture:lt,image:ut},pe=ve.memo(({productUrl:i,Link:s,onClick:p,productImage:l})=>e.jsx(e.Fragment,{children:s&&i?e.jsx(s,{to:i,href:i,onClick:p,children:e.jsx(E,{...l,classNamePicture:U.picture,classNameImg:U.image,fallbackImageUrl:A})}):e.jsx(E,{...l,classNamePicture:U.picture,classNameImg:U.image,fallbackImageUrl:A})})),pt=pe;pe.__docgenInfo={description:"",methods:[],displayName:"ProductCardImage",props:{productUrl:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},Link:{required:!0,tsType:{name:"any"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},productImage:{required:!0,tsType:{name:"IPicture"},description:""}}};const mt="_productCardMiniVertical_k6hpt_1",yt="_fullWidth_k6hpt_14",gt="_loading_k6hpt_18",_t="_iconsWrapper_k6hpt_22",ft="_icon_k6hpt_22",ht="_tag_k6hpt_45",qt="_specialCard_k6hpt_50",bt="_box_k6hpt_55",kt="_campaign_k6hpt_74",Tt="_iconLink_k6hpt_82",Nt="_outOfStockProduct_k6hpt_89",It="_limitedProduct_k6hpt_99",Pt="_accessoryPotItemIcon_k6hpt_114",vt="_loadingImage_k6hpt_121",xt="_variant_k6hpt_127",Ct="_addToCart_k6hpt_133",jt="_clickable_k6hpt_137",St="_favoriteIconActive_k6hpt_142",Vt="_actions_k6hpt_147",Ft="_extras_k6hpt_153",a={productCardMiniVertical:mt,fullWidth:yt,loading:gt,iconsWrapper:_t,icon:ft,tag:ht,specialCard:qt,box:bt,campaign:kt,iconLink:Tt,outOfStockProduct:Nt,limitedProduct:It,accessoryPotItemIcon:Pt,loadingImage:vt,variant:xt,addToCart:Ct,clickable:jt,favoriteIconActive:St,actions:Vt,extras:Ft},wt=({product:i,variantsInCart:s=[],addToCart:p,onChangeQuantity:l,hideCartButton:b,addToCartBtnLabel:k,productArea:h,buttonLoading:_,loading:o,disabled:T,isAddingToCart:q,favoriteProductsIds:d,className:N,linkComponent:v,imagePriority:I,onClick:D,hidePrice:me,isRestrictedUser:x,onVariantsButtonClick:O,onCloseVariants:L,onVariantChange:$,showAddToPurchaseListIcon:ye,showFavoriteIcon:ge,onSaveToPurchaseListClick:G,onFavoriteIconClick:H,isAddingToFavorites:_e,tooltips:P,maxQuantity:Ut,fullWidth:J})=>{var ee,te,re,ae,ie,ne;const K=((ee=(i.productVariantList||[]).find(r=>r.variantId===i.partNo))==null?void 0:ee.variantId)||null,[X,W]=y.useState(!1),[t,C]=y.useState(()=>{const r=s.find(n=>n.variantId===K),c=r?r.quantity:0;return{...i,productImage:Ce(i.partNo,i.primaryImageUrl,"120",void 0,I==null?void 0:I.loading,I==null?void 0:I.fetchPriority),quantity:c,selectedVariantId:K,totalPrice:V({unitPrice:i.pricePerUnit,quantity:c===0?1:c,unitNumber:i.itemNumberPerSalesUnit}),inputQuantity:c}}),j=y.useRef(s),fe=y.useRef(t);y.useEffect(()=>{const r=s.find(n=>n.variantId===t.selectedVariantId),c=j.current.find(n=>n.variantId===t.selectedVariantId);if((r==null?void 0:r.quantity)!==(c==null?void 0:c.quantity)){const n=(r==null?void 0:r.quantity)||0;C(g=>g.quantity===n?g:{...g,quantity:n,totalPrice:V({unitPrice:g.pricePerUnit,quantity:n===0?1:n,unitNumber:g.itemNumberPerSalesUnit}),inputQuantity:n})}j.current=s},[s,t.selectedVariantId]),y.useEffect(()=>()=>{j.current=[]},[]);const he=y.useCallback(r=>{const n=j.current.find(Q=>Q.variantId===r.variantId),g=(n==null?void 0:n.quantity)||0;C(Q=>{const se={...Q,partNo:r.variantId,selectedVariantId:r.variantId,quantity:g,totalPrice:V({unitPrice:Number(r.pricePerUnit),quantity:g===0?1:g,unitNumber:r.itemNumberPerSalesUnit}),inputQuantity:g,productImage:r.image??A,packaging:r.variantName,price:r.price,priceStr:r.priceStr,pricePerUnit:r.pricePerUnit&&isFinite(r.pricePerUnit)?r.pricePerUnit:0,pricePerUnitString:r.pricePerUnitString,salesUnit:r.salesUnit,itemNumberPerSalesUnit:r.itemNumberPerSalesUnit,sellerOnly:r.sellerOnly,activeCampaign:r.activeCampaign,productUrl:`/Product/${r.variantId}`,outOfStock:r.outOfStock,isAccessoryPotItem:r==null?void 0:r.isAccessoryPotItem,tags:r==null?void 0:r.tags};return $==null||$(se),se}),W(!1)},[]);function qe(){W(!0),O==null||O()}const S=xe(({id:r,q:c})=>{l==null||l({...fe.current,partNo:r,quantity:c})},1e3),be=y.useCallback((r,c)=>{C(n=>({...n,quantity:r,totalPrice:V({unitPrice:n.pricePerUnit,quantity:r===0?1:r,unitNumber:n.itemNumberPerSalesUnit}),inputQuantity:r})),S({id:c,q:r})},[S]),ke=y.useCallback(()=>{if(x)p();else{const r=t.quantity===0?1:t.quantity;C(c=>({...c,quantity:r,inputQuantity:r})),S({id:t.partNo,q:r})}},[x,t,S]);function Te(){W(!1),L==null||L()}const Y=(te=t.activeCampaign)==null?void 0:te.title,R=!!(!t.activeCampaign&&t.isLimitedProduct&&t.limitedLabel),B=!!(!t.activeCampaign&&t.outOfStock&&t.outOfStockLabel),Ne=Y||R||B,Z=!t.productVariantList||t.productVariantList.length<=1,M=t.activeCampaign?(re=t.tags)==null?void 0:re.slice(0,3):t.tags;function Ie(r){return!d||d.length===0?!1:d.includes(r)}const z=Ie(t.partNo),Pe={"--campaign-color":((ae=t.activeCampaign)==null?void 0:ae.color)??"#FFF","--limited-product-color":R?"#F08A00":"#FFF","--out-of-stock-product-color":B?"#e4b6c3":"#FFF"};return o?e.jsxs("div",{className:f(a.productCardMiniVertical,a.loading,{[a.fullWidth]:J}),children:[e.jsx(F,{type:"image",className:a.loadingImage}),e.jsxs("div",{className:a.placeholderContent,children:[e.jsx(F,{type:"heading"}),e.jsx(F,{type:"p_long"}),e.jsx(F,{type:"p_long"})]})]}):e.jsxs("div",{className:f(a.productCardMiniVertical,N||"",{[a.specialCard]:Ne&&!o,[a.campaign]:Y&&!o,[a.limitedProduct]:R&&!o,[a.outOfStockProduct]:B&&!o,[a.fullWidth]:J}),style:Pe,children:[!t.outOfStock&&((ie=t.activeCampaign)==null?void 0:ie.title)&&!o&&e.jsx("div",{className:a.box,children:t.activeCampaign.title}),!t.activeCampaign&&t.isLimitedProduct&&t.limitedLabel&&!o&&e.jsx("div",{className:a.box,children:t.limitedLabel}),t.outOfStock&&t.outOfStockLabel&&!o&&e.jsx("div",{className:a.box,children:t.outOfStockLabel}),e.jsxs("div",{className:a.iconsWrapper,children:[t.sellerOnly&&e.jsx(ce,{icon:"icon-eye",size:"medium"}),t.isAccessoryPotItem&&e.jsx("span",{className:`${a.accessoryPotItemIcon} ${a.icon}`,children:"S"}),Array.isArray(t.tags)&&((ne=t.tags)!=null&&ne.length)?e.jsx(e.Fragment,{children:M==null?void 0:M.map(r=>e.jsx(je,{...r,shape:"pill",className:a.tag},r.text))}):null]}),e.jsx(pt,{Link:v,productImage:t.productImage,productUrl:t.productUrl,onClick:D}),e.jsx(dt,{productName:t.productName,productUrl:t.productUrl,Link:v,onClick:D,quantity:t.quantity,salesUnit:t.salesUnit,itemNumberPerSalesUnit:t.itemNumberPerSalesUnit,price:t.totalPrice,isRestrictedUser:x,hidePrice:me,icons:e.jsxs("div",{className:a.clickable,children:[ye&&G&&e.jsx(oe,{type:"button",icon:"icon-file-plus",className:a.purchaseListIcon,onClick:()=>G(t.partNo,t.totalPrice),size:"large",isTransparent:!0,noBorder:!0,noPadding:!0,name:(P==null?void 0:P.addToPurchaseList)??"Add to purchase list"}),ge&&H&&e.jsx(oe,{type:"button",icon:z?"icon-heart1":"icon-heart-o",className:f(a.favoriteIcon,z?a.favoriteIconActive:""),onClick:()=>H(t.partNo,z,t.totalPrice),size:"large",isTransparent:!0,noBorder:!0,noPadding:!0,name:(P==null?void 0:P.addToFavorites)??"Add to favorite list",animate:_e?"loading":"default"})]})}),e.jsx(Ue,{type:"button",surface:"secondary",iconRight:Z?void 0:{icon:"icon-layers"},rounded:!0,fullWidth:!0,onClick:qe,disabled:o||Z,className:a.variant,name:"Select packaging",children:t.packaging}),!b&&e.jsx(Ae,{buttonLabel:k,id:`${t.partNo}-${h??"category"}`,onClick:ke,onChange:r=>be(r,t.partNo),quantity:t.inputQuantity,disabled:_||o||T,hasBeenAdded:t.inputQuantity>0}),X&&e.jsx(le,{onCloseVariants:Te,onVariantSelect:he,selectedVariantId:t.partNo,variantsList:t.productVariantList,open:X,isRestrictedUser:x})]},t.partNo)};wt.__docgenInfo={description:"",methods:[],displayName:"ProductCardMiniVertical",props:{isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},product:{required:!0,tsType:{name:"IProduct"},description:""},loading:{required:!0,tsType:{name:"boolean"},description:""},buttonLoading:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},hidePrice:{required:!1,tsType:{name:"boolean"},description:""},isAddingToCart:{required:!1,tsType:{name:"boolean"},description:""},addToCart:{required:!0,tsType:{name:"CallableFunction"},description:""},addToCartBtnLabel:{required:!0,tsType:{name:"string"},description:""},hideCartButton:{required:!1,tsType:{name:"boolean"},description:""},onChangeQuantity:{required:!1,tsType:{name:"CallableFunction"},description:""},showFavoriteIcon:{required:!1,tsType:{name:"boolean"},description:""},favoriteProductsIds:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:""},onFavoriteIconClick:{required:!1,tsType:{name:"CallableFunction"},description:""},isAddingToFavorites:{required:!1,tsType:{name:"boolean"},description:""},showAddToPurchaseListIcon:{required:!1,tsType:{name:"boolean"},description:""},onSaveToPurchaseListClick:{required:!1,tsType:{name:"CallableFunction"},description:""},linkComponent:{required:!1,tsType:{name:"any"},description:""},className:{required:!1,tsType:{name:"string"},description:""},maxQuantity:{required:!1,tsType:{name:"number"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => {}",signature:{arguments:[],return:{name:"signature",type:"object",raw:"{}",signature:{properties:[]}}}},description:""},productArea:{required:!1,tsType:{name:"union",raw:"'category' | 'recommended' | 'details' | 'cart' | 'inspiration'",elements:[{name:"literal",value:"'category'"},{name:"literal",value:"'recommended'"},{name:"literal",value:"'details'"},{name:"literal",value:"'cart'"},{name:"literal",value:"'inspiration'"}]},description:""},imagePriority:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  fetchPriority: 'auto' | 'high' | 'low'
  loading: 'eager' | 'lazy'
}`,signature:{properties:[{key:"fetchPriority",value:{name:"union",raw:"'auto' | 'high' | 'low'",elements:[{name:"literal",value:"'auto'"},{name:"literal",value:"'high'"},{name:"literal",value:"'low'"}],required:!0}},{key:"loading",value:{name:"union",raw:"'eager' | 'lazy'",elements:[{name:"literal",value:"'eager'"},{name:"literal",value:"'lazy'"}],required:!0}}]}},description:""},onVariantsButtonClick:{required:!0,tsType:{name:"CallableFunction"},description:""},onVariantChange:{required:!1,tsType:{name:"CallableFunction"},description:""},onCloseVariants:{required:!0,tsType:{name:"CallableFunction"},description:""},tooltips:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  addToFavorites?: string
  removeFromFavorites?: string
  addToPurchaseList?: string
  changeVariant?: string
  sellerOnly?: string
  accessoryPotItem?: string
  stockShortage?: string
  outOfStock?: string
}`,signature:{properties:[{key:"addToFavorites",value:{name:"string",required:!1}},{key:"removeFromFavorites",value:{name:"string",required:!1}},{key:"addToPurchaseList",value:{name:"string",required:!1}},{key:"changeVariant",value:{name:"string",required:!1}},{key:"sellerOnly",value:{name:"string",required:!1}},{key:"accessoryPotItem",value:{name:"string",required:!1}},{key:"stockShortage",value:{name:"string",required:!1}},{key:"outOfStock",value:{name:"string",required:!1}}]}},description:""},variantsInCart:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ variantId: string; quantity: number }",signature:{properties:[{key:"variantId",value:{name:"string",required:!0}},{key:"quantity",value:{name:"number",required:!0}}]}}],raw:"Array<{ variantId: string; quantity: number }>"},description:"",defaultValue:{value:"[]",computed:!1}},fullWidth:{required:!1,tsType:{name:"boolean"},description:""}}};export{wt as P};
