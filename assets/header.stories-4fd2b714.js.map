{"version":3,"file":"header.stories-4fd2b714.js","sources":["../../node_modules/popmotion/dist/es/utils/wrap.mjs","../../node_modules/framer-motion/dist/es/utils/use-cycle.mjs","../../src/design-system/components/organisms/header/header.tsx","../../src/design-system/components/molecules/nav-links/nav-links.tsx","../../src/logotypes/Spendrups_logo_mobile_vertical.svg","../../src/logotypes/Spendrups_logo_mobile_horizontal.svg","../../src/design-system/components/organisms/header/header.stories.tsx"],"sourcesContent":["const wrap = (min, max, v) => {\n    const rangeSize = max - min;\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\n};\n\nexport { wrap };\n","import { __read, __spreadArray } from 'tslib';\nimport { wrap } from 'popmotion';\nimport { useRef, useState, useCallback } from 'react';\n\n/**\n * Cycles through a series of visual properties. Can be used to toggle between or cycle through animations. It works similar to `useState` in React. It is provided an initial array of possible states, and returns an array of two arguments.\n *\n * An index value can be passed to the returned `cycle` function to cycle to a specific index.\n *\n * ```jsx\n * import * as React from \"react\"\n * import { motion, useCycle } from \"framer-motion\"\n *\n * export const MyComponent = () => {\n *   const [x, cycleX] = useCycle(0, 50, 100)\n *\n *   return (\n *     <motion.div\n *       animate={{ x: x }}\n *       onTap={() => cycleX()}\n *      />\n *    )\n * }\n * ```\n *\n * @param items - items to cycle through\n * @returns [currentState, cycleState]\n *\n * @public\n */\nfunction useCycle() {\n    var items = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        items[_i] = arguments[_i];\n    }\n    var index = useRef(0);\n    var _a = __read(useState(items[index.current]), 2), item = _a[0], setItem = _a[1];\n    var runCycle = useCallback(function (next) {\n        index.current =\n            typeof next !== \"number\"\n                ? wrap(0, items.length, index.current + 1)\n                : next;\n        setItem(items[index.current]);\n    }, __spreadArray([items.length], __read(items), false));\n    return [item, runCycle];\n}\n\nexport { useCycle };\n","import { useCycle } from 'framer-motion'\nimport React, { ReactElement, useEffect, useLayoutEffect, useRef, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport cx from 'classnames'\nimport styles from './header.module.css'\nimport useResizeObserver from '@react-hook/resize-observer'\n\nconst useSize = (target: any) => {\n  const [size, setSize] = useState()\n\n  useLayoutEffect(() => {\n    setSize(target?.current?.getBoundingClientRect())\n  }, [target])\n\n  // Where the magic happens\n  useResizeObserver(target, (entry: any) => setSize(entry.contentRect))\n\n  useEffect(() => console.log(size), [size])\n\n  return size\n}\n\nenum Area {\n  TOP = 'top',\n  LOGO = 'logo',\n  SEARCH = 'search',\n  SEARCH_NAV_LINKS = 'searchNavLinks',\n  BTN = 'btn',\n  NAV = 'nav',\n  MOBILE_NAV = 'mobileNav',\n}\n\nconst GridArea = ({ children, area }: { children?: React.ReactNode; area: Area }) => {\n  return (\n    <div className={styles[area]} data-area={area}>\n      {children}\n    </div>\n  )\n}\n\nconst Wrapper = ({ children, isOpen }: { children: React.ReactNode; isOpen: boolean }) => {\n  const target = useRef(null)\n  const size = useSize(target) || { width: 0, height: 0 }\n\n  return (\n    <motion.header className={styles.header} initial={false} animate={isOpen ? 'open' : 'closed'} ref={target} custom={size?.width}>\n      {children}\n    </motion.header>\n  )\n}\n\nconst Header = ({\n  children,\n}: {\n  topNavBar?: any\n  logotype?: any\n  searchNavBar?: any\n  navigation?: any\n  headerLinkList?: any\n  children: ({ Wrapper, Button, GridArea }: { Wrapper: any; Button: any; GridArea: any }, isOpen: any) => React.ReactNode\n}) => {\n  const [isOpen, toggleOpen] = useCycle(false, true)\n  const Path = (props: any) => <motion.path fill=\"transparent\" strokeWidth=\"3\" strokeLinecap=\"round\" {...props} />\n  const Button = () => (\n    <button\n      id=\"navigation-menu-btn\"\n      type={'button'}\n      aria-label=\"menu\"\n      aria-controls={'navigation-menu'}\n      aria-expanded={isOpen}\n      onClick={() => toggleOpen()}\n      className={cx(styles.menuButton, isOpen && styles.open)}\n    >\n      <svg width=\"23\" height=\"23\" viewBox=\"0 0 23 23\">\n        <Path\n          variants={{\n            closed: { d: 'M 2 2.5 L 20 2.5' },\n            open: { d: 'M 3 16.5 L 17 2.5' },\n          }}\n        />\n        <Path\n          d=\"M 2 9.423 L 20 9.423\"\n          variants={{\n            closed: { opacity: 1 },\n            open: { opacity: 0 },\n          }}\n          transition={{ duration: 0.1 }}\n        />\n        <Path\n          variants={{\n            closed: { d: 'M 2 16.346 L 20 16.346' },\n            open: { d: 'M 3 2.5 L 17 16.346' },\n          }}\n        />\n      </svg>\n    </button>\n  )\n\n  if (typeof children === 'function') {\n    return children({ Wrapper, Button, GridArea }, isOpen) as ReactElement\n  }\n  return children as ReactElement\n}\n\nexport { Header }\n","import React from 'react'\nimport { Icon } from '../../atoms'\nimport styles from './nav-links.module.css'\n\nconst NavLinks = () => {\n  return (\n    <div className={styles.navLinks}>\n      <Icon icon=\"icon-heart\" className={styles.navLinksIcon} />\n      <Icon icon=\"icon-shopping-cart\" className={styles.navLinksIcon} />\n    </div>\n  )\n}\n\nexport { NavLinks }\n","export default \"__VITE_ASSET__695ae55e__\"","export default \"__VITE_ASSET__4103b75e__\"","import React from 'react';\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { Header } from './header';\nimport { TopNavBarStory } from '../../molecules/top-nav-bar/top-nav-bar.stories';\nimport { TopNavBar } from '../../molecules/top-nav-bar/top-nav-bar';\nimport { Navigation } from '../../molecules/navigation/navigation';\nimport { NavigationStory } from '../../molecules/navigation/navigation.stories';\nimport { SearchNavBar } from '../../molecules/search-nav-bar/search-nav-bar';\nimport { SearchNavBarStory } from '../../molecules/search-nav-bar/search-nav-bar.stories';\nimport { Logotype } from '../../molecules/logotype/logotype';\nimport { NavLinks } from '../../molecules/nav-links/nav-links';\nimport logotype_desktop_horizontal from '../../../../logotypes/Spendrups_logo_desktop_horizontal.svg';\nimport logotype_mobile_vertical from '../../../../logotypes/Spendrups_logo_mobile_vertical.svg';\nimport logotype_mobile_horiontal from '../../../../logotypes/Spendrups_logo_mobile_horizontal.svg';\nconst meta: Meta<typeof Header> = {\n  title: 'Design System/Organisms/Header',\n  component: Header\n};\nexport default meta;\ntype Story = StoryObj<typeof Header>;\nconst HeaderStoryTemplate: Story = {\n  render: args => <Header>\n      {({\n      Wrapper,\n      Button,\n      GridArea\n    }, isOpen) => <Wrapper isOpen={isOpen}>\n          <GridArea area=\"top\">\n            <TopNavBar {...args.topNavBar} />\n          </GridArea>\n          <GridArea area=\"logo\">\n            <Logotype {...args.logotype} />\n          </GridArea>\n          <GridArea area=\"search\">\n            <SearchNavBar {...args.searchNavBar} />\n          </GridArea>\n          <GridArea area=\"searchNavLinks\">\n            <NavLinks />\n          </GridArea>\n          <GridArea area=\"btn\">\n            <Button />\n          </GridArea>\n          <GridArea area=\"nav\">\n            <Navigation {...args.navigation} isOpen={isOpen} />\n          </GridArea>\n        </Wrapper>}\n    </Header>\n};\nexport const HeaderStory = {\n  ...HeaderStoryTemplate,\n  args: {\n    topNavBar: TopNavBarStory.args,\n    navigation: NavigationStory.args,\n    searchNavBar: SearchNavBarStory.args,\n    logotype: {\n      logo: {\n        src: logotype_desktop_horizontal,\n        alt: 'logo',\n        href: '/',\n        id: 'logo',\n        sources: [{\n          srcset: logotype_mobile_vertical,\n          media: `(max-width: 767px)`\n        }, {\n          srcset: logotype_mobile_horiontal,\n          media: `(min-width: 768px)`\n        }]\n      },\n      linkComponent: 'a'\n    },\n    headerLinkList: {\n      links: [{\n        navLinkType: 'favorites',\n        href: '/favorites',\n        text: 'My favorites',\n        isExternal: false\n      }, {\n        navLinkType: 'cart',\n        href: '/cart',\n        text: 'Cart',\n        isExternal: false\n      }],\n      linkComponent: 'a'\n    }\n  }\n};\nHeaderStory.parameters = {\n  ...HeaderStory.parameters,\n  docs: {\n    ...HeaderStory.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  ...HeaderStoryTemplate,\\n  args: {\\n    topNavBar: TopNavBarStory.args,\\n    navigation: NavigationStory.args,\\n    searchNavBar: SearchNavBarStory.args,\\n    logotype: {\\n      logo: {\\n        src: logotype_desktop_horizontal,\\n        alt: 'logo',\\n        href: '/',\\n        id: 'logo',\\n        sources: [{\\n          srcset: logotype_mobile_vertical,\\n          media: `(max-width: 767px)`\\n        }, {\\n          srcset: logotype_mobile_horiontal,\\n          media: `(min-width: 768px)`\\n        }]\\n      },\\n      linkComponent: 'a'\\n    },\\n    headerLinkList: {\\n      links: [{\\n        navLinkType: 'favorites',\\n        href: '/favorites',\\n        text: 'My favorites',\\n        isExternal: false\\n      }, {\\n        navLinkType: 'cart',\\n        href: '/cart',\\n        text: 'Cart',\\n        isExternal: false\\n      }],\\n      linkComponent: 'a'\\n    }\\n  }\\n}\",\n      ...HeaderStory.parameters?.docs?.source\n    }\n  }\n};"],"names":["wrap","min","max","v","rangeSize","useCycle","items","_i","index","useRef","_a","__read","useState","item","setItem","runCycle","useCallback","next","__spreadArray","useSize","target","size","setSize","useLayoutEffect","useResizeObserver","useEffect","GridArea","children","_jsx","styles","area","Wrapper","motion","header","isOpen","width","Header","toggleOpen","Path","props","Button","cx","_jsxs","NavLinks","className","navLinks","Icon","icon","navLinksIcon","logotype_mobile_vertical","logotype_mobile_horiontal","meta","title","component","HeaderStoryTemplate","render","TopNavBar","args","topNavBar","Logotype","logotype","SearchNavBar","searchNavBar","Navigation","navigation","HeaderStory","TopNavBarStory","NavigationStory","SearchNavBarStory","logo","src","logotype_desktop_horizontal","alt","href","id","sources","srcset","media","linkComponent","headerLinkList","links","navLinkType","text","isExternal","parameters","docs","source","originalSource"],"mappings":"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"}