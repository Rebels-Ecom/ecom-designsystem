{"version":3,"file":"header.stories-b88a6c4a.js","sources":["../../src/design-system/components/organisms/header/header.tsx","../../src/design-system/components/molecules/nav-links/nav-links.tsx","../../src/logotypes/Spendrups_logo_vertical.svg","../../src/design-system/components/organisms/header/header.stories.tsx"],"sourcesContent":["import React, { ReactElement, useEffect, useLayoutEffect, useRef, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport cx from 'classnames'\nimport styles from './header.module.css'\nimport useResizeObserver from '@react-hook/resize-observer'\n\nconst useSize = (target: any) => {\n  const [size, setSize] = useState()\n\n  useLayoutEffect(() => {\n    setSize(target?.current?.getBoundingClientRect())\n  }, [target])\n\n  // Where the magic happens\n  useResizeObserver(target, (entry: any) => setSize(entry.contentRect))\n\n  useEffect(() => console.log(size), [size])\n\n  return size\n}\n\nenum Area {\n  TOP = 'top',\n  LOGO = 'logo',\n  SEARCH = 'search',\n  SEARCH_NAV_LINKS = 'searchNavLinks',\n  BTN = 'btn',\n  NAV = 'nav',\n  MOBILE_NAV = 'mobileNav',\n}\n\nconst GridArea = ({ children, area }: { children?: React.ReactNode; area: Area }) => {\n  return (\n    <div className={styles[area]} data-area={area}>\n      {children}\n    </div>\n  )\n}\n\nconst Wrapper = ({ children, isOpen }: { children: React.ReactNode; isOpen: boolean }) => {\n  const target = useRef(null)\n  const size = useSize(target) || { width: 0, height: 0 }\n\n  return (\n    <motion.header className={styles.header} initial={false} animate={isOpen ? 'open' : 'closed'} ref={target} custom={size?.width}>\n      {children}\n    </motion.header>\n  )\n}\n\nconst Header = ({\n  children,\n  isOpen,\n}: {\n  isOpen: boolean\n  topNavBar?: any\n  logotype?: any\n  searchNavBar?: any\n  navigation?: any\n  headerLinkList?: any\n  children: ({ Wrapper, Button, GridArea }: { Wrapper: any; Button: any; GridArea: any }) => React.ReactNode\n}) => {\n  const Path = (props: any) => <motion.path fill=\"transparent\" strokeWidth=\"3\" strokeLinecap=\"round\" {...props} />\n  const Button = ({ onClick }: any) => (\n    <button\n      id=\"navigation-menu-btn\"\n      type={'button'}\n      aria-label=\"menu\"\n      aria-controls={'navigation-menu'}\n      aria-expanded={isOpen}\n      onClick={onClick}\n      className={cx(styles.menuButton, isOpen && styles.open)}\n    >\n      <svg width=\"23\" height=\"23\" viewBox=\"0 0 23 23\">\n        <Path\n          variants={{\n            closed: { d: 'M 2 2.5 L 20 2.5' },\n            open: { d: 'M 3 16.5 L 17 2.5' },\n          }}\n        />\n        <Path\n          d=\"M 2 9.423 L 20 9.423\"\n          variants={{\n            closed: { opacity: 1 },\n            open: { opacity: 0 },\n          }}\n          transition={{ duration: 0.1 }}\n        />\n        <Path\n          variants={{\n            closed: { d: 'M 2 16.346 L 20 16.346' },\n            open: { d: 'M 3 2.5 L 17 16.346' },\n          }}\n        />\n      </svg>\n    </button>\n  )\n\n  if (typeof children === 'function') {\n    return children({ Wrapper, Button, GridArea }) as ReactElement\n  }\n  return children as ReactElement\n}\n\nexport { Header }\n","import React from 'react'\nimport { Icon } from '../../atoms'\nimport styles from './nav-links.module.css'\n\nconst NavLinks = () => {\n  return (\n    <div className={styles.navLinks}>\n      <Icon icon=\"icon-heart\" className={styles.navLinksIcon} />\n      <Icon icon=\"icon-shopping-cart\" className={styles.navLinksIcon} />\n    </div>\n  )\n}\n\nexport { NavLinks }\n","export default \"__VITE_ASSET__bd6f3079__\"","import React from 'react';\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { Header } from './header';\nimport { TopNavBarStory } from '../../molecules/top-nav-bar/top-nav-bar.stories';\nimport { TopNavBar } from '../../molecules/top-nav-bar/top-nav-bar';\nimport { Navigation } from '../../molecules/navigation/navigation';\nimport { NavigationStory } from '../../molecules/navigation/navigation.stories';\nimport { SearchNavBar } from '../../molecules/search-nav-bar/search-nav-bar';\nimport { SearchNavBarStory } from '../../molecules/search-nav-bar/search-nav-bar.stories';\nimport { Logotype } from '../../molecules/logotype/logotype';\nimport { NavLinks } from '../../molecules/nav-links/nav-links';\nimport logotype_desktop_horizontal from '../../../../logotypes/Spendrups_logo_horizontal.svg';\nimport logotype_mobile_vertical from '../../../../logotypes/Spendrups_logo_vertical.svg';\nconst meta: Meta<typeof Header> = {\n  title: 'Design System/Organisms/Header',\n  component: Header\n};\nexport default meta;\ntype Story = StoryObj<typeof Header>;\nconst HeaderStoryTemplate: Story = {\n  render: args => {\n    const [isOpen, setIsOpen] = React.useState(false);\n    const handleOnClick = () => setIsOpen(!isOpen);\n    return <Header isOpen={isOpen}>\n        {({\n        Wrapper,\n        Button,\n        GridArea\n      }) => <Wrapper isOpen={isOpen}>\n            <GridArea area=\"top\">\n              <TopNavBar {...args.topNavBar} />\n            </GridArea>\n            <GridArea area=\"logo\">\n              <Logotype {...args.logotype} />\n            </GridArea>\n            <GridArea area=\"search\">\n              <SearchNavBar {...args.searchNavBar} />\n            </GridArea>\n            <GridArea area=\"searchNavLinks\">\n              <NavLinks />\n            </GridArea>\n            <GridArea area=\"btn\">\n              <Button onClick={handleOnClick} />\n            </GridArea>\n            <GridArea area=\"nav\">\n              <Navigation {...args.navigation} isOpen={isOpen} />\n            </GridArea>\n          </Wrapper>}\n      </Header>;\n  }\n};\nexport const HeaderStory = {\n  ...HeaderStoryTemplate,\n  args: {\n    topNavBar: TopNavBarStory.args,\n    navigation: NavigationStory.args,\n    searchNavBar: SearchNavBarStory.args,\n    logotype: {\n      logo: {\n        src: logotype_desktop_horizontal,\n        alt: 'logo',\n        href: '/',\n        id: 'logo',\n        sources: [{\n          srcset: logotype_mobile_vertical,\n          media: `(max-width: 767px)`\n        }, {\n          srcset: logotype_desktop_horizontal,\n          media: `(min-width: 768px)`\n        }]\n      },\n      linkComponent: 'a'\n    },\n    headerLinkList: {\n      links: [{\n        navLinkType: 'favorites',\n        href: '/favorites',\n        text: 'My favorites',\n        isExternal: false\n      }, {\n        navLinkType: 'cart',\n        href: '/cart',\n        text: 'Cart',\n        isExternal: false\n      }],\n      linkComponent: 'a'\n    }\n  }\n};\nHeaderStory.parameters = {\n  ...HeaderStory.parameters,\n  docs: {\n    ...HeaderStory.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  ...HeaderStoryTemplate,\\n  args: {\\n    topNavBar: TopNavBarStory.args,\\n    navigation: NavigationStory.args,\\n    searchNavBar: SearchNavBarStory.args,\\n    logotype: {\\n      logo: {\\n        src: logotype_desktop_horizontal,\\n        alt: 'logo',\\n        href: '/',\\n        id: 'logo',\\n        sources: [{\\n          srcset: logotype_mobile_vertical,\\n          media: `(max-width: 767px)`\\n        }, {\\n          srcset: logotype_desktop_horizontal,\\n          media: `(min-width: 768px)`\\n        }]\\n      },\\n      linkComponent: 'a'\\n    },\\n    headerLinkList: {\\n      links: [{\\n        navLinkType: 'favorites',\\n        href: '/favorites',\\n        text: 'My favorites',\\n        isExternal: false\\n      }, {\\n        navLinkType: 'cart',\\n        href: '/cart',\\n        text: 'Cart',\\n        isExternal: false\\n      }],\\n      linkComponent: 'a'\\n    }\\n  }\\n}\",\n      ...HeaderStory.parameters?.docs?.source\n    }\n  }\n};"],"names":["useSize","target","size","setSize","useState","useLayoutEffect","useResizeObserver","useEffect","GridArea","children","_jsx","styles","area","Wrapper","useRef","motion","header","isOpen","width","Header","Path","props","Button","onClick","_jsxs","NavLinks","className","navLinks","Icon","icon","navLinksIcon","logotype_mobile_vertical","meta","title","component","HeaderStoryTemplate","render","args","setIsOpen","React","handleOnClick","TopNavBar","topNavBar","Logotype","logotype","SearchNavBar","searchNavBar","Navigation","navigation","HeaderStory","TopNavBarStory","NavigationStory","SearchNavBarStory","logo","src","logotype_desktop_horizontal","alt","href","id","sources","srcset","media","linkComponent","headerLinkList","links","navLinkType","text","isExternal","parameters","docs","source","originalSource"],"mappings":"y4BAMAA,EAAAC,GAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAEAC,OAAAA,EAAAA,gBAAAA,IAAAA,OACEF,GAAAA,EAAAA,GAAAA,YAAAA,EAAAA,UAAAA,YAAAA,EAAAA,uBAAAA,CAAgD,EAAA,CAAAF,CAAA,CAAA,EAIlDK,EAAAA,EAAAA,GAAAA,EAAAA,EAAAA,WAAAA,CAAAA,EAEAC,EAAAA,UAAAA,IAAAA,QAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,EAEAL,CACF,EAYAM,EAAA,CAAA,CAAkB,SAAAC,EAAEA,KAAAA,CAA2D,IAC7EC,EAAA,MAAA,CACE,UAAAC,EAAAC,CAAA,EAA2B,YAAAA,EAAcA,SAAAA,CAAKH,CAAAA,EAMlDI,EAAA,CAAA,CAAiB,SAAAJ,EAAEA,OAAAA,CAAiE,IAAA,CAClF,MAAAR,EAAAa,SAAA,IAAA,EACAZ,EAAAF,EAAAC,CAAA,GAAA,CAAgC,MAAA,EAAS,OAAA,CAAW,EAEpD,OAAAS,EAAAK,EAAA,OAAA,CACgB,UAAAJ,EAAA,OAAmBK,QAAAA,GAAiB,QAAAC,EAAA,OAAA,SAAkC,IAAAhB,EAAeA,OAAAA,GAAAA,YAAAA,EAAAA,MAAsBiB,SAAAA,CAAMT,CAAAA,CAInI,EAEAU,EAAA,CAAA,CAAgB,SAAAV,EACdA,OAAAA,CAUF,IAAA,CACE,MAAAW,EAAAC,GAAAX,EAAAK,EAAA,KAAA,CAAyC,KAAA,cAAM,YAAA,IAA0B,cAAA,QAAkB,GAAAM,CAAYA,CAAAA,EACvGC,EAAA,CAAA,CAAgB,QAAAC,CAAEA,IAAAA,EAAAA,SAAAA,CAChB,GAAA,sBACK,KAAA,SACG,aAAA,OACK,gBAAA,kBACI,gBAAAN,EACAA,QAAAA,EACfM,UAAAA,EAAAA,EAAAA,WAAAA,GAAAA,EAAAA,IAAAA,EACsD,SAAAC,EAAA,MAAA,CAEtD,MAAA,KAAW,OAAA,KAAY,QAAA,YAAa,SAAA,CAAAd,EAAAU,EAAA,CAC7B,SAAA,CACO,OAAA,CACA,EAAA,kBAAK,EAAmB,KAAA,CAC1B,EAAA,mBAAK,CAAoB,CACjC,CAAA,EAAAV,EAAAU,EAAA,CAEG,EAAA,uBACD,SAAA,CACQ,OAAA,CACA,QAAA,CAAW,EAAE,KAAA,CACf,QAAA,CAAW,CAAE,EACrB,WAAA,CACY,SAAA,EAAY,CAAI,CAAA,EAAAV,EAAAU,EAAA,CAEzB,SAAA,CACO,OAAA,CACA,EAAA,wBAAK,EAAyB,KAAA,CAChC,EAAA,qBAAK,CAAsB,CACnC,CAAA,CAAA,CACA,CAAA,CAAA,CAAA,EAKR,OAAA,OAAAX,GAAA,WACEA,EAAA,CAAgB,QAAAI,EAAEA,OAAAA,EAASS,SAAAA,CAAQd,CAAAA,EAErCC,CACF,2uBClGMgB,EAAWA,MAEb,MAAA,CAAKC,UAAWf,EAAOgB,SAASlB,SAAA,CAC9BC,EAACkB,EAAI,CAACC,KAAK,aAAaH,UAAWf,EAAOmB,YAAAA,CAAgB,EAC1DpB,EAACkB,EAAI,CAACC,KAAK,qBAAqBH,UAAWf,EAAOmB,YAAAA,CAAgB,CAAA,CAAA,CAC9D,ECTKC,EAAA,GAAA,IAAA,IAAA,uCAAA,YAAA,GAAA,EAAA,KCaTC,EAA4B,CAChCC,MAAO,iCACPC,UAAWf,CACb,EAGMgB,EAA6B,CACjCC,OAAgBC,GAAA,CACd,KAAM,CAACpB,EAAQqB,CAAS,EAAIC,EAAMnC,SAAS,EAAK,EAC1CoC,EAAgBA,IAAMF,EAAU,CAACrB,CAAM,EAC7C,SAAQE,EAAM,CAACF,OAAAA,EAAeR,SACzBA,CAAC,CACFI,QAAAA,EACAS,OAAAA,EACAd,SAAAA,CAAAA,MACKK,EAAO,CAACI,OAAAA,EAAeR,SAAA,CACxBC,EAACF,EAAQ,CAACI,KAAK,MAAKH,WACjBgC,EAAS,CAAA,GAAKJ,EAAKK,SAAAA,CAAS,CAAA,CACpB,EACXhC,EAACF,EAAQ,CAACI,KAAK,OAAMH,WAClBkC,EAAQ,CAAA,GAAKN,EAAKO,QAAAA,CAAQ,CAAA,CAClB,EACXlC,EAACF,EAAQ,CAACI,KAAK,SAAQH,WACpBoC,EAAY,CAAA,GAAKR,EAAKS,YAAAA,CAAY,CAAA,CAC1B,EACXpC,EAACF,EAAQ,CAACI,KAAK,iBAAgBH,SAC7BC,EAACe,EAAQ,EAAA,CAAA,CACA,EACXf,EAACF,EAAQ,CAACI,KAAK,MAAKH,WACjBa,EAAM,CAACC,QAASiB,CAAAA,CAAc,CAAA,CACtB,EACX9B,EAACF,EAAQ,CAACI,KAAK,MAAKH,WACjBsC,EAAU,CAAA,GAAKV,EAAKW,WAAY/B,OAAAA,CAAAA,CAAe,CAAA,CACvC,CAAA,CAAA,CAAA,CAAA,CAER,CACb,CACF,EACagC,EAAc,CACzB,GAAGd,EACHE,KAAM,CACJK,UAAWQ,EAAeb,KAC1BW,WAAYG,EAAgBd,KAC5BS,aAAcM,EAAkBf,KAChCO,SAAU,CACRS,KAAM,CACJC,IAAKC,EACLC,IAAK,OACLC,KAAM,IACNC,GAAI,OACJC,QAAS,CAAC,CACRC,OAAQ7B,EACR8B,MAAQ,oBAAA,EACP,CACDD,OAAQL,EACRM,MAAQ,oBAAA,CACT,CACH,EACAC,cAAe,GACjB,EACAC,eAAgB,CACdC,MAAO,CAAC,CACNC,YAAa,YACbR,KAAM,aACNS,KAAM,eACNC,WAAY,EAAA,EACX,CACDF,YAAa,OACbR,KAAM,QACNS,KAAM,OACNC,WAAY,EAAA,CACb,EACDL,cAAe,GACjB,CACF,CACF,YACAb,EAAYmB,WAAa,CACvB,GAAGnB,EAAYmB,WACfC,KAAM,CACJ,IAAGpB,EAAAA,EAAYmB,aAAZnB,YAAAA,EAAwBoB,KAC3BC,OAAQ,CACNC,eAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAChB,IAAGtB,GAAAA,EAAAA,EAAYmB,aAAZnB,YAAAA,EAAwBoB,OAAxBpB,YAAAA,EAA8BqB,MACnC,CACF,CACF"}