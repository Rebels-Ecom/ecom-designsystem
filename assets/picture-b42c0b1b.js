import{r as n,j as s}from"./jsx-runtime-03333307.js";import{c as p}from"./index-09749a66.js";const j="_picture_1euz3_1",P="_fallback_1euz3_9",N="_image_1euz3_19",V="_loading_1euz3_37",E="_opacityLayer_1euz3_47",b="_withLightBackground_1euz3_61",D="_withDarkBackground_1euz3_69",R="_skeleton_1euz3_77",a={picture:j,fallback:P,image:N,loading:V,opacityLayer:E,withLightBackground:b,withDarkBackground:D,skeleton:R},v=i=>{try{return new URL(i),!0}catch{return!1}},I=({id:i,sources:u,src:o,width:g,height:y,loading:k="lazy",decoding:w="auto",alt:L="",fetchPriority:z="auto",classNamePicture:q,classNameImg:T,pictureWithOpacity:f,fallbackImageUrl:t=""})=>{const[r,h]=n.useState({src:o,sources:u}),[c,l]=n.useState(!0),d=n.useRef(null);n.useEffect(()=>{const e=u,m=v(o)?o:"";h({src:m,sources:e}),l(!0)},[o,u]),n.useEffect(()=>{d.current&&d.current.complete&&_()},[r]);const x=()=>{t&&v(t)&&h({src:t,sources:[{srcset:t}]}),l(!1)},_=()=>{l(!1)},B=()=>{l(!0)},S=()=>{var e;return(e=r==null?void 0:r.sources)!=null&&e.length?!!r.src:!1};return s.jsxs(s.Fragment,{children:[s.jsxs("picture",{className:p(a.picture,q),id:i,children:[r.sources.map((e,m)=>s.jsx("source",{srcSet:e.srcset||t,type:e.type,media:e.media,sizes:e.sizes},`${i}_source_${m}`)),s.jsx("img",{ref:d,src:r.src||t,className:p(a.image,T,{[a.fallback]:!S()&&!!t},{[a.loading]:c}),loading:k,decoding:w,alt:L,"aria-busy":c,width:g,height:y,fetchpriority:z,onError:x,onLoad:_,onLoadStart:B})]}),c&&s.jsx("div",{className:a.skeleton,style:{width:g,height:y}}),f&&s.jsx("div",{className:p(a.opacityLayer,f==="light"?a.withLightBackground:a.withDarkBackground),"aria-hidden":"true"})]})};I.__docgenInfo={description:"",methods:[],displayName:"Picture",props:{id:{required:!0,tsType:{name:"string"},description:""},sources:{required:!0,tsType:{name:"Array",elements:[{name:"IPictureSource"}],raw:"Array<IPictureSource>"},description:""},src:{required:!0,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},height:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},loading:{required:!1,tsType:{name:"union",raw:"'eager' | 'lazy'",elements:[{name:"literal",value:"'eager'"},{name:"literal",value:"'lazy'"}]},description:"",defaultValue:{value:"'lazy'",computed:!1}},decoding:{required:!1,tsType:{name:"union",raw:"'sync' | 'async' | 'auto'",elements:[{name:"literal",value:"'sync'"},{name:"literal",value:"'async'"},{name:"literal",value:"'auto'"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},alt:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},fetchPriority:{required:!1,tsType:{name:"union",raw:"'high' | 'low' | 'auto'",elements:[{name:"literal",value:"'high'"},{name:"literal",value:"'low'"},{name:"literal",value:"'auto'"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},classNamePicture:{required:!1,tsType:{name:"string"},description:""},classNameImg:{required:!1,tsType:{name:"string"},description:""},pictureWithOpacity:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:""},fallbackImageUrl:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}}}};export{I as P};
