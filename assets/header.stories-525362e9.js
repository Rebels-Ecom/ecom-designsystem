import{r as d,R as me}from"./index-6f814c40.js";import{c as ye}from"./index-74f03c09.js";import{a as c,j as D}from"./jsx-runtime-76c5c2e2.js";import{_ as F,a as _e,m as ne,N as xe,b as we}from"./navigation.stories-314da6a0.js";import{T as ze,a as Ee}from"./top-nav-bar.stories-adc6bc25.js";import{S as Oe,a as ke}from"./search-nav-bar.stories-5637bde4.js";import{L as Be}from"./logotype-a1a866f0.js";import{I as X}from"./icon-fe9a714b.js";import{l as Se}from"./Spendrups_logo_desktop_horizontal-1d0ea7ab.js";const Re=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e};function Te(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=d.useRef(0),n=F(d.useState(e[r.current]),2),o=n[0],a=n[1],i=d.useCallback(function(s){r.current=typeof s!="number"?Re(0,e.length,r.current+1):s,a(e[r.current])},_e([e.length],F(e),!1));return[o,i]}const Le="_header_1kpnc_1",Ne="_navigationOpen_1kpnc_51",Ce="_menuButton_1kpnc_65",Ie="_open_1kpnc_85",Me="_icon_1kpnc_89",De="_top_1kpnc_117",He="_logo_1kpnc_129",Pe="_search_1kpnc_145",Ve="_searchNavLinks_1kpnc_157",We="_nav_1kpnc_51",Ae="_btn_1kpnc_189",qe="_mobileNav_1kpnc_215",B={header:Le,navigationOpen:Ne,menuButton:Ce,open:Ie,icon:Me,top:De,logo:He,search:Pe,searchNavLinks:Ve,nav:We,btn:Ae,mobileNav:qe};var f=[],Fe=function(){return f.some(function(e){return e.activeTargets.length>0})},Xe=function(){return f.some(function(e){return e.skippedTargets.length>0})},U="ResizeObserver loop completed with undelivered notifications.",Ue=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:U}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=U),window.dispatchEvent(e)},_;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(_||(_={}));var h=function(e){return Object.freeze(e)},$e=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,h(this)}return e}(),oe=function(){function e(t,r,n,o){return this.x=t,this.y=r,this.width=n,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,h(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,o=t.top,a=t.right,i=t.bottom,s=t.left,u=t.width,v=t.height;return{x:r,y:n,top:o,right:a,bottom:i,left:s,width:u,height:v}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),H=function(e){return e instanceof SVGElement&&"getBBox"in e},ie=function(e){if(H(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var o=e,a=o.offsetWidth,i=o.offsetHeight;return!(a||i||e.getClientRects().length)},$=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},je=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},y=typeof window<"u"?window:{},z=new WeakMap,j=/auto|scroll/,Je=/^tb|vertical/,Ye=/msie|trident/i.test(y.navigator&&y.navigator.userAgent),l=function(e){return parseFloat(e||"0")},p=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new $e((r?t:e)||0,(r?e:t)||0)},J=h({devicePixelContentBoxSize:p(),borderBoxSize:p(),contentBoxSize:p(),contentRect:new oe(0,0,0,0)}),ae=function(e,t){if(t===void 0&&(t=!1),z.has(e)&&!t)return z.get(e);if(ie(e))return z.set(e,J),J;var r=getComputedStyle(e),n=H(e)&&e.ownerSVGElement&&e.getBBox(),o=!Ye&&r.boxSizing==="border-box",a=Je.test(r.writingMode||""),i=!n&&j.test(r.overflowY||""),s=!n&&j.test(r.overflowX||""),u=n?0:l(r.paddingTop),v=n?0:l(r.paddingRight),b=n?0:l(r.paddingBottom),g=n?0:l(r.paddingLeft),ve=n?0:l(r.borderTopWidth),le=n?0:l(r.borderRightWidth),de=n?0:l(r.borderBottomWidth),fe=n?0:l(r.borderLeftWidth),P=g+v,V=u+b,R=fe+le,T=ve+de,W=s?e.offsetHeight-T-e.clientHeight:0,A=i?e.offsetWidth-R-e.clientWidth:0,he=o?P+R:0,pe=o?V+T:0,x=n?n.width:l(r.width)-he-A,w=n?n.height:l(r.height)-pe-W,be=x+P+A+R,ge=w+V+W+T,q=h({devicePixelContentBoxSize:p(Math.round(x*devicePixelRatio),Math.round(w*devicePixelRatio),a),borderBoxSize:p(be,ge,a),contentBoxSize:p(x,w,a),contentRect:new oe(g,u,x,w)});return z.set(e,q),q},se=function(e,t,r){var n=ae(e,r),o=n.borderBoxSize,a=n.contentBoxSize,i=n.devicePixelContentBoxSize;switch(t){case _.DEVICE_PIXEL_CONTENT_BOX:return i;case _.BORDER_BOX:return o;default:return a}},Ge=function(){function e(t){var r=ae(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=h([r.borderBoxSize]),this.contentBoxSize=h([r.contentBoxSize]),this.devicePixelContentBoxSize=h([r.devicePixelContentBoxSize])}return e}(),ce=function(e){if(ie(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},Ke=function(){var e=1/0,t=[];f.forEach(function(i){if(i.activeTargets.length!==0){var s=[];i.activeTargets.forEach(function(v){var b=new Ge(v.target),g=ce(v.target);s.push(b),v.lastReportedSize=se(v.target,v.observedBox),g<e&&(e=g)}),t.push(function(){i.callback.call(i.observer,s,i.observer)}),i.activeTargets.splice(0,i.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var o=n[r];o()}return e},Y=function(e){f.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(o){o.isActive()&&(ce(o.target)>e?r.activeTargets.push(o):r.skippedTargets.push(o))})})},Qe=function(){var e=0;for(Y(e);Fe();)e=Ke(),Y(e);return Xe()&&Ue(),e>0},L,ue=[],Ze=function(){return ue.splice(0).forEach(function(e){return e()})},et=function(e){if(!L){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return Ze()}).observe(r,n),L=function(){r.textContent="".concat(t?t--:t++)}}ue.push(e),L()},tt=function(e){et(function(){requestAnimationFrame(e)})},k=0,rt=function(){return!!k},nt=250,ot={attributes:!0,characterData:!0,childList:!0,subtree:!0},G=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],K=function(e){return e===void 0&&(e=0),Date.now()+e},N=!1,it=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=nt),!N){N=!0;var n=K(t);tt(function(){var o=!1;try{o=Qe()}finally{if(N=!1,t=n-K(),!rt())return;o?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,ot)};document.body?r():y.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),G.forEach(function(r){return y.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),G.forEach(function(r){return y.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),M=new it,Q=function(e){!k&&e>0&&M.start(),k+=e,!k&&M.stop()},at=function(e){return!H(e)&&!je(e)&&getComputedStyle(e).display==="inline"},st=function(){function e(t,r){this.target=t,this.observedBox=r||_.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=se(this.target,this.observedBox,!0);return at(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),ct=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),E=new WeakMap,Z=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},O=function(){function e(){}return e.connect=function(t,r){var n=new ct(t,r);E.set(t,n)},e.observe=function(t,r,n){var o=E.get(t),a=o.observationTargets.length===0;Z(o.observationTargets,r)<0&&(a&&f.push(o),o.observationTargets.push(new st(r,n&&n.box)),Q(1),M.schedule())},e.unobserve=function(t,r){var n=E.get(t),o=Z(n.observationTargets,r),a=n.observationTargets.length===1;o>=0&&(a&&f.splice(f.indexOf(n),1),n.observationTargets.splice(o,1),Q(-1))},e.disconnect=function(t){var r=this,n=E.get(t);n.observationTargets.slice().forEach(function(o){return r.unobserve(t,o.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),ut=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");O.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");O.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");O.unobserve(this,t)},e.prototype.disconnect=function(){O.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const vt=me[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],lt=vt,dt=e=>{const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),t},ft=dt,ht=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:ut;function pt(){}function bt(e,t){const r=mt(),n=ft(t);return lt(()=>{let o=!1;const a=e&&"current"in e?e.current:e;if(!a)return pt;function i(s,u){o||n.current(s,u)}return r.subscribe(a,i),()=>{o=!0,r.unsubscribe(a,i)}},[e,r,n]),r.observer}function gt(){let e=!1,t=[];const r=new Map,n=new ht((o,a)=>{t=t.concat(o);function i(){const s=new Set;for(let u=0;u<t.length;u++){if(s.has(t[u].target))continue;s.add(t[u].target);const v=r.get(t[u].target);v==null||v.forEach(b=>b(t[u],a))}t=[],e=!1}e||window.requestAnimationFrame(i),e=!0});return{observer:n,subscribe(o,a){var i;n.observe(o);const s=(i=r.get(o))!==null&&i!==void 0?i:[];s.push(a),r.set(o,s)},unsubscribe(o,a){var i;const s=(i=r.get(o))!==null&&i!==void 0?i:[];if(s.length===1){n.unobserve(o),r.delete(o);return}const u=s.indexOf(a);u!==-1&&s.splice(u,1),r.set(o,s)}}}let C;const mt=()=>C||(C=gt()),yt=e=>{const[t,r]=d.useState();return d.useLayoutEffect(()=>{var n;r((n=e==null?void 0:e.current)==null?void 0:n.getBoundingClientRect())},[e]),bt(e,n=>r(n.contentRect)),d.useEffect(()=>console.log(t),[t]),t},_t=({children:e,area:t})=>c("div",{className:B[t],"data-area":t,children:e}),xt=({children:e,isOpen:t})=>{const r=d.useRef(null),n=yt(r)||{width:0,height:0};return c(ne.header,{className:B.header,initial:!1,animate:t?"open":"closed",ref:r,custom:n==null?void 0:n.width,children:e})},S=({children:e})=>{const[t,r]=Te(!1,!0),n=a=>c(ne.path,{fill:"transparent",strokeWidth:"3",strokeLinecap:"round",...a}),o=()=>c("button",{id:"navigation-menu-btn",type:"button","aria-label":"menu","aria-controls":"navigation-menu","aria-expanded":t,onClick:()=>r(),className:ye(B.menuButton,t&&B.open),children:D("svg",{width:"23",height:"23",viewBox:"0 0 23 23",children:[c(n,{variants:{closed:{d:"M 2 2.5 L 20 2.5"},open:{d:"M 3 16.5 L 17 2.5"}}}),c(n,{d:"M 2 9.423 L 20 9.423",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.1}}),c(n,{variants:{closed:{d:"M 2 16.346 L 20 16.346"},open:{d:"M 3 2.5 L 17 16.346"}}})]})});return typeof e=="function"?e({Wrapper:xt,Button:o,GridArea:_t},t):e};try{S.displayName="Header",S.__docgenInfo={description:"",displayName:"Header",props:{topNavBar:{defaultValue:null,description:"",name:"topNavBar",required:!1,type:{name:"any"}},logotype:{defaultValue:null,description:"",name:"logotype",required:!1,type:{name:"any"}},searchNavBar:{defaultValue:null,description:"",name:"searchNavBar",required:!1,type:{name:"any"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"any"}},headerLinkList:{defaultValue:null,description:"",name:"headerLinkList",required:!1,type:{name:"any"}}}}}catch{}const wt="_navLinks_1gomt_1",zt="_navLinksIcon_1gomt_7",I={navLinks:wt,navLinksIcon:zt},Et=()=>D("div",{className:I.navLinks,children:[c(X,{icon:"icon-heart",className:I.navLinksIcon}),c(X,{icon:"icon-shopping-cart",className:I.navLinksIcon})]}),Ot=""+new URL("Spendrups_logo_mobile_vertical-86d2fa6e.svg",import.meta.url).href,kt=""+new URL("Spendrups_logo_mobile_horizontal-cd1c493b.svg",import.meta.url).href,Bt={title:"Design System/Organisms/Header",component:S},St={render:e=>c(S,{children:({Wrapper:t,Button:r,GridArea:n},o)=>D(t,{isOpen:o,children:[c(n,{area:"top",children:c(Ee,{...e.topNavBar})}),c(n,{area:"logo",children:c(Be,{...e.logotype})}),c(n,{area:"search",children:c(ke,{...e.searchNavBar})}),c(n,{area:"searchNavLinks",children:c(Et,{})}),c(n,{area:"btn",children:c(r,{})}),c(n,{area:"nav",children:c(we,{...e.navigation,isOpen:o})})]})})},m={...St,args:{topNavBar:ze.args,navigation:xe.args,searchNavBar:Oe.args,logotype:{logo:{src:Se,alt:"logo",href:"/",id:"logo",sources:[{srcset:Ot,media:"(max-width: 767px)"},{srcset:kt,media:"(min-width: 768px)"}]},linkComponent:"a"},headerLinkList:{links:[{navLinkType:"favorites",href:"/favorites",text:"My favorites",isExternal:!1},{navLinkType:"cart",href:"/cart",text:"Cart",isExternal:!1}],linkComponent:"a"}}};var ee,te,re;m.parameters={...m.parameters,docs:{...(ee=m.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  ...HeaderStoryTemplate,
  args: {
    topNavBar: TopNavBarStory.args,
    navigation: NavigationStory.args,
    searchNavBar: SearchNavBarStory.args,
    logotype: {
      logo: {
        src: logotype_desktop_horizontal,
        alt: 'logo',
        href: '/',
        id: 'logo',
        sources: [{
          srcset: logotype_mobile_vertical,
          media: \`(max-width: 767px)\`
        }, {
          srcset: logotype_mobile_horiontal,
          media: \`(min-width: 768px)\`
        }]
      },
      linkComponent: 'a'
    },
    headerLinkList: {
      links: [{
        navLinkType: 'favorites',
        href: '/favorites',
        text: 'My favorites',
        isExternal: false
      }, {
        navLinkType: 'cart',
        href: '/cart',
        text: 'Cart',
        isExternal: false
      }],
      linkComponent: 'a'
    }
  }
}`,...(re=(te=m.parameters)==null?void 0:te.docs)==null?void 0:re.source}}};const Rt=["HeaderStory"],Vt=Object.freeze(Object.defineProperty({__proto__:null,HeaderStory:m,__namedExportsOrder:Rt,default:Bt},Symbol.toStringTag,{value:"Module"}));export{S as H,Et as N,m as a,Vt as h};
//# sourceMappingURL=header.stories-525362e9.js.map
