import{r as l}from"./index-6f814c40.js";import{I as b}from"./icon-456a804f.js";import{I as C}from"./input-text-743ac2c6.js";import{B as q}from"./button-bc254079.js";import{c as B}from"./index-74f03c09.js";import{j as n,a as e}from"./jsx-runtime-76c5c2e2.js";import{u as V}from"./useOnClickOutside-47d3035a.js";import{u as k}from"./useCloseOnEscape-fa88369d.js";const L="_search_tngsh_1",S="_searchBar_tngsh_5",j="_searchInput_tngsh_45",E="_clearButton_tngsh_49",T="_searchResults_tngsh_60",$="_searchResultLink_tngsh_85",w="_active_tngsh_92",z="_searchResultItem_tngsh_97",W="_serchResultItemLabel_tngsh_102",a={search:L,searchBar:S,searchInput:j,clearButton:E,searchResults:T,searchResultLink:$,active:w,searchResultItem:z,serchResultItemLabel:W};function R({className:d,id:c,isOpen:u,setIsOpen:r,query:o,setQuery:h,setIsFocused:i,results:p,disabled:g,noResult:m,placeholder:y}){const _=l.useRef(null),t=l.useRef(null),f=l.useCallback(()=>(r(!1),(t==null?void 0:t.current)&&t.current.blur()),[r]);l.useCallback(()=>{r(!0),i(!0)},[r,i]);const I=l.useCallback(()=>{i(!1)},[i]),x=l.useCallback(s=>{u||r(!0),h(s.target.value)},[u,r,h]);function N(){return h(""),(t==null?void 0:t.current)&&t.current.focus()}return V({ref:_,onClose:f}),k({onClose:f,isOpen:u}),n("div",{ref:_,className:B(a.search,d),children:[n("div",{className:a.searchBar,children:[e(q,{type:"button",surface:"tertiary",size:"x-small",children:e(b,{icon:"icon-search"})}),e(C,{ref:t,type:"text",id:c,onChange:x,value:o,onBlur:I,other:{autoComplete:"off"},disabled:g,placeholder:y,wrapperClassName:a.searchInput}),o&&e("button",{onClick:N,tabIndex:-1,type:"button",className:a.clearButton,children:e(b,{icon:"icon-x",className:"text-icon"})})]}),u&&o&&e("div",{className:a.searchResults,children:n("ul",{"aria-labelledby":c,children:[p.map((s,v)=>e("li",{children:n("a",{href:s.slug,className:a.searchResultLink,children:[e("span",{className:a.serchResultItemLabel,children:s.label}),s.text&&e("span",{children:" - "}),e("span",{className:a.serchResultItemText,children:s.text})]})},`${c}_${v}`)),p.length===0&&o.length?e("li",{children:n("div",{className:a.serchResultItem,children:[e("span",{className:a.serchResultItemLabel,children:m.label}),m.text&&e("span",{children:"-"}),e("span",{className:a.serchResultItemText,children:m.text})]})},`search_no_result_${c}`):null]})})]})}try{R.displayName="Search",R.__docgenInfo={description:"",displayName:"Search",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(isOpen: boolean) => void"}},setIsFocused:{defaultValue:null,description:"",name:"setIsFocused",required:!0,type:{name:"(isFocused: boolean) => void"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},setQuery:{defaultValue:null,description:"",name:"setQuery",required:!0,type:{name:"(query: string) => void"}},results:{defaultValue:null,description:"",name:"results",required:!0,type:{name:"IResult[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},noResult:{defaultValue:null,description:"",name:"noResult",required:!0,type:{name:"ISearchNoResult"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{R as S};
//# sourceMappingURL=search-4b71b157.js.map
