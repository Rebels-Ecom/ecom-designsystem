import{r as o}from"./index-6f814c40.js";import{c as A}from"./index-74f03c09.js";import{j as s,a as t}from"./jsx-runtime-76c5c2e2.js";import{A as y}from"./index-b3e0e324.js";import{m as u}from"./motion-354a1bac.js";import{I as d}from"./icon-af819d0c.js";import{B as x}from"./button-df2f483d.js";import{c as w}from"./desktop-navigation.stories-bb37a86f.js";const C="_mobileNavigation_4anis_1",V="_top_4anis_7",q="_actions_4anis_15",B="_topInner_4anis_23",D="_menuButton_4anis_26",T="_menuIcon_4anis_38",E="_menuCloseIcon_4anis_42",W="_content_4anis_49",$="_menuListWrapper_4anis_63",j="_menuList_4anis_63",R="_menuListItem_4anis_74",F="_menuListItemLink_4anis_83",H="_menuListItemLinkActive_4anis_96",P="_subMenuList_4anis_103",X="_subMenuListItemLink_4anis_110",z="_subMenuListItemLinkActive_4anis_124",G="_itemIcon_4anis_132",J="_signOut_4anis_137",K="_backDrop_4anis_144",n={mobileNavigation:C,top:V,actions:q,topInner:B,menuButton:D,menuIcon:T,menuCloseIcon:E,content:W,menuListWrapper:$,menuList:j,menuListItem:R,menuListItemLink:F,menuListItemLinkActive:H,subMenuList:P,subMenuListItemLink:X,subMenuListItemLinkActive:z,itemIcon:G,signOut:J,backDrop:K},O=({name:i,link:l,links:r,delay:v})=>{const[m,a]=o.useState(!1),[_,L]=o.useState(0),[p,g]=o.useState();return s(u.div,{initial:{opacity:0,translateX:"10vw"},whileInView:{opacity:1,translateX:0,transition:{delay:v??.3}},viewport:{once:!0},className:n.menuListItem,children:[h(l)?t("a",{className:n.menuListItemLink,href:l.href,target:l.openInNewTab?"_blank":"_self",children:i}):s("button",{className:n.menuListItemLink,onClick:()=>{L(_===0?"auto":0),a(!m)},children:[t("span",{className:`${m?n.menuListItemLinkActive:""}`,children:i}),t(d,{className:n.itemIcon,icon:m?"icon-chevron-up":"icon-chevron-down"})]}),r!=null&&r.length?t(u.div,{className:n.subMenuList,initial:{height:0},animate:{height:_},children:r.map(e=>{var c;return s(o.Fragment,{children:[h(e)?s("a",{className:n.subMenuListItemLink,href:e.href,target:e.openInNewTab?"_blank":"_self",children:[e.name,t(d,{className:n.itemIcon,icon:"icon-chevron-right"})]}):s("button",{className:n.subMenuListItemLink,onClick:()=>{g(p===e.name?"":e.name)},children:[t("span",{className:`${p===e.name?n.subMenuListItemLinkActive:""}`,children:e.name}),t(d,{className:n.itemIcon,icon:p===e.name?"icon-chevron-up":"icon-chevron-down"})]}),N(e)&&((c=e.links)!=null&&c.length)?t(u.div,{className:n.subMenuList,initial:{height:0},animate:{height:p===e.name?"auto":0},children:e.links.map(f=>t(o.Fragment,{children:h(f)?s("a",{className:n.subMenuListItemLink,href:f.href,target:f.openInNewTab?"_blank":"_self",children:[f.name,t(d,{className:n.itemIcon,icon:"icon-chevron-right"})]}):void 0},f.name))}):void 0]},e.name)})}):void 0]},i)},b=({categories:i,isAuthenticated:l,signOutLabel:r,onSignOut:v,actions:m,isOpen:a,setIsOpen:_})=>{const[L,p]=o.useState(0),g=o.useRef(null);return o.useEffect(()=>{var e,c;p((((e=g.current)==null?void 0:e.getBoundingClientRect().y)??0)+((((c=g.current)==null?void 0:c.clientHeight)??0)+16))},[a]),o.useEffect(()=>{const e=document.body;e&&(a?e.classList.add("no-scroll"):e.classList.remove("no-scroll"))},[a]),s("div",{className:n.mobileNavigation,ref:g,children:[s("div",{className:n.top,children:[m&&t("div",{className:n.actions,children:m}),t("div",{className:n.topInner,children:s(y,{initial:!1,exitBeforeEnter:!0,children:[!a&&t(u.button,{initial:{scale:.2},animate:{scale:a?0:1},exit:{scale:.2},onClick:()=>_(!0),className:n.menuButton,children:t(d,{className:n.menuIcon,icon:"icon-menu"})},"menu-btn"),a&&t(u.button,{initial:{scale:.2},animate:{scale:a?1:0},exit:{scale:.2},onClick:()=>_(!1),className:n.menuButton,children:t(d,{className:A(n.menuIcon,n.menuCloseIcon),icon:"icon-plus"})},"close-btn")]})})]}),t(u.nav,{className:n.content,initial:{x:"100vw"},animate:{x:a?"0":"100vw"},transition:{type:"tween"},style:{paddingTop:`${L}px`},children:s("div",{className:n.menuListWrapper,children:[t("ul",{className:n.menuList,children:i.map((e,c)=>{if(N(e))return t(O,{name:e.name,links:e.links,delay:c*.1,href:e.href},e.name);if(h(e))return t(O,{name:e.name,link:e,delay:c*.1},e.name)})}),l&&r&&v&&t("div",{className:n.signOut,children:t(x,{children:r,onClick:v,surface:"x",type:"button"})})]})}),t(y,{children:a&&t(u.div,{initial:{opacity:0},animate:{opacity:.75},exit:{opacity:0},className:n.backDrop})})]})},h=i=>i&&!N(i),N=i=>i&&"links"in i;try{b.displayName="MobileNavigation",b.__docgenInfo={description:"",displayName:"MobileNavigation",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(val: boolean) => void"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"(TNavLink | TNavCategory)[]"}},currentSlug:{defaultValue:null,description:"",name:"currentSlug",required:!0,type:{name:"string"}},initial:{defaultValue:null,description:"",name:"initial",required:!1,type:{name:"string"}},isAuthenticated:{defaultValue:null,description:"",name:"isAuthenticated",required:!1,type:{name:"boolean"}},signOutLabel:{defaultValue:null,description:"",name:"signOutLabel",required:!1,type:{name:"string"}},onSignOut:{defaultValue:null,description:"",name:"onSignOut",required:!1,type:{name:"(() => void)"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"Element"}}}}}catch{}const Q={title:"Design System/Molecules/MobileNavigation",component:b,tags:["autodocs"],parameters:{padding:!1}},I={render:i=>{const[l,r]=o.useState(!1);return t(b,{...i,isOpen:l,setIsOpen:r})},args:{currentSlug:"/",categories:w,isAuthenticated:!0,signOutLabel:"Logga ut",onSignOut:()=>alert("Logging out")}};var M,S,k;I.parameters={...I.parameters,docs:{...(M=I.parameters)==null?void 0:M.docs,source:{originalSource:`{
  render: args => {
    const [isOpen, setIsOpen] = useState(false);
    return <MobileNavigation {...args} isOpen={isOpen} setIsOpen={setIsOpen} />;
  },
  args: {
    currentSlug: '/',
    categories,
    isAuthenticated: true,
    signOutLabel: 'Logga ut',
    onSignOut: () => alert('Logging out')
  }
}`,...(k=(S=I.parameters)==null?void 0:S.docs)==null?void 0:k.source}}};const U=["DefaultMobileNavigation"],oe=Object.freeze(Object.defineProperty({__proto__:null,DefaultMobileNavigation:I,__namedExportsOrder:U,default:Q},Symbol.toStringTag,{value:"Module"}));export{I as D,b as M,oe as m};
//# sourceMappingURL=mobile-navigation.stories-e2bb57d5.js.map
