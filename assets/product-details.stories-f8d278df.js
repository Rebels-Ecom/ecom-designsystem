import{r as h}from"./index-6f814c40.js";import{c as g,P as G}from"./format-helper-c92b5c26.js";import{B as I}from"./button-08ef97ed.js";import{P as j}from"./product-variant-list-9671dfe4.js";import{g as k}from"./picture-helper-8d380938.js";import{c as o}from"./index-74f03c09.js";import{P as N}from"./picture-8799a0b4.js";import{T as M}from"./tag-f7025b30.js";import{B as V,A as R}from"./above-38bf1a4b.js";import{j as u,a as n}from"./jsx-runtime-76c5c2e2.js";import{ChangePackagingButtonStory as Q,ButtonProductCardStory as z}from"./button.stories-6400eb39.js";const w="_productDetails_3l9os_1",H="_imageWrapper_3l9os_16",J="_variantsListOpen_3l9os_38",X="_tagsList_3l9os_45",Y="_quantityInput_3l9os_72",Z="_contentWrapper_3l9os_77",tt="_productVariants_3l9os_95",et="_heading_3l9os_109",rt="_textGray_3l9os_115",at="_textPurple_3l9os_120",nt="_cardPicture_3l9os_126",it="_cardImage_3l9os_139",st="_btn_3l9os_150",a={productDetails:w,imageWrapper:H,variantsListOpen:J,tagsList:X,quantityInput:Y,contentWrapper:Z,productVariants:tt,heading:et,textGray:rt,textPurple:at,cardPicture:nt,cardImage:it,btn:st},m=({productId:i,productName:r,productImageUrl:l,country:s,packaging:P,priceStr:B,price:y,salesUnit:x,itemNumberPerSalesUnit:S,tags:q,productVariantList:v,changePackagingButton:C,addToCartButton:A,addToCart:D,productDescription:O,className:gt})=>{const[t,U]=h.useState({productId:i,productName:r,productImage:k(i,l),country:s,packaging:P,priceStr:B,price:y,salesUnit:x,itemNumberPerSalesUnit:S,quantity:"1",totalPrice:g(y*S),tags:q,productDescription:O,productVariantList:v,selectedVariantId:i}),[E,f]=h.useState(!1);function F(e){const c=parseInt(e.target.value)||1;U({...t,quantity:c.toString(),totalPrice:g(t.price*t.itemNumberPerSalesUnit*c)})}function W(){f(!0)}function $(e){const c=t.productId===e.variantId?parseInt(t.quantity):1;U({...t,productId:e.variantId,productImage:e.image,country:e.country,packaging:e.variantName,priceStr:e.listPricePerUnitString,price:e.price,salesUnit:e.salesUnit,itemNumberPerSalesUnit:e.itemNumberPerSalesUnit,totalPrice:g(e.price*e.itemNumberPerSalesUnit*c),quantity:c.toString(),selectedVariantId:e.variantId}),f(!1)}const p=({tagsList:e=[]})=>n("ul",{className:a.tagsList,children:Array.isArray(e)&&e.length>0&&e.map((c,K)=>n("li",{children:n(M,{...c})},K))});return E?u("div",{className:o(a.productDetails),children:[u("div",{className:o(a.imageWrapper,a.variantsListOpen),children:[n(V,{breakpoint:"md",children:e=>e&&t.tags&&n(p,{tagsList:t.tags})}),n(N,{...t.productImage,classNamePicture:a.cardPicture,classNameImg:`${a.cardImage}`})]}),n(j,{className:o(a.contentWrapper,a.productVariants),variantsList:t.productVariantList,onVariantSelect:$,selectedVariantId:t.selectedVariantId}),"            "]}):u("div",{className:o(a.productDetails),children:[u("div",{className:a.imageWrapper,children:[n(V,{breakpoint:"md",children:e=>e&&t.tags&&n(p,{tagsList:t.tags})}),n(N,{...t.productImage,classNamePicture:a.cardPicture,classNameImg:`${a.cardImage}`})]}),u("div",{className:a.contentWrapper,children:[n(R,{breakpoint:"md",children:e=>e&&t.tags&&n(p,{tagsList:t.tags})}),n("h3",{className:a.heading,children:t.productName}),n("p",{className:o(a.textPurple,"bodyS"),children:`${P}: ${t.priceStr} kr/st`}),t.country!==""&&n("p",{className:o(a.textGray,"bodyS"),children:`Land: ${t.country}`}),n("p",{className:a.description,children:t.productDescription}),n(I,{...C,className:a.btn,surface:"secondary",iconRight:{icon:"icon-layers"},rounded:!0,onClick:()=>W(),children:"Byt förpackning"}),n(G,{className:a.quantityInput,salesUnit:t.salesUnit,itemNumberPerSalesUnit:t.itemNumberPerSalesUnit,totalPrice:t.totalPrice,quantity:t.quantity,quantityInputId:t.productId,onChange:F}),n(I,{...A,className:a.btn,size:"large",onClick:()=>D(t),children:"Lägg i kundvagn"})]})]})};try{m.displayName="ProductDetails",m.__docgenInfo={description:"",displayName:"ProductDetails",props:{product:{defaultValue:null,description:"",name:"product",required:!0,type:{name:"IProduct"}},changePackagingButton:{defaultValue:null,description:"",name:"changePackagingButton",required:!0,type:{name:"IButton"}},addToCartButton:{defaultValue:null,description:"",name:"addToCartButton",required:!0,type:{name:"IButton"}},addToCart:{defaultValue:null,description:"",name:"addToCart",required:!0,type:{name:"CallableFunction"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},productId:{defaultValue:null,description:"",name:"productId",required:!0,type:{name:"string"}},productName:{defaultValue:null,description:"",name:"productName",required:!0,type:{name:"string"}},productImageUrl:{defaultValue:null,description:"",name:"productImageUrl",required:!0,type:{name:"string"}},country:{defaultValue:null,description:"",name:"country",required:!0,type:{name:"string"}},packaging:{defaultValue:null,description:"",name:"packaging",required:!0,type:{name:"string"}},priceStr:{defaultValue:null,description:"",name:"priceStr",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},salesUnit:{defaultValue:null,description:"",name:"salesUnit",required:!0,type:{name:"string"}},itemNumberPerSalesUnit:{defaultValue:null,description:"",name:"itemNumberPerSalesUnit",required:!0,type:{name:"number"}},productVariantList:{defaultValue:null,description:"",name:"productVariantList",required:!0,type:{name:"IProductVariant[]"}},tags:{defaultValue:null,description:"",name:"tags",required:!0,type:{name:"ITag[]"}},productDescription:{defaultValue:null,description:"",name:"productDescription",required:!1,type:{name:"string"}}}}}catch{}const lt={FirstVariantName:"",ListPricePerUnit:22.677,ListPricePerUnitString:"22,68",DisplayName:"Norrlands Guld Export 5,3",ProductUrl:"/Product/1105101",IsHit:!0,IsProduct:!0,PrimaryImageUrl:"https://spendrups.cdn.storm.io/4237ad51-a9f9-45e5-a85a-72389f6e65bb",ExternalId:"1105101",LimitedProduct:!1,CampaignProduct:!1,ActiveCampaign:null,Tags:[],SellerOnly:!1,ShortTexts:["Sverige"],Variants:[{Name:"50cl Returglas",VariantFullName:"50cl Returglas",VariantId:"1105101",PrimaryImageUrl:"https://spendrups.cdn.storm.io/4237ad51-a9f9-45e5-a85a-72389f6e65bb",SalesUnit:"KLI",UnitsPerBaseUnit:15,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:22.677,ListPricePerUnitString:"22,68",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"33cl Engångsglas",VariantFullName:"33cl Engångsglas",VariantId:"1105111",PrimaryImageUrl:"https://spendrups.cdn.storm.io/fca77f23-eacc-4b53-b1b4-9df3620154b4",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:16.209,ListPricePerUnitString:"16,21",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"33cl PET",VariantFullName:"33cl PET",VariantId:"1152339",PrimaryImageUrl:"https://spendrups.cdn.storm.io/57aafd54-e882-418f-8f2f-f43e98bf75e6",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:16.219,ListPricePerUnitString:"16,22",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"50cl PET",VariantFullName:"50cl PET",VariantId:"1152340",PrimaryImageUrl:"https://spendrups.cdn.storm.io/c873d755-c034-44b2-b599-b45eb67e5c71",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:23.645,ListPricePerUnitString:"23,65",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"30l FAT",VariantFullName:"30l FAT",VariantId:"1105191",PrimaryImageUrl:"https://spendrups.cdn.storm.io/09a0cd7a-ea94-4730-a46d-a36ef0669ec7",SalesUnit:"KLI",UnitsPerBaseUnit:1,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:1404.44,ListPricePerUnitString:"1404,44",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"33cl Burk",VariantFullName:"33cl Burk",VariantId:"1147921",PrimaryImageUrl:"https://spendrups.cdn.storm.io/a9a46999-1348-480e-909a-c33a8cb7974c",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:15.561,ListPricePerUnitString:"15,56",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"50cl Burk",VariantFullName:"50cl Burk",VariantId:"1146323",PrimaryImageUrl:"https://spendrups.cdn.storm.io/985e24c0-c1de-4a30-9d2b-5928c858b514",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:22.933,ListPricePerUnitString:"22,93",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null}],Desc:"",SalesUnit:"KLI",UnitsPerBaseUnit:15,AccessoryPotItem:!1,ModelName:"50cl Returglas",CategoryName:"Öl",BrandName:"Norrlands Guld"},ct={title:"Design System/Organisms/ProductDetails",component:m},ot={render:({...i})=>{function r(l){alert(`Adding to cart - ${l.productName} - ${l.packaging}. Quantity: ${l.quantity}, Total: ${l.totalPrice}`)}return n(m,{...i,addToCart:r})}};function T(i){return i.map(r=>({text:r.Text,shape:r.Shape?r.Shape:"pill",color:r.Class}))}function ut(i,r){const l=r[0].VariantId;return r.map(s=>({productName:i,variantName:s.Name,variantId:s.VariantId,country:Array.isArray(s.ShortTexts)&&s.ShortTexts.length?s.ShortTexts[0]:"",listPricePerUnitString:s.ListPricePerUnitString,price:s.ListPricePerUnit,salesUnit:s.SalesUnit,itemNumberPerSalesUnit:s.UnitsPerBaseUnit,image:k(s.VariantId,s.PrimaryImageUrl),checked:s.VariantId===l,tags:T(s.Tags),onChange:()=>{}}))}function dt(i){const r=i.Variants[0];return{productId:r.VariantId,productName:i.DisplayName,productImageUrl:r.PrimaryImageUrl,country:Array.isArray(r.ShortTexts)&&r.ShortTexts.length?r.ShortTexts[0]:"",packaging:r.VariantFullName,priceStr:r.ListPricePerUnitString,price:r.ListPricePerUnit,salesUnit:r.SalesUnit,itemNumberPerSalesUnit:r.UnitsPerBaseUnit,tags:T(r.Tags),productVariantList:ut(i.DisplayName,i.Variants)}}const mt=dt(lt),d={...ot,args:{...mt,productDescription:"Man brukar säga att pilsen är bryggmästarens stolthet och Pistonhead Lager är inget undantag. En pils med de klassiska inslagen av en riklig humlekaraktär som istället för att vara besk är mer markerad och balanserad. Serveras med en tydlig skumkrona. Dessutom ekologisk.",changePackagingButton:Q.args,addToCart:z.args}};var _,b,L;d.parameters={...d.parameters,docs:{...(_=d.parameters)==null?void 0:_.docs,source:{originalSource:`{
  ...ProductDetailsStoryTemplate,
  args: {
    ...productArgs,
    productDescription: 'Man brukar säga att pilsen är bryggmästarens stolthet och Pistonhead Lager är inget undantag. En pils med de klassiska inslagen av en riklig humlekaraktär som istället för att vara besk är mer markerad och balanserad. Serveras med en tydlig skumkrona. Dessutom ekologisk.',
    changePackagingButton: ChangePackagingButtonStory.args,
    addToCart: ButtonProductCardStory.args
  }
}`,...(L=(b=d.parameters)==null?void 0:b.docs)==null?void 0:L.source}}};const pt=["ProductDetailsStory"],Lt=Object.freeze(Object.defineProperty({__proto__:null,ProductDetailsStory:d,__namedExportsOrder:pt,default:ct},Symbol.toStringTag,{value:"Module"}));export{m as P,d as a,Lt as p};
//# sourceMappingURL=product-details.stories-f8d278df.js.map
