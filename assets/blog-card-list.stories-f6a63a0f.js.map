{"version":3,"file":"blog-card-list.stories-f6a63a0f.js","sources":["../../src/design-system/components/organisms/blog-card-list/blog-card-list.tsx"],"sourcesContent":["import { useRef, useState} from 'react'\nimport cx from 'classnames'\nimport { motion } from 'framer-motion'\nimport { BlogCard, IBlogCard } from '../../molecules/blog-card/blog-card'\nimport { Button } from '../../atoms'\nimport styles from './blog-card-list.module.css'\n\nexport interface IBlogCardList {\n  title?: string\n  blogCards: Array<IBlogCard>\n}\n\nfunction getColumnsNumber(columnsNumber: number) {\n  return columnsNumber === 1 ? styles.fullWidth : (columnsNumber === 3 ? styles.maxColumnsThree : styles.maxColumnsFour);\n}\n\nconst BlogCardList = ({ title, blogCards }: IBlogCardList) => {\n  if (!Array.isArray(blogCards) || !blogCards.length) {\n    return null;\n  }\n  const [list, setList] = useState<Array<IBlogCard>>(blogCards.slice(0, 4))\n\n  const buttonRef = useRef<HTMLButtonElement>(null)\n\n  const scrollToButton = () => {\n    if (!buttonRef?.current) {\n      return;\n    }\n\n    buttonRef.current?.scrollIntoView({ behavior: 'smooth', block: 'end' });\n  }\n\n  const handleShowMore = () => {\n    if (list.length === blogCards.length) {\n      setList(blogCards.slice(0,4))\n    } else {\n      setList(blogCards.slice(0, list.length + 4))\n    }\n    \n    setTimeout(() => scrollToButton(), 100)\n  }\n\n  return (\n    <div className={styles.blogCardList}>\n      {title && <h3 className={styles.title}>{title}</h3>}\n      \n      <ul className={styles.list}>\n        {list.map((card: IBlogCard, i: number) => (\n          <motion.li\n            key={i}\n            className={cx(styles.listItem, getColumnsNumber(list.length))}\n            initial={{ y: '-10%', opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n          >\n            <BlogCard\n              {...card}\n              fullWidth={list.length === 1}\n              maxChar={list.length === 3 ? card.maxChar ?? 200 : undefined}\n            />\n          </motion.li>\n        ))}\n      </ul>\n\n      {blogCards.length > 4 && (\n        <Button\n          ref={buttonRef}\n          className={styles.showMoreButton}\n          type=\"button\"\n          surface='primary'\n          onClick={handleShowMore}\n        >\n          {list.length === blogCards.length ? \"Visa f√§rre\" : \"Visa fler\"}\n        </Button>\n      )}\n    </div>\n  )\n}\n\nexport { BlogCardList }\n"],"names":["getColumnsNumber","columnsNumber","styles","BlogCardList","title","blogCards","list","setList","useState","buttonRef","useRef","scrollToButton","handleShowMore","setTimeout","_jsxs","blogCardList","cx","_jsx","BlogCard","card","undefined","i","Button","showMoreButton"],"mappings":"8tBAYA,SAAAA,GAAAC,EAAA,CACE,OAAAA,IAAA,EAAAC,EAAA,UAAAD,IAAA,EAAAC,EAAA,gBAAAA,EAAA,cACF,CAEA,MAAAC,EAAA,CAAA,CAAsB,MAAAC,EAAEA,UAAAA,CAAgC,IAAA,CACtD,GAAA,CAAA,MAAA,QAAAC,CAAA,GAAA,CAAAA,EAAA,OACE,OAAA,KAEF,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAAH,EAAA,MAAA,EAAA,CAAA,CAAA,EAEAI,EAAAC,SAAA,IAAA,EAEAC,EAAA,IAAA,OACEF,GAAA,MAAAA,EAAA,WAIAA,EAAAA,EAAAA,UAAAA,MAAAA,EAAAA,eAAAA,CAAkC,SAAA,SAAY,MAAA,KAAiB,GAAO,EAGxEG,EAAA,IAAA,CACEN,EAAA,SAAAD,EAAA,OACEE,EAAAA,EAAAA,MAAAA,EAAAA,CAAAA,CAAAA,EAEAA,EAAAA,EAAAA,MAAAA,EAAAA,EAAAA,OAAAA,CAAAA,CAAAA,EAGFM,WAAAA,IAAAA,IAAAA,GAAAA,CAAsC,EAGxC,OAAAC,GAAA,MAAA,CACE,UAAAZ,EAAA,aAAuBa,SAAAA,CAAAA,GAAAA,EAAAA,KAAAA,CACX,UAAAb,EAAA,MAAsBE,SAAAA,CAAQA,CAAAA,EAAAA,EAAAA,KAAAA,CAExC,UAAAF,EAAA,KAAsBI,SAAAA,EAAAA,IAAAA,CAAAA,EAAAA,IAAAA,EAAAA,GAAAA,GAAAA,CAER,UAAAU,EAAAd,EAAA,SAAAF,GAAAM,EAAA,MAAA,CAAA,EAEoD,QAAA,CACnD,EAAA,OAAK,QAAA,CAAiB,EAAE,QAAA,CACxB,EAAA,EAAK,QAAA,CAAY,EAAE,SAAAW,EAAAC,EAAA,CAEnB,GAAAC,EACHA,UAAAA,EAAAA,SAAAA,EACuB,QAAAb,EAAA,SAAA,EAAAa,EAAA,SAAA,IAAA,MACwBC,CAAAA,CACpD,EAAAC,CAAA,CAAA,CAEJ,CAAA,EAAAhB,EAAA,OAAA,GAAAY,EAAAK,GAAA,CAIM,IAAAb,EACAA,UAAAA,EAAAA,eACac,KAAAA,SACb,QAAA,UACG,QAAAX,EACCA,SAAAA,EAAAA,SAAAA,EAAAA,OAAAA,aAAAA,WAE0C,CAAA,CAAA,CAEtD,CAAA,CAGP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}