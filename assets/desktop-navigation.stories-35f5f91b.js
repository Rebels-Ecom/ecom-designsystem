import{r,j as o,a as m,F as W}from"./jsx-runtime-a3a6c0b8.js";import{c as g}from"./index-a587463d.js";import{u as E}from"./useOnClickOutside-338168d6.js";import{C as q}from"./content-wrapper-c985da24.js";import{m as a}from"./motion-54668070.js";import{I as M}from"./icon-5fefd509.js";import{I as F}from"./icon-button-1fa38b3d.js";const H="_desktopNavigation_90p8m_1",j="_topLevel_90p8m_7",P="_topLevelLinks_90p8m_12",G="_topLevelLinkList_90p8m_16",R="_topLevelLinkInner_90p8m_30",z="_topLevelLinkActive_90p8m_34",J="_topLevelLink_90p8m_12",K="_active_90p8m_60",Q="_topLevelTrigger_90p8m_65",U="_secondLevel_90p8m_72",X="_secondLevelInner_90p8m_81",Y="_endOfList_90p8m_88",Z="_logoWrapper_90p8m_97",ee="_secondLevelLinkList_90p8m_101",te="_secondLevelLinkItem_90p8m_112",ie="_secondLevelLinkActive_90p8m_118",ne="_secondLevelLink_90p8m_101",oe="_thirdLevelList_90p8m_159",ae="_thirdLevelListMaxWidth_90p8m_168",se="_thirdLeveListItem_90p8m_172",re="_thirdLevelLink_90p8m_180",le="_closeButton_90p8m_191",me="_iconButton_90p8m_196",t={desktopNavigation:H,topLevel:j,topLevelLinks:P,topLevelLinkList:G,topLevelLinkInner:R,topLevelLinkActive:z,topLevelLink:J,active:K,topLevelTrigger:Q,secondLevel:U,secondLevelInner:X,endOfList:Y,logoWrapper:Z,secondLevelLinkList:ee,secondLevelLinkItem:te,secondLevelLinkActive:ie,secondLevelLink:ne,thirdLevelList:oe,thirdLevelListMaxWidth:ae,thirdLeveListItem:se,thirdLevelLink:re,closeButton:le,iconButton:me},f=({categories:s,currentSlug:v})=>{var b,y;const[i,p]=r.useState(),[L,_]=r.useState(),[B,C]=r.useState(),[x,D]=r.useState("auto"),[$,T]=r.useState("auto"),d=r.useRef(null),h=r.useRef(null);r.useEffect(()=>{var n,l;const e=window.innerHeight-(((l=(n=h==null?void 0:h.current)==null?void 0:n.getBoundingClientRect())==null?void 0:l.top)??0);D(e)},[L]),r.useEffect(()=>{const e=document.body;return e&&(i?e.classList.add("no-scroll"):e.classList.remove("no-scroll")),()=>{var n;return(n=e==null?void 0:e.classList)==null?void 0:n.remove("no-scroll")}},[i]);const I=()=>{const e=s.find(n=>!!(v!=null&&v.includes(n.href)));_(e)};r.useEffect(()=>{var e,n;I(),T(`${((n=(e=d==null?void 0:d.current)==null?void 0:e.getBoundingClientRect())==null?void 0:n.width)??1240}px`)},[]),E({ref:d,onClose:e=>{var n,l;(l=(n=e==null?void 0:e.srcElement)==null?void 0:n.classList)!=null&&l.contains(t.topLevelTrigger)||p(void 0)}});const w={"--second-level-width":$};return o("nav",{className:t.desktopNavigation,style:w,children:o(q,{padding:0,children:m(a.div,{className:t.topLevel,onHoverEnd:()=>I(),children:[o("div",{className:t.topLevelLinks,children:m(a.ul,{className:t.topLevelLinkList,children:[s.map((e,n)=>m(a.li,{className:t.topLevelLinkInner,onClick:()=>_(e),onHoverStart:()=>{_(e)},children:[(L==null?void 0:L.name)===e.name&&o(a.div,{className:t.topLevelLinkActive,layoutId:"activeLink",transition:{type:"spring",stiffness:200,damping:20}}),de(e)&&o(a.a,{className:g(t.topLevelLink,t.topLevelTrigger,{[t.active]:i===e}),href:e.href,target:e.openInNewTab?"_blank":"_self",children:e.name},`${e.name}-${n}`),k(e)&&m(a.button,{"aria-label":e.name,className:g(t.topLevelLink,t.topLevelTrigger,{[t.active]:i===e}),onClick:()=>{(i==null?void 0:i.name)===e.name?p(void 0):p(e)},children:[e.name,o(M,{className:t.topLevelTrigger,icon:(i==null?void 0:i.name)===e.name?"icon-chevron-up":"icon-chevron-down"})]},`${e.name}-${n}`)]},`${e.name}-${n}`)),o(a.li,{className:t.closeButton,initial:{scale:0,opacity:0},animate:i?{scale:1,opacity:1}:void 0,exit:{transition:{delay:0}},children:o(F,{name:"Close navigation",className:t.iconButton,icon:"icon-plus",type:"button",onClick:()=>p(void 0)})})]})}),o(a.div,{initial:{height:0},animate:{height:(b=i==null?void 0:i.links)!=null&&b.length?"auto":0},className:t.secondLevel,ref:h,children:o(q,{padding:0,children:m(a.div,{ref:d,className:t.secondLevelInner,style:{height:`${x}px`},initial:{y:"-100%",opacity:0},animate:(y=i==null?void 0:i.links)!=null&&y.length?{y:"0",opacity:1}:{y:"-100%",opacity:0,transition:{delay:.3}},children:[o(a.ul,{className:t.secondLevelLinkList,children:k(i)?i.links.map((e,n)=>{var l,N;return o(a.li,{className:t.secondLevelLinkItem,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:m(W,{children:[o(a.a,{className:g(t.secondLevelLink,{[t.active]:B===e}),href:e.href,target:e.openInNewTab?"_blank":"_self",onClick:()=>{C(e)},children:e.name}),o("ul",{className:g(t.thirdLevelList,{[t.thirdLevelListMaxWidth]:((l=i==null?void 0:i.links)==null?void 0:l.length)>3}),children:(N=e.links)==null?void 0:N.map((c,V)=>o("li",{className:t.thirdLeveListItem,children:o("a",{href:c.href,target:c.openInNewTab?"_blank":"_self",className:t.thirdLevelLink,title:c.name,children:c.name})},`${c.href}-${V}`))})]})},`${e.name}-${n}`)}):null}),o(a.div,{className:t.endOfList,initial:{opacity:0},animate:{opacity:i?1:0}})]})})})]})})})},de=s=>s&&!k(s),k=s=>s&&"links"in s;try{f.displayName="DesktopNavigation",f.__docgenInfo={description:"",displayName:"DesktopNavigation",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(val: boolean) => void"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"(TNavLink | TNavCategory)[]"}},currentSlug:{defaultValue:null,description:"",name:"currentSlug",required:!0,type:{name:"string"}},initial:{defaultValue:null,description:"",name:"initial",required:!1,type:{name:"string"}},isAuthenticated:{defaultValue:null,description:"",name:"isAuthenticated",required:!1,type:{name:"boolean"}},signOutLabel:{defaultValue:null,description:"",name:"signOutLabel",required:!1,type:{name:"string"}},onSignOut:{defaultValue:null,description:"",name:"onSignOut",required:!1,type:{name:"(() => void)"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"Element"}}}}}catch{}const ce=[{name:"Drycker",href:"#",openInNewTab:!0,links:[{name:"Öl",href:"#",links:[{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"}]},{name:"Vin",href:"#",links:[{name:"Alla viner",href:"#"},{name:"Alkoholfritt",href:"#"},{name:"Champagne",href:"#"},{name:"Glögg",href:"#"},{name:"Mousserande",href:"#"}]},{name:"Sprit",href:"#",links:[{name:"Brand och Cognac",href:"#"},{name:"Calvados",href:"#"},{name:"Gin",href:"#"},{name:"Grappa",href:"#"},{name:"Likör",href:"#"}]},{name:"Övrigt",href:"#",links:[{name:"Cider",href:"#"},{name:"Läsk",href:"#"},{name:"Vatten",href:"#"},{name:"FAB / Blanddryck",href:"#"},{name:"Energidryck",href:"#"},{name:"Fruktdryck",href:"#"},{name:"Mixers",href:"#"},{name:"Stilldrink / Juice",href:"#"},{name:"Övrigt",href:"#"}]}]},{name:"Tillbehör",href:"#",links:[{name:"Item 1",href:"#",subtitle:"Information",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Mitt Spendrups",href:"#mitt-spendrups",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{name:"Item 2",description:"Lorem.",href:"#item-2"},{name:"Item 3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-3"},{name:"Item 4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-4"}]},{name:"Item 2",href:"#",subtitle:"Lorem ipsum",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"},{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"}]},{name:"Item 3",href:"#"}]},{name:"Nyheter",href:"#",openInNewTab:!0},{name:"Kampanjer",href:"#",openInNewTab:!0}],ue={title:"Design System/Molecules/DesktopNavigation",component:f,tags:["autodocs"],parameters:{padding:!1}},u={render:s=>o(f,{...s}),args:{categories:ce,isAuthenticated:!0,signOutLabel:"Logga ut",onSignOut:()=>alert("Logging out")}};var A,O,S;u.parameters={...u.parameters,docs:{...(A=u.parameters)==null?void 0:A.docs,source:{originalSource:`{
  render: args => {
    return <DesktopNavigation {...args} />;
  },
  args: {
    categories,
    isAuthenticated: true,
    signOutLabel: 'Logga ut',
    onSignOut: () => alert('Logging out')
  }
}`,...(S=(O=u.parameters)==null?void 0:O.docs)==null?void 0:S.source}}};const pe=["DefaultDesktopNavigation"],Ie=Object.freeze(Object.defineProperty({__proto__:null,DefaultDesktopNavigation:u,__namedExportsOrder:pe,default:ue},Symbol.toStringTag,{value:"Module"}));export{f as D,u as a,Ie as d};
