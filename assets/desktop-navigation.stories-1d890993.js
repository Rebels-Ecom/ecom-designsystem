import{r as s,j as t}from"./jsx-runtime-03333307.js";import{c as L}from"./index-09749a66.js";import{u as $}from"./useOnClickOutside-9d2c35bb.js";import{C as N}from"./content-wrapper-adfa8526.js";import{m as r}from"./motion-9380e2c6.js";import{I as E}from"./icon-e3522fc5.js";import{I as W}from"./icon-button-4ba5bdac.js";const M="_desktopNavigation_7q1gp_1",P="_topLevel_7q1gp_7",F="_topLevelLinks_7q1gp_12",H="_topLevelLinkList_7q1gp_16",R="_topLevelLinkInner_7q1gp_30",G="_topLevelLinkActive_7q1gp_34",J="_topLevelLink_7q1gp_12",V="_active_7q1gp_60",z="_topLevelTrigger_7q1gp_65",K="_secondLevel_7q1gp_72",X="_secondLevelInner_7q1gp_81",Q="_endOfList_7q1gp_88",U="_logoWrapper_7q1gp_97",Y="_secondLevelLinkList_7q1gp_101",Z="_secondLevelLinkItem_7q1gp_112",ee="_secondLevelLinkActive_7q1gp_118",ne="_secondLevelLink_7q1gp_101",te="_thirdLevelList_7q1gp_159",ie="_thirdLevelListMaxWidth_7q1gp_168",ae="_thirdLeveListItem_7q1gp_172",re="_thirdLevelLink_7q1gp_180",oe="_closeButton_7q1gp_191",se="_iconButton_7q1gp_197",n={desktopNavigation:M,topLevel:P,topLevelLinks:F,topLevelLinkList:H,topLevelLinkInner:R,topLevelLinkActive:G,topLevelLink:J,active:V,topLevelTrigger:z,secondLevel:K,secondLevelInner:X,endOfList:Q,logoWrapper:U,secondLevelLinkList:Y,secondLevelLinkItem:Z,secondLevelLinkActive:ee,secondLevelLink:ne,thirdLevelList:te,thirdLevelListMaxWidth:ie,thirdLeveListItem:ae,thirdLevelLink:re,closeButton:oe,iconButton:se},k=({categories:o,currentSlug:v})=>{var y,b;const[i,u]=s.useState(),[p,h]=s.useState(),[j,A]=s.useState(),[w,C]=s.useState("auto"),[B,S]=s.useState("auto"),d=s.useRef(null),g=s.useRef(null);s.useEffect(()=>{var a,l;const e=window.innerHeight-(((l=(a=g==null?void 0:g.current)==null?void 0:a.getBoundingClientRect())==null?void 0:l.top)??0);C(e)},[p]),s.useEffect(()=>{const e=document.body;return e&&(i?e.classList.add("no-scroll"):e.classList.remove("no-scroll")),()=>{var a;return(a=e==null?void 0:e.classList)==null?void 0:a.remove("no-scroll")}},[i]);const _=()=>{const e=o.find(a=>!!(v!=null&&v.includes(a.href)));h(e)};s.useEffect(()=>{var e,a;_(),S(`${((a=(e=d==null?void 0:d.current)==null?void 0:e.getBoundingClientRect())==null?void 0:a.width)??1240}px`)},[]),$({ref:d,onClose:e=>{var a,l;(l=(a=e==null?void 0:e.srcElement)==null?void 0:a.classList)!=null&&l.contains(n.topLevelTrigger)||u(void 0)}});const D={"--second-level-width":B};return t.jsx("nav",{className:n.desktopNavigation,style:D,children:t.jsx(N,{padding:0,children:t.jsxs(r.div,{className:n.topLevel,onHoverEnd:()=>_(),children:[t.jsx("div",{className:n.topLevelLinks,children:t.jsxs(r.ul,{className:n.topLevelLinkList,children:[o.map((e,a)=>t.jsxs(r.li,{className:n.topLevelLinkInner,onClick:()=>h(e),onHoverStart:()=>{h(e)},children:[(p==null?void 0:p.name)===e.name&&t.jsx(r.div,{className:n.topLevelLinkActive,layoutId:"activeLink",transition:{type:"spring",stiffness:200,damping:20}}),le(e)&&t.jsx(r.a,{className:L(n.topLevelLink,n.topLevelTrigger,{[n.active]:i===e}),href:e.href,target:e.openInNewTab?"_blank":"_self",children:e.name},`${e.name}-${a}`),f(e)&&t.jsxs(r.button,{"aria-label":e.name,className:L(n.topLevelLink,n.topLevelTrigger,{[n.active]:i===e}),onClick:()=>{(i==null?void 0:i.name)===e.name?u(void 0):u(e)},children:[e.name,t.jsx(E,{className:n.topLevelTrigger,icon:(i==null?void 0:i.name)===e.name?"icon-chevron-up":"icon-chevron-down"})]},`${e.name}-${a}`)]},`${e.name}-${a}`)),t.jsx(r.li,{className:n.closeButton,initial:{scale:0,opacity:0},animate:i?{scale:1,opacity:1}:void 0,exit:{transition:{delay:0}},children:t.jsx(W,{name:"Close navigation",className:n.iconButton,icon:"icon-plus",type:"button",onClick:()=>u(void 0)})})]})}),t.jsx(r.div,{initial:{height:0},animate:{height:(y=i==null?void 0:i.links)!=null&&y.length?"auto":0},className:n.secondLevel,ref:g,children:t.jsx(N,{padding:0,children:t.jsxs(r.div,{ref:d,className:n.secondLevelInner,style:{height:`${w}px`},initial:{y:"-100%",opacity:0},animate:(b=i==null?void 0:i.links)!=null&&b.length?{y:"0",opacity:1}:{y:"-100%",opacity:0,transition:{delay:.3}},children:[t.jsx(r.ul,{className:n.secondLevelLinkList,children:f(i)?i.links.map((e,a)=>{var l,q;return t.jsx(r.li,{className:n.secondLevelLinkItem,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.jsxs(t.Fragment,{children:[t.jsx(r.a,{className:L(n.secondLevelLink,{[n.active]:j===e}),href:e.href,target:e.openInNewTab?"_blank":"_self",onClick:()=>{A(e)},children:e.name}),t.jsx("ul",{className:L(n.thirdLevelList,{[n.thirdLevelListMaxWidth]:((l=i==null?void 0:i.links)==null?void 0:l.length)>3}),children:(q=e.links)==null?void 0:q.map((m,O)=>t.jsx("li",{className:n.thirdLeveListItem,children:t.jsx("a",{href:m.href,target:m.openInNewTab?"_blank":"_self",className:n.thirdLevelLink,title:m.name,children:m.name})},`${m.href}-${O}`))})]})},`${e.name}-${a}`)}):null}),t.jsx(r.div,{className:n.endOfList,initial:{opacity:0},animate:{opacity:i?1:0}})]})})})]})})})},le=o=>o&&!f(o),f=o=>o&&"links"in o;k.__docgenInfo={description:"",methods:[],displayName:"DesktopNavigation",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(val: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"val"}],return:{name:"void"}}},description:""},categories:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:"TNavLink | TNavCategory",elements:[{name:"signature",type:"object",raw:`{
  // Link text / title
  name: string;
  // Path to destination
  href: string;
  // Boolean for toggling target="_blank"
  openInNewTab?: boolean;
  // Descriptive text
  description?: string;
  links?: never;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"openInNewTab",value:{name:"boolean",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"links",value:{name:"never",required:!1}}]}},{name:"signature",type:"object",raw:`{
  // Link text / title
  name: string;
  // Path to destination
  href: string;
  // Boolean for toggling target="_blank"
  openInNewTab?: boolean;
  // Descriptive text
  description?: string;
  // Subtitle
  subtitle?: string;
  // Required sub level of links
  links: Array<TNavLink | TNavCategory>;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"openInNewTab",value:{name:"boolean",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"subtitle",value:{name:"string",required:!1}},{key:"links",value:{name:"Array",elements:[{name:"union",raw:"TNavLink | TNavCategory",elements:[{name:"signature",type:"object",raw:`{
  // Link text / title
  name: string;
  // Path to destination
  href: string;
  // Boolean for toggling target="_blank"
  openInNewTab?: boolean;
  // Descriptive text
  description?: string;
  links?: never;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"openInNewTab",value:{name:"boolean",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"links",value:{name:"never",required:!1}}]}},{name:"TNavCategory"}]}],raw:"Array<TNavLink | TNavCategory>",required:!0}}]}}]}],raw:"Array<TNavLink | TNavCategory>"},description:""},currentSlug:{required:!0,tsType:{name:"string"},description:""},initial:{required:!1,tsType:{name:"string"},description:""},isAuthenticated:{required:!1,tsType:{name:"boolean"},description:""},signOutLabel:{required:!1,tsType:{name:"string"},description:""},onSignOut:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},actions:{required:!1,tsType:{name:"JSX.Element"},description:""}}};const de=[{name:"Drycker",href:"#",openInNewTab:!0,links:[{name:"Öl",href:"#",links:[{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"}]},{name:"Vin",href:"#",links:[{name:"Alla viner",href:"#"},{name:"Alkoholfritt",href:"#"},{name:"Champagne",href:"#"},{name:"Glögg",href:"#"},{name:"Mousserande",href:"#"}]},{name:"Sprit",href:"#",links:[{name:"Brand och Cognac",href:"#"},{name:"Calvados",href:"#"},{name:"Gin",href:"#"},{name:"Grappa",href:"#"},{name:"Likör",href:"#"}]},{name:"Övrigt",href:"#",links:[{name:"Cider",href:"#"},{name:"Läsk",href:"#"},{name:"Vatten",href:"#"},{name:"FAB / Blanddryck",href:"#"},{name:"Energidryck",href:"#"},{name:"Fruktdryck",href:"#"},{name:"Mixers",href:"#"},{name:"Stilldrink / Juice",href:"#"},{name:"Övrigt",href:"#"}]}]},{name:"Tillbehör",href:"#",links:[{name:"Item 1",href:"#",subtitle:"Information",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Mitt Spendrups",href:"#mitt-spendrups",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{name:"Item 2",description:"Lorem.",href:"#item-2"},{name:"Item 3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-3"},{name:"Item 4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-4"}]},{name:"Item 2",href:"#",subtitle:"Lorem ipsum",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"},{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"}]},{name:"Item 3",href:"#"}]},{name:"Nyheter",href:"#",openInNewTab:!0},{name:"Kampanjer",href:"#",openInNewTab:!0}],me={title:"Design System/Molecules/DesktopNavigation",component:k,tags:["autodocs"],parameters:{padding:!1}},c={render:o=>t.jsx(k,{...o}),args:{categories:de,isAuthenticated:!0,signOutLabel:"Logga ut",onSignOut:()=>alert("Logging out")}};var I,x,T;c.parameters={...c.parameters,docs:{...(I=c.parameters)==null?void 0:I.docs,source:{originalSource:`{
  render: args => {
    return <DesktopNavigation {...args} />;
  },
  args: {
    categories,
    isAuthenticated: true,
    signOutLabel: 'Logga ut',
    onSignOut: () => alert('Logging out')
  }
}`,...(T=(x=c.parameters)==null?void 0:x.docs)==null?void 0:T.source}}};const ce=["DefaultDesktopNavigation"],ke=Object.freeze(Object.defineProperty({__proto__:null,DefaultDesktopNavigation:c,__namedExportsOrder:ce,default:me},Symbol.toStringTag,{value:"Module"}));export{k as D,c as a,ke as d};
