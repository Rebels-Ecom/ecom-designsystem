import{r,j as n,a as d,F as T}from"./jsx-runtime-a3a6c0b8.js";import{c as h}from"./index-a587463d.js";import{u as $}from"./useOnClickOutside-338168d6.js";import{C as y}from"./content-wrapper-c985da24.js";import{m as a}from"./motion-54668070.js";import{I as x}from"./icon-5fefd509.js";import{I as V}from"./icon-button-c1cc9278.js";const w="_desktopNavigation_gvbqj_1",E="_topLevel_gvbqj_7",F="_topLevelLinks_gvbqj_12",H="_topLevelLinkList_gvbqj_16",M="_topLevelLinkInner_gvbqj_38",P="_topLevelLinkActive_gvbqj_42",W="_topLevelLink_gvbqj_12",G="_active_gvbqj_67",R="_topLevelTrigger_gvbqj_72",z="_secondLevel_gvbqj_79",J="_secondLevelInner_gvbqj_88",K="_endOfList_gvbqj_95",Q="_logoWrapper_gvbqj_104",U="_secondLevelLinkList_gvbqj_108",X="_secondLevelLinkItem_gvbqj_119",Y="_secondLevelLinkActive_gvbqj_123",Z="_secondLevelLink_gvbqj_108",ee="_thirdLevelList_gvbqj_163",te="_thirdLeveListItem_gvbqj_172",ie="_thirdLevelLink_gvbqj_177",ne="_closeButton_gvbqj_188",oe="_iconButton_gvbqj_193",t={desktopNavigation:w,topLevel:E,topLevelLinks:F,topLevelLinkList:H,topLevelLinkInner:M,topLevelLinkActive:P,topLevelLink:W,active:G,topLevelTrigger:R,secondLevel:z,secondLevelInner:J,endOfList:K,logoWrapper:Q,secondLevelLinkList:U,secondLevelLinkItem:X,secondLevelLinkActive:Y,secondLevelLink:Z,thirdLevelList:ee,thirdLeveListItem:te,thirdLevelLink:ie,closeButton:ne,iconButton:oe},g=({categories:s,currentSlug:v,initial:de})=>{var I,q;const[i,c]=r.useState(),[u,f]=r.useState(),[O,B]=r.useState(),[S,C]=r.useState("auto"),k=r.useRef(null),p=r.useRef(null);r.useEffect(()=>{var o,l;const e=window.innerHeight-(((l=(o=p==null?void 0:p.current)==null?void 0:o.getBoundingClientRect())==null?void 0:l.top)??0);C(e)},[u]),r.useEffect(()=>{const e=document.body;return e&&(i?e.classList.add("no-scroll"):e.classList.remove("no-scroll")),()=>{var o;return(o=e==null?void 0:e.classList)==null?void 0:o.remove("no-scroll")}},[i]);const b=()=>{const e=s.find(o=>!!(v!=null&&v.includes(o.href)));f(e)};return r.useEffect(()=>{b()},[]),$({ref:k,onClose:e=>{var o,l;(l=(o=e==null?void 0:e.srcElement)==null?void 0:o.classList)!=null&&l.contains(t.topLevelTrigger)||c(void 0)}}),n("nav",{className:t.desktopNavigation,children:n(y,{padding:0,children:d(a.div,{className:t.topLevel,onHoverEnd:()=>b(),children:[n("div",{className:t.topLevelLinks,children:d(a.ul,{className:t.topLevelLinkList,children:[s.map((e,o)=>d(a.li,{className:t.topLevelLinkInner,onClick:()=>f(e),onHoverStart:()=>{f(e)},children:[(u==null?void 0:u.name)===e.name&&n(a.div,{className:t.topLevelLinkActive,layoutId:"activeLink",transition:{type:"spring",stiffness:200,damping:20}}),ae(e)&&n(a.a,{className:h(t.topLevelLink,t.topLevelTrigger,{[t.active]:i===e}),href:e.href,target:e.openInNewTab?"_blank":"_self",children:e.name},`${e.name}-${o}`),_(e)&&d(a.button,{className:h(t.topLevelLink,t.topLevelTrigger,{[t.active]:i===e}),onClick:()=>{(i==null?void 0:i.name)===e.name?c(void 0):c(e)},children:[e.name,n(x,{className:t.topLevelTrigger,icon:(i==null?void 0:i.name)===e.name?"icon-chevron-up":"icon-chevron-down"})]},`${e.name}-${o}`)]},`${e.name}-${o}`)),n(a.div,{className:t.closeButton,initial:{scale:0,opacity:0},animate:i?{scale:1,opacity:1}:void 0,exit:{transition:{delay:0}},children:n(V,{className:t.iconButton,icon:"icon-plus",type:"button",onClick:()=>c(void 0)})})]})}),n(a.div,{initial:{height:0},animate:{height:(I=i==null?void 0:i.links)!=null&&I.length?"auto":0},className:t.secondLevel,ref:p,children:n(y,{padding:0,children:d(a.div,{ref:k,className:t.secondLevelInner,style:{height:`${S}px`},initial:{y:"-100%",opacity:0},animate:(q=i==null?void 0:i.links)!=null&&q.length?{y:"0",opacity:1}:{y:"-100%",opacity:0,transition:{delay:.3}},children:[n(a.ul,{className:t.secondLevelLinkList,children:_(i)?i.links.map((e,o)=>{var l;return n(a.li,{className:t.secondLevelLinkItem,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d(T,{children:[n(a.a,{className:h(t.secondLevelLink,{[t.active]:O===e}),href:e.href,target:e.openInNewTab?"_blank":"_self",onClick:()=>{B(e)},children:e.name}),n("ul",{className:t.thirdLevelList,children:(l=e.links)==null?void 0:l.map((L,D)=>n("li",{className:t.thirdLeveListItem,children:n("a",{href:L.href,target:L.openInNewTab?"_blank":"_self",className:t.thirdLevelLink,children:L.name})},`${L.href}-${D}`))})]})},`${e.name}-${o}`)}):null}),n(a.div,{className:t.endOfList,initial:{opacity:0},animate:{opacity:i?1:0}})]})})})]})})})},ae=s=>s&&!_(s),_=s=>s&&"links"in s;try{g.displayName="DesktopNavigation",g.__docgenInfo={description:"",displayName:"DesktopNavigation",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(val: boolean) => void"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"(TNavLink | TNavCategory)[]"}},currentSlug:{defaultValue:null,description:"",name:"currentSlug",required:!0,type:{name:"string"}},initial:{defaultValue:null,description:"",name:"initial",required:!1,type:{name:"string"}},isAuthenticated:{defaultValue:null,description:"",name:"isAuthenticated",required:!1,type:{name:"boolean"}},signOutLabel:{defaultValue:null,description:"",name:"signOutLabel",required:!1,type:{name:"string"}},onSignOut:{defaultValue:null,description:"",name:"onSignOut",required:!1,type:{name:"(() => void)"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"Element"}}}}}catch{}const se=[{name:"Drycker",href:"#",openInNewTab:!0,links:[{name:"Öl",href:"#",links:[{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"}]},{name:"Vin",href:"#",links:[{name:"Alla viner",href:"#"},{name:"Alkoholfritt",href:"#"},{name:"Champagne",href:"#"},{name:"Glögg",href:"#"},{name:"Mousserande",href:"#"}]},{name:"Sprit",href:"#",links:[{name:"Brand och Cognac",href:"#"},{name:"Calvados",href:"#"},{name:"Gin",href:"#"},{name:"Grappa",href:"#"},{name:"Likör",href:"#"}]},{name:"Övrigt",href:"#",links:[{name:"Cider",href:"#"},{name:"Läsk",href:"#"},{name:"Vatten",href:"#"},{name:"FAB / Blanddryck",href:"#"},{name:"Energidryck",href:"#"},{name:"Fruktdryck",href:"#"},{name:"Mixers",href:"#"},{name:"Stilldrink / Juice",href:"#"},{name:"Övrigt",href:"#"}]}]},{name:"Tillbehör",href:"#",links:[{name:"Item 1",href:"#",subtitle:"Information",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Mitt Spendrups",href:"#mitt-spendrups",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{name:"Item 2",description:"Lorem.",href:"#item-2"},{name:"Item 3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-3"},{name:"Item 4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-4"}]},{name:"Item 2",href:"#",subtitle:"Lorem ipsum",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"},{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"}]},{name:"Item 3",href:"#"}]},{name:"Nyheter",href:"#",openInNewTab:!0},{name:"Kampanjer",href:"#",openInNewTab:!0}],re={title:"Design System/Molecules/DesktopNavigation",component:g,tags:["autodocs"],parameters:{padding:!1}},m={render:s=>n(g,{...s}),args:{categories:se,isAuthenticated:!0,signOutLabel:"Logga ut",onSignOut:()=>alert("Logging out")}};var N,j,A;m.parameters={...m.parameters,docs:{...(N=m.parameters)==null?void 0:N.docs,source:{originalSource:`{
  render: args => {
    return <DesktopNavigation {...args} />;
  },
  args: {
    categories,
    isAuthenticated: true,
    signOutLabel: 'Logga ut',
    onSignOut: () => alert('Logging out')
  }
}`,...(A=(j=m.parameters)==null?void 0:j.docs)==null?void 0:A.source}}};const le=["DefaultDesktopNavigation"],fe=Object.freeze(Object.defineProperty({__proto__:null,DefaultDesktopNavigation:m,__namedExportsOrder:le,default:re},Symbol.toStringTag,{value:"Module"}));export{g as D,m as a,fe as d};
