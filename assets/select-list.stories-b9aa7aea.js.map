{"version":3,"file":"select-list.stories-b9aa7aea.js","sources":["../../src/design-system/components/molecules/select-list/select-list.tsx"],"sourcesContent":["import { useRef, useState } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { Button } from '../../atoms';\nimport styles from './select-list.module.css';\nimport { useOnClickOutside } from '../../../hooks';\n\ntype TSelectItem = {\n  name: string;\n  value: string;\n}\n\ninterface ISelectList {\n  options: TSelectItem[];\n  placeholder: string;\n  preSelected?: TSelectItem;\n  onClickButton?: () => void;\n  onClickItem?: (item?: TSelectItem) => void;\n  closeOnSelect?: boolean;\n  disabled?: boolean;\n}\n\nconst SelectList = ({\n  options,\n  preSelected,\n  onClickButton,\n  onClickItem,\n  closeOnSelect,\n  disabled,\n  placeholder\n}: ISelectList) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selected, setSelected] = useState<TSelectItem | undefined>(preSelected);\n  const selectListRef = useRef<HTMLDivElement>(null);\n  const handleClick = () => {\n    onClickButton?.();\n    setIsOpen(!isOpen);\n  }\n  const handleClickItem = (option: TSelectItem) => {\n    onClickItem?.(option);\n    setSelected(prevSelected => {\n      return prevSelected?.name === option.name ? prevSelected : option\n    })\n  \n    if (closeOnSelect) {\n      setIsOpen(false);\n    }\n  }\n  useOnClickOutside({ ref: selectListRef, onClose: () => setIsOpen(false) })\n  return (\n    <div ref={selectListRef} className={styles.selectListWrapper}>\n      <Button\n        type='button'\n        surface='x'\n        size='xx-small'\n        onClick={handleClick}\n        iconRight={{ icon: isOpen ? 'icon-chevron-up' : 'icon-chevron-down' }}\n        disabled={disabled}\n      >\n        {selected?.name ?? placeholder}\n      </Button>\n      <AnimatePresence>\n        {isOpen && (\n          <motion.ul className={styles.selectList}>\n            {options?.map((option, i) => {\n              return (\n                <motion.li\n                  key={`${option.name}-${i}`}\n                  className={styles.selectItem}\n                >\n                  <button\n                    className={styles.selectItemButton}\n                    onClick={() => handleClickItem(option)}\n                    disabled={disabled}\n                  >\n                    <input\n                      type=\"radio\"\n                      checked={option.name === selected?.name}\n                      className={styles.radio}\n                      readOnly\n                    />\n                    <span className={styles.label}>{option.name}</span>\n                  </button>\n                </motion.li>\n              )\n            })}\n          </motion.ul>\n        )}\n      </AnimatePresence>\n    </div>\n  )\n}\n\nexport {\n  SelectList\n}\n"],"names":["SelectList","options","preSelected","onClickButton","onClickItem","closeOnSelect","disabled","isOpen","setIsOpen","useState","selected","setSelected","selectListRef","useRef","handleClick","handleClickItem","option","prevSelected","useOnClickOutside","_jsxs","selectListWrapper","placeholder","_jsx","motion","styles","selectList","selectItem","selectItemButton","name","radio","label","i"],"mappings":"mqBAqBAA,EAAA,CAAA,CAAoB,QAAAC,EAClBA,YAAAA,EACAC,cAAAA,EACAC,YAAAA,EACAC,cAAAA,EACAC,SAAAA,EACAC,YAAAA,CAEW,IAAA,CACX,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACA,CAAAC,EAAAC,CAAA,EAAAF,EAAA,SAAAP,CAAA,EACAU,EAAAC,SAAA,IAAA,EACAC,EAAA,IAAA,CACEX,GAAAA,MAAAA,IACAK,EAAAA,CAAAA,CAAAA,CAAiB,EAEnBO,EAAAC,GAAA,CACEZ,GAAAA,MAAAA,EAAAA,GACAO,EAAAA,IACEM,GAAA,YAAAA,EAAA,QAAAD,EAAA,KAAAC,EAAAD,CAA2DA,EAG7DX,GACEG,EAAAA,EAAAA,CACF,EAEFU,OAAAA,EAAAA,CAAkB,IAAAN,EAAOA,QAAAA,IAAAA,EAAAA,EAAAA,CAA6C,CAAA,EACtEO,EAAA,MAAA,CACE,IAAAP,EAAUA,UAAAA,EAAAA,kBAAiCQ,SAAAA,CAAAA,EAAAA,EAAAA,CAClC,KAAA,SACA,QAAA,IACG,KAAA,WACH,QAAAN,EACIA,UAAAA,CACE,KAAAP,EAAA,kBAAA,mBAAqC,EAAoB,SAAAD,EACpEA,UAAAA,GAAAA,YAAAA,EAAAA,OAAAA,CAEmBe,CAAAA,EAAAA,EAAAA,EAAAA,CAEL,SAAAd,GAAAe,EAAAC,EAAA,GAAA,CAEF,UAAAC,EAAA,WAAmBC,SAAAA,GAAAA,YAAAA,EAAAA,IAAAA,CAAAA,EAAAA,IAEzBH,EAAAC,EAAA,GAAA,CACY,UAAAC,EAAA,WAEUE,SAAAA,EAAAA,SAAAA,CAElB,UAAAF,EAAA,iBACoBG,QAAAA,IAAAA,EAAAA,CAAAA,EACmB,SAAArB,EACrCA,SAAAA,CAAAA,EAAAA,QAAAA,CAEA,KAAA,QACO,QAAAU,EAAA,QAAAN,GAAA,YAAAA,EAAA,MAC8BkB,UAAAA,EAAAA,MACjBC,SAAAA,EACV,CAAA,EAAAP,EAAA,OAAA,CAEV,UAAAE,EAAA,MAAwBM,SAAAA,EAAAA,IAAeF,CAAAA,CAAAA,CAAY,CAAA,CAC7C,EAAA,GAAAZ,EAAA,QAAAe,GAAA,EAGb,CAAA,CACQ,CAAA,CAAA,CAEG,CAAA,CAGxB;;;;;;;;;;;"}