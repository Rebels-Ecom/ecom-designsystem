import{r as S}from"./index-6f814c40.js";import{c as _}from"./index-74f03c09.js";import{P as F}from"./picture-1385f78c.js";import{g as b,D as G}from"./divider-lines-aed21525.js";import{c as g,P as H}from"./format-helper-db7271cf.js";import{B as C}from"./button-b550aacc.js";import{P as E}from"./product-variant-list-62a9c744.js";import{f as M}from"./product-variant-322089ce.js";import{T as Q}from"./tag-f7025b30.js";import{a as r,j as m,F as R}from"./jsx-runtime-76c5c2e2.js";import{d as J,a as K}from"./dummy-product-a4cbc78e.js";const X="_placeholderImage_zwoaa_1",Y="_placeholderShimmer_zwoaa_1",Z="_placeholderTags_zwoaa_15",ee="_placeholderHeading_zwoaa_21",re="_placeholderParagraphLong_zwoaa_27",te="_placeholderParagraphShort_zwoaa_32",N={placeholderImage:X,placeholderShimmer:Y,placeholderTags:Z,placeholderHeading:ee,placeholderParagraphLong:re,placeholderParagraphShort:te};function c({type:t="heading"}){function e(d){switch(d){case"image":return"placeholderImage";case"tags":return"placeholderTags";case"p_long":return"placeholderParagraphLong";case"p_short":return"placeholderParagraphShort";case"heading":default:return"placeholderHeading"}}return r("div",{className:_(N.placeholder,N[e(t)])})}try{c.displayName="Placeholder",c.__docgenInfo={description:"",displayName:"Placeholder",props:{type:{defaultValue:{value:"heading"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"image"'},{value:'"heading"'},{value:'"tags"'},{value:'"p_long"'},{value:'"p_short"'}]}}}}}catch{}const ae="_productCard_gmhrv_1",ne="_imageWrapper_gmhrv_15",ie="_cardPicture_gmhrv_24",oe="_cardImage_gmhrv_31",ce="_cardContent_gmhrv_42",de="_placeholderContent_gmhrv_42",se="_heading_gmhrv_52",le="_textGray_gmhrv_56",ue="_textPurple_gmhrv_61",pe="_productCardInput_gmhrv_67",me="_productCardBtn_gmhrv_71",ge="_iconLink_gmhrv_75",o={productCard:ae,imageWrapper:ne,cardPicture:ie,cardImage:oe,cardContent:ce,placeholderContent:de,heading:se,textGray:le,textPurple:ue,productCardInput:pe,productCardBtn:me,iconLink:ge},he="_tagsList_1cf84_1",ye={tagsList:he};function P({tagsList:t=[]}){return r("ul",{className:ye.tagsList,children:Array.isArray(t)&&t.length>0&&t.map((e,d)=>r("li",{children:r(Q,{...e})},d))})}try{P.displayName="TagsList",P.__docgenInfo={description:"",displayName:"TagsList",props:{tagsList:{defaultValue:{value:"[]"},description:"",name:"tagsList",required:!1,type:{name:"ITag[]"}}}}}catch{}function h({product:t,changePackagingButton:e,addToCartButton:d,addToCart:n,loading:s}){const{productId:y,productImageUrl:w,price:W,itemNumberPerSalesUnit:$}=t,[z,f]=S.useState(!1),[a,I]=S.useState({...t,productImage:b(y,w),quantity:"1",totalPrice:g(W*$),selectedVariantId:y});function O(i){const l=parseInt(i.target.value)||1;I({...a,quantity:l.toString(),totalPrice:g(a.price*a.itemNumberPerSalesUnit*l)})}function j(){f(!0)}function D(i){const l=a.productId===i.variantId?parseInt(a.quantity):1;I({...a,productId:i.variantId,productImage:i.image,country:i.country,packaging:i.variantName,priceStr:i.listPricePerUnitString,price:i.price,salesUnit:i.salesUnit,itemNumberPerSalesUnit:i.itemNumberPerSalesUnit,totalPrice:g(i.price*i.itemNumberPerSalesUnit*l),quantity:l.toString(),selectedVariantId:i.variantId}),f(!1)}return z?r(E,{className:o.productCard,variantsList:a.productVariantList,onVariantSelect:D,selectedVariantId:a.selectedVariantId}):m("div",{className:o.productCard,children:[Array.isArray(a.tags)&&a.tags.length?r(R,{children:s?r(c,{type:"tags"}):r(P,{tagsList:a.tags})}):null,s?r(c,{type:"image"}):r("div",{className:o.imageWrapper,children:r(F,{...a.productImage,classNamePicture:o.cardPicture,classNameImg:`${o.cardImage}`,fallbackImageUrl:M})}),s?m("div",{className:o.placeholderContent,children:[r(c,{type:"heading"}),r(c,{type:"p_short"}),r(c,{type:"p_long"}),r(c,{type:"p_long"})]}):m("div",{className:`${o.cardContent}`,children:[r("h5",{className:o.heading,children:a.productName}),r(G,{}),r("p",{className:_(o.textGray,"bodyS"),children:`Art.nr. ${y} - ${a.country}`}),r("p",{className:_(o.textPurple,"bodyS"),children:`${a.packaging}: ${a.priceStr} kr/st`})]}),r(C,{...e,surface:"secondary",iconRight:{icon:"icon-layers"},rounded:!0,fullWidth:!0,onClick:()=>j(),disabled:s,children:"Byt förpackning"}),s?m("div",{className:o.placeholderContent,children:[r(c,{type:"p_long"}),r(c,{type:"p_long"})]}):r(H,{className:o.productCardInput,salesUnit:a.salesUnit,itemNumberPerSalesUnit:a.itemNumberPerSalesUnit,totalPrice:a.totalPrice,quantity:a.quantity,quantityInputId:a.productId,onChange:O}),r(C,{...d,className:s?"":o.productCardBtn,fullWidth:!0,onClick:()=>n(t),disabled:s,children:"Lägg i kundvagn"})]})}try{h.displayName="ProductCard",h.__docgenInfo={description:"",displayName:"ProductCard",props:{product:{defaultValue:null,description:"",name:"product",required:!0,type:{name:"IProduct"}},changePackagingButton:{defaultValue:null,description:"",name:"changePackagingButton",required:!0,type:{name:"IButton"}},addToCartButton:{defaultValue:null,description:"",name:"addToCartButton",required:!0,type:{name:"IButton"}},addToCart:{defaultValue:null,description:"",name:"addToCart",required:!0,type:{name:"CallableFunction"}},loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"boolean"}},productId:{defaultValue:null,description:"",name:"productId",required:!0,type:{name:"string"}},productName:{defaultValue:null,description:"",name:"productName",required:!0,type:{name:"string"}},productImageUrl:{defaultValue:null,description:"",name:"productImageUrl",required:!0,type:{name:"string"}},country:{defaultValue:null,description:"",name:"country",required:!0,type:{name:"string"}},packaging:{defaultValue:null,description:"",name:"packaging",required:!0,type:{name:"string"}},priceStr:{defaultValue:null,description:"",name:"priceStr",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},salesUnit:{defaultValue:null,description:"",name:"salesUnit",required:!0,type:{name:"string"}},itemNumberPerSalesUnit:{defaultValue:null,description:"",name:"itemNumberPerSalesUnit",required:!0,type:{name:"number"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:"string"}},totalPrice:{defaultValue:null,description:"",name:"totalPrice",required:!0,type:{name:"string"}},productVariantList:{defaultValue:null,description:"",name:"productVariantList",required:!0,type:{name:"IProductVariant[]"}},tags:{defaultValue:null,description:"",name:"tags",required:!0,type:{name:"ITag[]"}},productDescription:{defaultValue:null,description:"",name:"productDescription",required:!1,type:{name:"string"}}}}}catch{}const _e={title:"Design System/Molecules/ProductCard",component:h},x={render:({...t})=>{function e(d){console.log("Showing toast with product...")}return r("div",{style:{width:"100%",marginTop:"2rem",marginLeft:"2rem"},children:r(h,{...t,addToCart:e})})}};function k(t){return t.map(e=>({text:e.Text,shape:e.Shape?e.Shape:"pill",color:e.Class}))}function Pe(t,e){const d=e[0].VariantId;return e.map(n=>({productName:t,variantName:n.Name,variantId:n.VariantId,country:Array.isArray(n.ShortTexts)&&n.ShortTexts.length?n.ShortTexts[0]:"",listPricePerUnitString:n.ListPricePerUnitString,price:n.ListPricePerUnit,salesUnit:n.SalesUnit,itemNumberPerSalesUnit:n.UnitsPerBaseUnit,image:b(n.VariantId,n.PrimaryImageUrl),checked:n.VariantId===d,tags:k(n.Tags),onChange:()=>{}}))}function B(t){const e=t.Variants[0];return{productId:e.VariantId,productName:t.DisplayName,productImageUrl:e.PrimaryImageUrl,country:Array.isArray(e.ShortTexts)&&e.ShortTexts.length?e.ShortTexts[0]:"",packaging:e.VariantFullName,priceStr:e.ListPricePerUnitString,price:e.ListPricePerUnit,salesUnit:e.SalesUnit,itemNumberPerSalesUnit:e.UnitsPerBaseUnit,tags:k(e.Tags),quantity:"1",totalPrice:g(e.ListPricePerUnit*e.UnitsPerBaseUnit),productVariantList:Pe(t.DisplayName,t.Variants)}}B(J);const A=B(K),u={...x,args:{product:A}},p={...x,args:{product:A,loading:!0}};var U,T,q;u.parameters={...u.parameters,docs:{...(U=u.parameters)==null?void 0:U.docs,source:{originalSource:`{
  ...ProductCardStoryTemplate,
  args: {
    product: productWineArgs
  }
}`,...(q=(T=u.parameters)==null?void 0:T.docs)==null?void 0:q.source}}};var L,V,v;p.parameters={...p.parameters,docs:{...(L=p.parameters)==null?void 0:L.docs,source:{originalSource:`{
  ...ProductCardStoryTemplate,
  args: {
    product: productWineArgs,
    loading: true
  }
}`,...(v=(V=p.parameters)==null?void 0:V.docs)==null?void 0:v.source}}};const fe=["ProductCardStory","ProductCardStory_Loading"],xe=Object.freeze(Object.defineProperty({__proto__:null,ProductCardStory:u,ProductCardStory_Loading:p,__namedExportsOrder:fe,default:_e},Symbol.toStringTag,{value:"Module"}));export{h as P,u as a,xe as p};
//# sourceMappingURL=product-card.stories-5b20ed2c.js.map
