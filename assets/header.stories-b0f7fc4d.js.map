{"version":3,"file":"header.stories-b0f7fc4d.js","sources":["../../src/design-system/components/organisms/header/header.tsx","../../src/logotypes/Spendrups_logo_vertical.svg"],"sourcesContent":["import React, { ReactElement, useEffect, useLayoutEffect, useRef, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport cx from 'classnames'\nimport styles from './header.module.css'\nimport useResizeObserver from '@react-hook/resize-observer'\n\nconst useSize = (target: any) => {\n  const [size, setSize] = useState()\n\n  useLayoutEffect(() => {\n    setSize(target?.current?.getBoundingClientRect())\n  }, [target])\n\n  // Where the magic happens\n  useResizeObserver(target, (entry: any) => setSize(entry.contentRect))\n\n  useEffect(() => console.log(size), [size])\n\n  return size\n}\n\nenum Area {\n  ADMIN_SEARCH = 'adminSearch',\n  ADMIN_NAV_LINKS = 'adminNavLinks',\n  TOP = 'top',\n  LOGO = 'logo',\n  SEARCH = 'search',\n  SEARCH_NAV_LINKS = 'searchNavLinks',\n  BTN = 'btn',\n  NAV = 'nav',\n  MOBILE_NAV = 'mobileNav',\n}\n\nconst GridArea = ({ children, area }: { children?: React.ReactNode; area: Area }) => {\n  return (\n    <div className={styles[area]} data-area={area}>\n      {children}\n    </div>\n  )\n}\n\nconst Wrapper = ({ children, isOpen }: { children: React.ReactNode; isOpen: boolean }) => {\n  const target = useRef(null)\n  const size = useSize(target) || { width: 0, height: 0 }\n\n  return (\n    <motion.header className={styles.header} initial={false} animate={isOpen ? 'open' : 'closed'} ref={target} custom={size?.width}>\n      {children}\n    </motion.header>\n  )\n}\n\nconst Header = ({\n  children,\n  isOpen,\n}: {\n  isOpen: boolean\n  isAdmin?: boolean\n  isLoggedIn?: boolean\n  adminSearch?:any\n  adminNavLinks?: any\n  topNavBar?: any\n  logotype?: any\n  searchNavBar?: any\n  searchNavLinks?: any\n  navigation?: any\n  navigationTabs?: any\n  cartSidebar?: any\n  children: ({ Wrapper, MenuButton, GridArea }: { Wrapper: any; MenuButton: any; GridArea: any }) => React.ReactNode\n}) => {\n  const Path = (props: any) => <motion.path fill=\"transparent\" strokeWidth=\"3\" strokeLinecap=\"round\" {...props} />\n  const MenuButton = ({ onClick }: any) => (\n    <button\n      id=\"navigation-menu-btn\"\n      type={'button'}\n      aria-label=\"menu\"\n      aria-controls={'navigation-menu'}\n      aria-expanded={isOpen}\n      onClick={onClick}\n      className={cx(styles.menuButton, isOpen && styles.open)}\n    >\n      <svg width=\"23\" height=\"23\" viewBox=\"0 0 23 23\">\n        <Path\n          variants={{\n            closed: { d: 'M 2 2.5 L 20 2.5' },\n            open: { d: 'M 3 16.5 L 17 2.5' },\n          }}\n        />\n        <Path\n          d=\"M 2 9.423 L 20 9.423\"\n          variants={{\n            closed: { opacity: 1 },\n            open: { opacity: 0 },\n          }}\n          transition={{ duration: 0.1 }}\n        />\n        <Path\n          variants={{\n            closed: { d: 'M 2 16.346 L 20 16.346' },\n            open: { d: 'M 3 2.5 L 17 16.346' },\n          }}\n        />\n      </svg>\n    </button>\n  )\n\n  if (typeof children === 'function') {\n    return children({ Wrapper, MenuButton, GridArea }) as ReactElement\n  }\n  return children as ReactElement\n}\n\nexport { Header }\n","export default \"__VITE_ASSET__bd6f3079__\""],"names":["useSize","target","size","setSize","useState","useLayoutEffect","useResizeObserver","useEffect","GridArea","children","_jsx","styles","area","Wrapper","useRef","motion","header","isOpen","width","Header","Path","props","MenuButton","onClick","_jsxs","logotype_mobile_vertical"],"mappings":"whEAMAA,GAAAC,GAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAEAC,OAAAA,EAAAA,gBAAAA,IAAAA,OACEF,GAAAA,EAAAA,GAAAA,YAAAA,EAAAA,UAAAA,YAAAA,EAAAA,uBAAAA,CAAgD,EAAA,CAAAF,CAAA,CAAA,EAIlDK,GAAAA,EAAAA,GAAAA,EAAAA,EAAAA,WAAAA,CAAAA,EAEAC,EAAAA,UAAAA,IAAAA,QAAAA,IAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,EAEAL,CACF,EAcAM,GAAA,CAAA,CAAkB,SAAAC,EAAEA,KAAAA,CAA2D,IAC7EC,EAAA,MAAA,CACE,UAAAC,EAAAC,CAAA,EAA2B,YAAAA,EAAcA,SAAAA,CAAKH,CAAAA,EAMlDI,GAAA,CAAA,CAAiB,SAAAJ,EAAEA,OAAAA,CAAiE,IAAA,CAClF,MAAAR,EAAAa,SAAA,IAAA,EACAZ,EAAAF,GAAAC,CAAA,GAAA,CAAgC,MAAA,EAAS,OAAA,CAAW,EAEpD,OAAAS,EAAAK,GAAA,OAAA,CACgB,UAAAJ,EAAA,OAAmBK,QAAAA,GAAiB,QAAAC,EAAA,OAAA,SAAkC,IAAAhB,EAAeA,OAAAA,GAAAA,YAAAA,EAAAA,MAAsBiB,SAAAA,CAAMT,CAAAA,CAInI,EAEAU,EAAA,CAAA,CAAgB,SAAAV,EACdA,OAAAA,CAgBF,IAAA,CACE,MAAAW,EAAAC,GAAAX,EAAAK,GAAA,KAAA,CAAyC,KAAA,cAAM,YAAA,IAA0B,cAAA,QAAkB,GAAAM,CAAYA,CAAAA,EACvGC,EAAA,CAAA,CAAoB,QAAAC,CAAEA,IAAAA,EAAAA,SAAAA,CACpB,GAAA,sBACK,KAAA,SACG,aAAA,OACK,gBAAA,kBACI,gBAAAN,EACAA,QAAAA,EACfM,UAAAA,GAAAA,EAAAA,WAAAA,GAAAA,EAAAA,IAAAA,EACsD,SAAAC,EAAA,MAAA,CAEtD,MAAA,KAAW,OAAA,KAAY,QAAA,YAAa,SAAA,CAAAd,EAAAU,EAAA,CAC7B,SAAA,CACO,OAAA,CACA,EAAA,kBAAK,EAAmB,KAAA,CAC1B,EAAA,mBAAK,CAAoB,CACjC,CAAA,EAAAV,EAAAU,EAAA,CAEG,EAAA,uBACD,SAAA,CACQ,OAAA,CACA,QAAA,CAAW,EAAE,KAAA,CACf,QAAA,CAAW,CAAE,EACrB,WAAA,CACY,SAAA,EAAY,CAAI,CAAA,EAAAV,EAAAU,EAAA,CAEzB,SAAA,CACO,OAAA,CACA,EAAA,wBAAK,EAAyB,KAAA,CAChC,EAAA,qBAAK,CAAsB,CACnC,CAAA,CAAA,CACA,CAAA,CAAA,CAAA,EAKR,OAAA,OAAAX,GAAA,WACEA,EAAA,CAAgB,QAAAI,GAAEA,WAAAA,EAASS,SAAAA,EAAYd,CAAAA,EAEzCC,CACF,+tCC9GA,MAAegB,EAAA,GAAA,IAAA,IAAA,uCAAA,YAAA,GAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}