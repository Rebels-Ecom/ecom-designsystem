{"version":3,"file":"search-nav-bar.stories-fb46a079.js","sources":["../../src/design-system/components/molecules/search-nav-bar/search-nav-bar.tsx","../../src/design-system/components/molecules/search-nav-bar/search-nav-bar.stories.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport styles from './search-nav-bar.module.css';\nimport { Icon } from '../../atoms/icon/icon';\nimport { IPicture, Picture } from '../../atoms/picture/picture';\nimport { TNavLink} from '../../../../types/links';\nimport { Search } from '../../atoms/search/search';\n\nexport type INavigationLogo = {\n    href: string\n} & IPicture\n\nexport interface ISearchNavBar {\n    logo: INavigationLogo, \n    searchNavLinks: Array<TNavLink>,  \n    linkComponent: any, \n    searchArgs: any, \n    itemsToFilterOn: Array<any>\n}\n\nconst SearchNavBar = ({logo, searchNavLinks, linkComponent:Link, searchArgs, itemsToFilterOn } : ISearchNavBar) => {\n    const [isOpen, setIsOpen] = useState<boolean>(false)\n    const [isFocused, setIsFocused] = useState<boolean>(false)\n    const [query, setQuery] = useState<string>('')\n    const [results, setResults] = useState<Array<any>>([])\n  \n    useEffect(() => {\n        let pattern = new RegExp(query.toLowerCase(), 'i')\n        setResults(itemsToFilterOn.filter((item: any) => query && item.label && pattern.test(item.label.toLowerCase())))\n    }, [query]);\n    \n    return(\n        <>\n            {logo && (\n                <Link to={logo.href} className={styles.linkLogo}>\n                    <Picture {...logo} classNamePicture={styles.logoPicture} classNameImg={styles.logoImg} />\n                </Link>\n            )}\n            <div className={styles.innerSearchWrapper}>\n                <Search\n                    className={styles.searchComponent}\n                    id={'Search_Id'}\n                    query={query}\n                    setQuery={setQuery}\n                    results={results}\n                    isOpen={isOpen}\n                    setIsOpen={setIsOpen}\n                    setIsFocused={setIsFocused}\n                    placeholder={'Sök på produkt'}\n                    noResult = {\n                    { label: 'Din sökning gav inga träffar',\n                        text: ''}\n                    }\n                />\n                {Array.isArray(searchNavLinks) && searchNavLinks.length && \n                    <ul className={styles.searchNavLinksWrapper}>\n                        {searchNavLinks.map((link, index)=>(\n                            <Link key={`${link.text}-${index}`} to={link.href} className={styles.searchNavLink}>\n                                <Icon icon={link.navLinkType === 'favorites' ? 'icon-heart' : 'icon-shopping-cart'} className={styles.navIcon} />\n                            </Link>\n                        ))}\n                    </ul>\n                }\n            </div> \n        </>\n    )\n}\n\nexport { SearchNavBar }","import React from 'react';\nimport { ComponentStory, ComponentMeta } from '@storybook/react';\nimport { SearchNavBar } from './search-nav-bar';\nimport { SearchStory } from '../../atoms/search/search.stories';\nexport default ({\n  title: 'Design System/Molecules/Search Nav Bar',\n  component: SearchNavBar\n} as ComponentMeta<typeof SearchNavBar>);\nconst Template: ComponentStory<typeof SearchNavBar> = args => <div style={{\n  position: 'relative',\n  height: '5rem',\n  display: 'flex',\n  justifyContent: 'center',\n  padding: '0.5rem 1rem'\n}}>\n        <SearchNavBar {...args} />\n    </div>;\nconst itemsToFilterOn = [{\n  id: 'NCG626689',\n  label: 'Ekoöl på riktigt',\n  text: 'Testa vår ekoöl',\n  slug: 'eko-ol'\n}, {\n  id: 'NCG691725',\n  label: 'Loka årets vinnare',\n  text: 'Loka årets vinnare i sustainable brand index',\n  slug: 'loka-arets-vinnare'\n}, {\n  id: 'NCG383172',\n  label: 'Spendrups hållbarhetsredovisning',\n  text: 'Läsa om Spendrups hållbarhetsredovisning',\n  slug: 'spendrups-hallbarhetsredovisning'\n}, {\n  id: 'NCG521824',\n  label: 'Briska',\n  text: 'Briska',\n  slug: 'briska'\n}, {\n  id: 'NCG583714',\n  label: 'Spring wine and spirits',\n  text: 'Vårens nya smak',\n  slug: 'spring-wine-spirits'\n}, {\n  id: 'NCG769205',\n  label: 'Det här är vi',\n  text: 'Familjeföretaget med öl i blodet',\n  slug: 'om-oss'\n}, {\n  id: 'NCG880524',\n  label: 'Kiviks musteri',\n  text: 'Prova nya cider',\n  slug: 'kiviks-cider'\n}, {\n  id: 'NCG153793',\n  label: 'Här är nya Loka likes favorites',\n  text: 'loka likes favorites - smakar glass och kokos ',\n  slug: 'loka-favorites'\n}, {\n  id: 'NCG660063',\n  label: 'Övrig läsk och vatten',\n  text: 'Övrig läsk och vatten',\n  slug: 'lask-och-vatten'\n}];\nconst searchNavBarArgs = {\n  logo: {\n    src: '/logotypes/Spendrups_logo_desktop_horizontal.svg',\n    alt: 'logo',\n    href: '/',\n    id: 'logo',\n    sources: [{\n      srcset: '/logotypes/Spendrups_logo_mobile_vertical.svg',\n      media: `(max-width: 767px)`\n    }, {\n      srcset: '/logotypes/Spendrups_logo_desktop_horizontal.svg',\n      media: `(min-width: 768px)`\n    }]\n  },\n  searchNavLinks: [{\n    navLinkType: 'favorites',\n    href: '/favorites',\n    text: 'My favorites',\n    isExternal: false\n  }, {\n    navLinkType: 'cart',\n    href: '/cart',\n    text: 'Cart',\n    isExternal: false\n  }],\n  linkComponent: 'a',\n  searchArgs: SearchStory.args,\n  itemsToFilterOn: itemsToFilterOn\n};\nexport const SearchNavBarStory = Template.bind({});\nSearchNavBarStory.storyName = 'Search Nav Bar';\nSearchNavBarStory.args = {\n  ...searchNavBarArgs\n};\nSearchNavBarStory.parameters = {\n  ...SearchNavBarStory.parameters,\n  docs: {\n    ...SearchNavBarStory.parameters?.docs,\n    source: {\n      originalSource: \"args => <div style={{\\n  position: 'relative',\\n  height: '5rem',\\n  display: 'flex',\\n  justifyContent: 'center',\\n  padding: '0.5rem 1rem'\\n}}>\\n        <SearchNavBar {...args} />\\n    </div>\",\n      ...SearchNavBarStory.parameters?.docs?.source\n    }\n  }\n};"],"names":["SearchNavBar","logo","searchNavLinks","Link","searchArgs","isOpen","setIsOpen","useState","isFocused","setIsFocused","query","setQuery","results","setResults","useEffect","pattern","_jsxs","_Fragment","_jsx","href","linkLogo","logoPicture","logoImg","styles","innerSearchWrapper","searchComponent","searchNavLinksWrapper","link","searchNavLink","navIcon","index","searchNavBar_stories","title","component","Template","style","position","height","display","justifyContent","padding","children","args","itemsToFilterOn","id","label","text","slug","searchNavBarArgs","src","alt","sources","srcset","media","navLinkType","isExternal","linkComponent","SearchStory","SearchNavBarStory","bind","storyName","parameters","docs","source","originalSource"],"mappings":"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"}