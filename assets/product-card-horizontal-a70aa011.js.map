{"version":3,"file":"product-card-horizontal-a70aa011.js","sources":["../../src/design-system/components/molecules/product-card-horizontal/product-card-horizontal.tsx"],"sourcesContent":["import React from 'react'\nimport styles from './product-card-horizontal.module.css'\nimport { ProductQuantityInput } from '../product-quantity-input/product-quantity-input'\nimport { getProductPicture } from '../../../../helpers/picture-helper'\nimport fallbackProductImageUrl from '../../../../assets/fallback-images/defaultFallbackImage.svg'\nimport { Picture, IconButton, DividerLines, Loader, Placeholder, Button, Icon } from '../../atoms'\nimport cx from 'classnames'\nimport { TagsList } from '../tags-list/tags-list'\nimport { IProductCard, TProductCardHorizontal } from '../product-card/product-card'\n\nconst ProductCardHorizontal = ({\n  product,\n  loading = false,\n  addToCart,\n  hideCartButton,\n  onClickRemoveProduct,\n  hideRemoveButton,\n  removingProduct,\n  onChangeQuantity,\n  productQuantityDisabled,\n  linkComponent: Link,\n  className = '',\n  defaultQuantity,\n  campaign,\n  buttonLoading,\n  disabled,\n  border = false,\n  showAddToPurchaseListIcon,\n  onSaveToPurchaseListClick,\n}: IProductCard & TProductCardHorizontal) => {\n  const { productId, productName, productUrl, productImageUrl, tags, country, packaging, priceStr, totalPrice, quantity, salesUnit, itemNumberPerSalesUnit } =\n    product\n  const productImage = getProductPicture(productId, productImageUrl)\n\n  function handleRemoveProduct(id: string) {\n    onClickRemoveProduct && onClickRemoveProduct(id)\n  }\n\n  function handleOnChangeQuantity(e: React.ChangeEvent<HTMLInputElement>) {\n    const quantity = parseInt(e.target.value) || 0\n    onChangeQuantity && onChangeQuantity(quantity)\n  }\n\n  const style: { [key: string]: string } = {\n    '--campaign-color': campaign?.color ?? '#FFF',\n  }\n\n  return (\n    <div\n      className={cx(styles.productCardHorizontal, className, {\n        [styles.campaign]: campaign?.title,\n        [styles.border]: border,\n      })}\n      style={style}\n    >\n      {campaign?.title && <div className={styles.campaignBox}>{campaign.title}</div>}\n      {removingProduct ? (\n        <Loader visible text={'Loading'} />\n      ) : (\n        <>\n          {loading ? (\n            <>\n              <div className={cx(styles.imageWrapper, styles.imageWrapperPlaceholder)}>\n                <Placeholder type=\"image\" />\n              </div>\n              <div className={styles.placeholderContent}>\n                <Placeholder type={'heading'} />\n                <Placeholder type={'p_long'} />\n                <Placeholder type={'p_short'} />\n                <Placeholder type={'p_short'} />\n              </div>\n            </>\n          ) : (\n            <>\n              <Picture {...productImage} classNamePicture={styles.picture} classNameImg={`${styles.image}`} fallbackImageUrl={fallbackProductImageUrl} />\n              <div className={styles.content}>\n                {Array.isArray(tags) && tags.length ? <TagsList tagsList={tags} /> : null}\n\n                {productUrl && Link ? (\n                  <Link to={productUrl} href={productUrl} className={styles.mainLink}>\n                    <h5 className={styles.heading}>{productName}</h5>\n                  </Link>\n                ) : (\n                  <h5 className={styles.heading}>{productName}</h5>\n                )}\n\n                <p className={cx(styles.subTitle, 'bodyS')}>{`${packaging ? `${packaging}:` : ''} ${priceStr ? `${priceStr} kr/st` : ''}`}</p>\n\n                {(country !== '' || productId !== '') && (\n                  <p className={cx(styles.caption, 'bodyS')}>{`${productId ? `Art.nr. ${productId} -` : ''} ${country ?? ''}`}</p>\n                )}\n\n                <ProductQuantityInput\n                  className={styles.quantityInput}\n                  salesUnit={salesUnit}\n                  itemNumberPerSalesUnit={itemNumberPerSalesUnit}\n                  totalPrice={totalPrice}\n                  quantity={defaultQuantity ?? quantity}\n                  quantityInputId={productId}\n                  onChange={handleOnChangeQuantity}\n                  disabled={productQuantityDisabled}\n                />\n              </div>\n              {!hideRemoveButton && onClickRemoveProduct && (\n                <div className={styles.iconLink}>\n                  <IconButton type=\"button\" icon=\"icon-x-circle\" onClick={() => handleRemoveProduct(productId)} isTransparent noBorder size=\"large\" />\n                </div>\n              )}\n              {!hideCartButton ? (\n                <div className={styles.buttonsWrapper}>\n                  {showAddToPurchaseListIcon && onSaveToPurchaseListClick && (\n                    <Button\n                      type={'button'}\n                      surface={'primary'}\n                      className={!loading ? styles.productCardBtn : ''}\n                      size={'x-small'}\n                      onClick={() => onSaveToPurchaseListClick()}\n                      loading={buttonLoading}\n                    >\n                      <Icon icon={'icon-file-text'} className={styles.cartBtnIcon}></Icon>\n                      {/* TODO: replace this hc copy with addToCartButton.children? */}\n                      <span className={styles.cartBtnText}>Lägg i inköpslista</span>\n                    </Button>\n                  )}\n                  {/* TODO: replace this hc values with addToCartButton props? */}\n                  <Button\n                    type={'button'}\n                    surface={'primary'}\n                    className={!loading ? styles.productCardBtn : ''}\n                    size={'x-small'}\n                    onClick={() => addToCart(product)}\n                    disabled={buttonLoading || loading || disabled || quantity <= '0'}\n                    loading={buttonLoading}\n                  >\n                    <Icon icon={'icon-shopping-cart'} className={styles.cartBtnIcon}></Icon>\n                    {/* TODO: replace this hc copy with addToCartButton.children? */}\n                    <span className={styles.cartBtnText}>Lägg i kundvagn</span>\n                  </Button>\n                </div>\n              ) : null}\n            </>\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n\nexport { ProductCardHorizontal }\n"],"names":["ProductCardHorizontal","product","addToCart","hideCartButton","onClickRemoveProduct","hideRemoveButton","removingProduct","onChangeQuantity","productQuantityDisabled","Link","defaultQuantity","campaign","buttonLoading","disabled","showAddToPurchaseListIcon","productId","productName","productUrl","productImageUrl","tags","country","packaging","priceStr","totalPrice","quantity","salesUnit","itemNumberPerSalesUnit","productImage","getProductPicture","handleRemoveProduct","id","handleOnChangeQuantity","e","quantity2","style","_jsxs","cx","styles","className","title","border","campaignBox","_jsx","_Fragment","loading","Placeholder","placeholderContent","Picture","picture","image","fallbackProductImageUrl","content","mainLink","heading","ProductQuantityInput","quantityInput","iconLink","buttonsWrapper","onSaveToPurchaseListClick","cartBtnIcon","cartBtnText","Button"],"mappings":"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"}