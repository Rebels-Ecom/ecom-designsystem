import{r as s}from"./index-6f814c40.js";import{U as k}from"./ui-link-da2491c1.js";import{j as h,a as t}from"./jsx-runtime-76c5c2e2.js";import{m as E}from"./motion-354a1bac.js";import{c as I}from"./index-74f03c09.js";import{H as K}from"./heading-e5a679a5.js";import{F as v}from"./flex-container-c88ed1e9.js";import{E as R}from"./expandable-wrapper-911222ad.js";import{B as D}from"./button-689f1284.js";const F=(e,r)=>{switch(e){case"email":return r&&V(r);case"password":return r&&b(r);default:return!0}},g=e=>e.required?e.pattern?!!F(e.pattern,e.value??e.originalValue)&&!!(e.value??e.originalValue):!!(e.value??e.originalValue):e.pattern?!!F(e.pattern,e.value??e.originalValue):!0,V=e=>e&&/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(e),b=e=>e&&e!=="";try{g.displayName="validateField",g.__docgenInfo={description:"",displayName:"validateField",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"HTMLInputTypeAttribute"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e?: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement, Element>) => void)"}},action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"IUILink"}},originalValue:{defaultValue:null,description:"prefilled default value used to compare with the state controlled value in order to detect changes to the form",name:"originalValue",required:!1,type:{name:"string"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},focusOnRender:{defaultValue:null,description:"",name:"focusOnRender",required:!1,type:{name:"boolean"}},maxWidth:{defaultValue:null,description:"opt out of errors component, which reserves space in the forms",name:"maxWidth",required:!1,type:{name:"string"}},onControlledChange:{defaultValue:null,description:"",name:"onControlledChange",required:!1,type:{name:"(((event: ChangeEvent<HTMLInputElement>) => void) & ((event: ChangeEvent<HTMLInputElement>) => void))"}},onInput:{defaultValue:null,description:"",name:"onInput",required:!1,type:{name:"((event: KeyboardEvent<HTMLInputElement>) => void)"}},onKeyPress:{defaultValue:null,description:"",name:"onKeyPress",required:!1,type:{name:"((event: KeyboardEvent<HTMLInputElement>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent<HTMLInputElement>) => void)"}},valid:{defaultValue:null,description:"",name:"valid",required:!1,type:{name:"boolean"}},dirty:{defaultValue:null,description:"",name:"dirty",required:!1,type:{name:"boolean"}},fieldType:{defaultValue:null,description:"decides what type of form field to render and what value types to use",name:"fieldType",required:!0,type:{name:'"input"'}},value:{defaultValue:null,description:"value is a form template controlled property updated by internal form template state",name:"value",required:!1,type:{name:"string"}},subtitle:{defaultValue:null,description:`Subtitle to be displayed in mobile list view
@example A subtitle can be "No phone number added", while a placeholder should be "Add phone number".`,name:"subtitle",required:!1,type:{name:"string"}},pattern:{defaultValue:null,description:"",name:"pattern",required:!1,type:{name:"enum",value:[{value:'"email"'},{value:'"password"'},{value:'"phone"'}]}},size:{defaultValue:{value:"'half'"},description:"Decides if a field should span 50% or 100% of parent width",name:"size",required:!1,type:{name:"enum",value:[{value:'"half"'},{value:'"full"'}]}}}}}catch{}try{V.displayName="isEmail",V.__docgenInfo={description:"",displayName:"isEmail",props:{}}}catch{}try{b.displayName="isPassword",b.__docgenInfo={description:"",displayName:"isPassword",props:{}}}catch{}const W="_form_16440_1",S="_formDirectionRow_16440_6",A="_formTitle_16440_11",C="_field_16440_15",P="_half_16440_19",B="_full_16440_23",O="_generalErrorMessage_16440_30",m={form:W,formDirectionRow:S,formTitle:A,field:C,half:P,full:B,generalErrorMessage:O},j="_inputField_c84eu_1",z="_label_c84eu_5",U="_errorWrapper_c84eu_9",$="_error_c84eu_9",G="_input_c84eu_1",c={inputField:j,label:z,errorWrapper:U,error:$,input:G},_=({onChange:e,onBlur:r,onControlledChange:d,...a})=>{const p=s.useCallback(l=>{l.persist(),e==null||e(l.target.value,a.name),d==null||d(l)},[a.name,e]),i=s.useCallback(l=>{l.persist(),r==null||r(l),d==null||d(l)},[r]);return h("div",{className:c.inputField,children:[a.label&&t("label",{className:c.label,children:a.label}),t("input",{"data-isinvalid":a.dirty&&!a.valid,type:a.type,name:a.name,inputMode:a.type==="number"?"decimal":void 0,placeholder:a.placeholder,className:c.input,step:"any",onChange:p,value:a.value??a.originalValue,min:a.min,max:a.max,disabled:a.disabled,readOnly:a.readonly,autoFocus:a.focusOnRender,onBlur:i}),t("div",{className:c.errorWrapper,children:t(E.label,{className:c.error,initial:{y:"-100%",opacity:0},animate:a.error&&!a.valid&&a.dirty?{y:0,opacity:1}:{y:"-100%",opacity:0},children:a.error})}),t("div",{className:c.linkWrapper,children:t(E.div,{className:c.error,initial:{y:"-100%",opacity:0},animate:a.action?{y:0,opacity:1}:{y:"-100%",opacity:0},children:a.action&&t(k,{...a.action})})})]})};try{_.displayName="InputField",_.__docgenInfo={description:"",displayName:"InputField",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"HTMLInputTypeAttribute"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number"}},originalValue:{defaultValue:null,description:"",name:"originalValue",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},focusOnRender:{defaultValue:null,description:"",name:"focusOnRender",required:!1,type:{name:"boolean"}},maxWidth:{defaultValue:null,description:"opt out of errors component, which reserves space in the forms",name:"maxWidth",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"whether the input should start in a touched state",name:"onChange",required:!1,type:{name:"((newVal: string, name: string) => void)"}},onControlledChange:{defaultValue:null,description:"",name:"onControlledChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e?: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onInput:{defaultValue:null,description:"",name:"onInput",required:!1,type:{name:"((event: KeyboardEvent<HTMLInputElement>) => void)"}},onKeyPress:{defaultValue:null,description:"",name:"onKeyPress",required:!1,type:{name:"((event: KeyboardEvent<HTMLInputElement>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent<HTMLInputElement>) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement, Element>) => void)"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},valid:{defaultValue:null,description:"",name:"valid",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},dirty:{defaultValue:null,description:"",name:"dirty",required:!1,type:{name:"boolean"}},action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"IUILink"}}}}}catch{}const T=({onSubmit:e,onControlledSubmit:r,formTitle:d,formSubtitle:a,loading:p,...i})=>{const[l,M]=s.useState(i.fields),[J,w]=s.useState(!1),[N,H]=s.useState(!1),q=s.useRef(null);s.useEffect(()=>{if(!q.current)return;const n=!l.some(u=>u.required&&!u.valid);H(n)},[l]);const x=s.useCallback(n=>{n.preventDefault(),e==null||e(l),r==null||r(n),w(!0)},[l,e]),L=s.useCallback((n,u)=>{l.find(o=>o.name===u)&&M(o=>o.map(y=>y.name===u?{...y,dirty:!0,valid:g({...y,value:n}),value:n}:y))},[]);return h("form",{ref:q,className:I(m.form,i.alignSubmitButtonHorizontally?m.formDirectionRow:""),onSubmit:x,children:[h("div",{children:[d&&t(K,{order:3,className:m.formTitle,children:d}),a&&t("p",{className:m.formSubtitle,children:a}),t(v,{wrap:!0,children:l==null?void 0:l.map((n,u)=>t("div",{className:I(m.field,m[n.size??"half"]),children:n.fieldType==="input"&&t(_,{...n,value:n.value??n.originalValue,onChange:(f,o)=>{L(f,o)},onControlledChange:f=>{var o;(o=n.onControlledChange)==null||o.call(n,f)},focusOnRender:u===0,readonly:n.blocked,disabled:p})},n.name))}),t(R,{open:!!i.generalErrorMessage,children:t(v,{alignItems:"center",justifyContent:"center",children:i.generalErrorMessage&&t("p",{className:m.generalErrorMessage,dangerouslySetInnerHTML:{__html:i.generalErrorMessage}})})})]}),i.actions&&t(v,{justifyContent:i.alignActions??"center",children:i.actions.map((n,u)=>t(D,{...n,disabled:n.type==="submit"?!N:p,loading:n.type==="submit"&&p},`${n.type}-${u}`))}),i.links&&t(v,{justifyContent:i.alignActions??"center",children:i.links.map((n,u)=>t("a",{className:m.link,href:n.href,target:"_blank",children:n.name},`${n.name}-${u}`))})]})};try{T.displayName="Form",T.__docgenInfo={description:"",displayName:"Form",props:{formTitle:{defaultValue:null,description:"descriptive title to display on top of form",name:"formTitle",required:!0,type:{name:"string"}},formSubtitle:{defaultValue:null,description:"descriptive subtitle to display under formTitle",name:"formSubtitle",required:!1,type:{name:"string"}},onSubmit:{defaultValue:null,description:"submit that requires the complete form data",name:"onSubmit",required:!1,type:{name:"((data: TFormFieldType[]) => void)"}},onControlledSubmit:{defaultValue:null,description:"submit that requires only the react form event",name:"onControlledSubmit",required:!1,type:{name:"((event: FormEvent<HTMLFormElement>) => void)"}},loading:{defaultValue:null,description:"loading state which is necessary in order to disable form while loading",name:"loading",required:!0,type:{name:"boolean"}},fields:{defaultValue:null,description:"all fields to be rendered inside the form",name:"fields",required:!0,type:{name:"TFormFieldType[]"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"IButton[]"}},links:{defaultValue:null,description:"",name:"links",required:!1,type:{name:"{ name: string; href: string; }[]"}},alignActions:{defaultValue:null,description:"",name:"alignActions",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"flex-start"'},{value:'"flex-end"'}]}},alignSubmitButtonHorizontally:{defaultValue:null,description:"",name:"alignSubmitButtonHorizontally",required:!1,type:{name:"boolean"}},generalErrorMessage:{defaultValue:null,description:"",name:"generalErrorMessage",required:!1,type:{name:"any"}}}}}catch{}export{T as F,g as v};
//# sourceMappingURL=form-7ea49480.js.map
