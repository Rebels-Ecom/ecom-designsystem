import{r as s,j as e}from"./jsx-runtime-03333307.js";import{c as C}from"./index-09749a66.js";import{u as A}from"./useOnClickOutside-9d2c35bb.js";import{A as N}from"./index-61679f6b.js";import{m as c}from"./motion-9380e2c6.js";import{I as p}from"./icon-cf6ebd85.js";import{B as w}from"./button-ec6c2e45.js";import{C as M}from"./content-wrapper-adfa8526.js";const O="_mobileNavigation_11tir_1",S="_top_11tir_7",B="_actions_11tir_15",D="_topInner_11tir_23",E="_menuButton_11tir_26",P="_menuIcon_11tir_39",F="_menuCloseIcon_11tir_43",W="_content_11tir_50",R="_menuListWrapper_11tir_64",$="_menuList_11tir_64",G="_menuListItem_11tir_79",V="_menuListItemLink_11tir_88",X="_menuListItemLinkActive_11tir_101",H="_subMenuList_11tir_108",J="_subMenuListItemLink_11tir_115",z="_subMenuListItemLinkActive_11tir_129",K="_itemIcon_11tir_137",Q="_signOut_11tir_142",U="_backDrop_11tir_149",t={mobileNavigation:O,top:S,actions:B,topInner:D,menuButton:E,menuIcon:P,menuCloseIcon:F,content:W,menuListWrapper:R,menuList:$,menuListItem:G,menuListItemLink:V,menuListItemLinkActive:X,subMenuList:H,subMenuListItemLink:J,subMenuListItemLinkActive:z,itemIcon:K,signOut:Q,backDrop:U},x=({name:a,link:u,links:o,delay:h,linkComponent:d,close:r})=>{const[m,b]=s.useState(!1),[v,k]=s.useState(0),[l,i]=s.useState();return e.jsxs(c.div,{initial:{opacity:0,translateX:"10vw"},whileInView:{opacity:1,translateX:0,transition:{delay:h??.3}},viewport:{once:!0},className:t.menuListItem,children:[I(u)?e.jsx(d,{className:t.menuListItemLink,to:u.href,target:u.openInNewTab?"_blank":"_self",onClick:r,children:a}):e.jsxs("button",{className:t.menuListItemLink,onClick:()=>{k(v===0?"auto":0),b(!m)},children:[e.jsx("span",{className:`${m?t.menuListItemLinkActive:""}`,children:a}),e.jsx(p,{className:t.itemIcon,icon:m?"icon-chevron-up":"icon-chevron-down"})]}),o!=null&&o.length?e.jsx(c.div,{className:t.subMenuList,initial:{height:0},animate:{height:v},children:o.map(n=>{var y;return e.jsxs(s.Fragment,{children:[I(n)?e.jsxs(d,{className:t.subMenuListItemLink,to:n.href,target:n.openInNewTab?"_blank":"_self",onClick:r,children:[n.name,e.jsx(p,{className:t.itemIcon,icon:"icon-chevron-right"})]}):e.jsxs("button",{className:t.subMenuListItemLink,onClick:()=>{i(l===n.name?"":n.name)},children:[e.jsx("span",{className:`${l===n.name?t.subMenuListItemLinkActive:""}`,children:n.name}),e.jsx(p,{className:t.itemIcon,icon:l===n.name?"icon-chevron-up":"icon-chevron-down"})]}),_(n)&&((y=n.links)!=null&&y.length)?e.jsx(c.div,{className:t.subMenuList,initial:{height:0},animate:{height:l===n.name?"auto":0},children:n.links.map(g=>e.jsx(s.Fragment,{children:I(g)?e.jsxs(d,{className:t.subMenuListItemLink,to:g.href,target:g.openInNewTab?"_blank":"_self",onClick:r,children:[g.name,e.jsx(p,{className:t.itemIcon,icon:"icon-chevron-right"})]}):void 0},g.name))}):void 0]},n.name)})}):void 0]},a)},L=({categories:a,isAuthenticated:u,signOutLabel:o,onSignOut:h,actions:d,isOpen:r,setIsOpen:m,linkComponent:b})=>{const[v,k]=s.useState(0),l=s.useRef(null);return s.useEffect(()=>{var i,n;k((((i=l.current)==null?void 0:i.getBoundingClientRect().y)??0)+((((n=l.current)==null?void 0:n.clientHeight)??0)+16))},[r]),s.useEffect(()=>{const i=document.body;i&&(r?i.classList.add("no-scroll"):i.classList.remove("no-scroll"))},[r]),A({ref:l,onClose:()=>m(!1)}),e.jsxs("div",{className:t.mobileNavigation,ref:l,children:[e.jsxs("div",{className:t.top,children:[d&&e.jsx("div",{className:t.actions,children:d}),e.jsx("div",{className:t.topInner,children:e.jsxs(N,{initial:!1,exitBeforeEnter:!0,children:[!r&&e.jsx(c.button,{initial:{scale:.2},animate:{scale:r?0:1},exit:{scale:.2},onClick:()=>m(!0),className:t.menuButton,children:e.jsx(p,{className:t.menuIcon,icon:"icon-menu"})},"menu-btn"),r&&e.jsx(c.button,{initial:{scale:.2},animate:{scale:r?1:0},exit:{scale:.2},onClick:()=>m(!1),className:t.menuButton,children:e.jsx(p,{className:C(t.menuIcon,t.menuCloseIcon),icon:"icon-plus"})},"close-btn")]})})]}),e.jsx(c.nav,{className:t.content,initial:{x:"100vw"},animate:{x:r?"0":"100vw"},transition:{type:"tween"},style:{paddingTop:`${v}px`},children:e.jsxs("div",{className:t.menuListWrapper,children:[e.jsx("ul",{className:t.menuList,children:a.map((i,n)=>{if(_(i))return e.jsx(x,{linkComponent:b,name:i.name,links:i.links,delay:n*.1,href:i.href,close:()=>m(!1)},i.name);if(I(i))return e.jsx(x,{linkComponent:b,name:i.name,link:i,delay:n*.1,close:()=>m(!1)},i.name)})}),u&&o&&h&&e.jsx("div",{className:t.signOut,children:e.jsx(w,{children:o,onClick:h,surface:"x",type:"button"})})]})}),e.jsx(N,{children:r&&e.jsx(c.div,{initial:{opacity:0},animate:{opacity:.75},exit:{opacity:0},className:t.backDrop})})]})},I=a=>a&&!_(a),_=a=>a&&"links"in a;L.__docgenInfo={description:"",methods:[],displayName:"MobileNavigation",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(val: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"val"}],return:{name:"void"}}},description:""},categories:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:"TNavLink | TNavCategory",elements:[{name:"signature",type:"object",raw:`{
  // Link text / title
  name: string;
  // Path to destination
  href: string;
  // Boolean for toggling target="_blank"
  openInNewTab?: boolean;
  // Descriptive text
  description?: string;
  links?: never;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"openInNewTab",value:{name:"boolean",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"links",value:{name:"never",required:!1}}]}},{name:"signature",type:"object",raw:`{
  // Link text / title
  name: string;
  // Path to destination
  href: string;
  // Boolean for toggling target="_blank"
  openInNewTab?: boolean;
  // Descriptive text
  description?: string;
  // Subtitle
  subtitle?: string;
  // Required sub level of links
  links: Array<TNavLink | TNavCategory>;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"openInNewTab",value:{name:"boolean",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"subtitle",value:{name:"string",required:!1}},{key:"links",value:{name:"Array",elements:[{name:"union",raw:"TNavLink | TNavCategory",elements:[{name:"signature",type:"object",raw:`{
  // Link text / title
  name: string;
  // Path to destination
  href: string;
  // Boolean for toggling target="_blank"
  openInNewTab?: boolean;
  // Descriptive text
  description?: string;
  links?: never;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!0}},{key:"openInNewTab",value:{name:"boolean",required:!1}},{key:"description",value:{name:"string",required:!1}},{key:"links",value:{name:"never",required:!1}}]}},{name:"TNavCategory"}]}],raw:"Array<TNavLink | TNavCategory>",required:!0}}]}}]}],raw:"Array<TNavLink | TNavCategory>"},description:""},currentSlug:{required:!0,tsType:{name:"string"},description:""},linkComponent:{required:!0,tsType:{name:"any"},description:""},initial:{required:!1,tsType:{name:"string"},description:""},isAuthenticated:{required:!1,tsType:{name:"boolean"},description:""},signOutLabel:{required:!1,tsType:{name:"string"},description:""},onSignOut:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},actions:{required:!1,tsType:{name:"JSX.Element"},description:""}}};const Y=[{name:"Drycker",href:"#",openInNewTab:!0,links:[{name:"Öl",href:"#",links:[{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"},{name:"Alla öl",href:"#"},{name:"Ale",href:"#"},{name:"Bock",href:"#"},{name:"Dubbel IPA",href:"#"},{name:"Färsköl",href:"#"}]},{name:"Vin",href:"#",links:[{name:"Alla viner",href:"#"},{name:"Alkoholfritt",href:"#"},{name:"Champagne",href:"#"},{name:"Glögg",href:"#"},{name:"Mousserande",href:"#"}]},{name:"Sprit",href:"#",links:[{name:"Brand och Cognac",href:"#"},{name:"Calvados",href:"#"},{name:"Gin",href:"#"},{name:"Grappa",href:"#"},{name:"Likör",href:"#"}]},{name:"Övrigt",href:"#",links:[{name:"Cider",href:"#"},{name:"Läsk",href:"#"},{name:"Vatten",href:"#"},{name:"FAB / Blanddryck",href:"#"},{name:"Energidryck",href:"#"},{name:"Fruktdryck",href:"#"},{name:"Mixers",href:"#"},{name:"Stilldrink / Juice",href:"#"},{name:"Övrigt",href:"#"}]}]},{name:"Tillbehör",href:"#",links:[{name:"Item 1",href:"#",subtitle:"Information",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Mitt Spendrups",href:"#mitt-spendrups",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{name:"Item 2",description:"Lorem.",href:"#item-2"},{name:"Item 3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-3"},{name:"Item 4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-4"}]},{name:"Item 2",href:"#",subtitle:"Lorem ipsum",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",links:[{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"},{name:"Item 2-1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-1"},{name:"Item 2-2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-2"},{name:"Item 2-3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-3"},{name:"Item 2-4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-4"},{name:"Item 2-5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-5"},{name:"Item 2-6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",href:"#item-2-6"}]},{name:"Item 3",href:"#"}]},{name:"Nyheter",href:"#",openInNewTab:!0},{name:"Kampanjer",href:"#",openInNewTab:!0}],Z={title:"Design System/Molecules/MobileNavigation",component:L,tags:["autodocs"],parameters:{padding:!1}},f={render:a=>{const[u,o]=s.useState(!1);return e.jsxs(M,{children:[e.jsx(L,{...a,isOpen:u,setIsOpen:o}),";"]})},args:{currentSlug:"/",categories:Y,isAuthenticated:!0,signOutLabel:"Logga ut",onSignOut:()=>alert("Logging out")}};var q,j,T;f.parameters={...f.parameters,docs:{...(q=f.parameters)==null?void 0:q.docs,source:{originalSource:`{
  render: args => {
    const [isOpen, setIsOpen] = useState(false);
    return <ContentWrapper>
        <MobileNavigation {...args} isOpen={isOpen} setIsOpen={setIsOpen} />;
      </ContentWrapper>;
  },
  args: {
    currentSlug: '/',
    categories,
    isAuthenticated: true,
    signOutLabel: 'Logga ut',
    onSignOut: () => alert('Logging out')
  }
}`,...(T=(j=f.parameters)==null?void 0:j.docs)==null?void 0:T.source}}};const ee=["DefaultMobileNavigation"],le=Object.freeze(Object.defineProperty({__proto__:null,DefaultMobileNavigation:f,__namedExportsOrder:ee,default:Z},Symbol.toStringTag,{value:"Module"}));export{f as D,L as M,le as m};
