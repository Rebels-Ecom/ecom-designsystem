import{r as d,a as M,j as u}from"./jsx-runtime-a3a6c0b8.js";import{U as K}from"./ui-link-a18343fc.js";import{c as I}from"./index-a587463d.js";import{d as L}from"./form-helper-af1dc92c.js";import{m as k}from"./motion-54668070.js";const H="_inputField_u4iks_1",T="_label_u4iks_5",W="_errorWrapper_u4iks_9",w="_error_u4iks_9",O="_input_u4iks_1",j="_sm_u4iks_98",S="_onAutoFillStart_u4iks_1",r={inputField:H,label:T,errorWrapper:W,error:w,input:O,sm:j,onAutoFillStart:S},A=({onChange:t,onBlur:n,onControlledChange:l,height:m,...a})=>{const e=d.useRef(null),N=d.useCallback(i=>{i.persist(),t==null||t(i.target.value,a.name),l==null||l(i.target.value)},[a.name,t]),p=d.useCallback(i=>{i.persist(),n==null||n(i),l==null||l(i.target.value)},[n]),x=async()=>{var i,s,c,y,o,f,v,b,V,q,_,E,F;e!=null&&e.current&&(await L(e==null?void 0:e.current)?(i=e==null?void 0:e.current)!=null&&i.value?(t==null||t((s=e==null?void 0:e.current)==null?void 0:s.value,a.name),l==null||l((c=e==null?void 0:e.current)==null?void 0:c.value),(o=a.validateAutofill)==null||o.call(a,(y=e==null?void 0:e.current)==null?void 0:y.name)):((f=e==null?void 0:e.current)==null||f.focus(),(b=a.validateAutofill)==null||b.call(a,(v=e==null?void 0:e.current)==null?void 0:v.name)):(V=e==null?void 0:e.current)!=null&&V.value&&(t==null||t((q=e==null?void 0:e.current)==null?void 0:q.value,a.name),l==null||l((_=e==null?void 0:e.current)==null?void 0:_.value),(F=a.validateAutofill)==null||F.call(a,(E=e==null?void 0:e.current)==null?void 0:E.name)))};return d.useEffect(()=>{a.validateAutofill&&x()},[e==null?void 0:e.current]),M("div",{className:I(r.inputField,a.className),children:[a.label&&u("label",{className:r.label,children:a.label}),u("input",{id:a.name,autoComplete:"on",ref:e,"data-isinvalid":a.dirty&&!a.valid,type:a.type,name:a.name,inputMode:a.type==="number"?"decimal":void 0,placeholder:a.placeholder,className:I(r.input,{[r[m??""]]:m}),step:"any",onChange:N,value:a.value??a.originalValue,min:a.min,max:a.max,disabled:a.disabled,readOnly:a.readonly,autoFocus:a.focusOnRender,onBlur:p}),u("div",{className:r.errorWrapper,children:u(k.label,{className:r.error,initial:{y:"-100%",opacity:0},animate:a.error&&!a.valid&&a.dirty?{y:0,opacity:1}:{y:"-100%",opacity:0},children:a.error})}),u("div",{className:r.linkWrapper,children:u(k.div,{className:r.error,initial:{y:"-100%",opacity:0},animate:a.action?{y:0,opacity:1}:{y:"-100%",opacity:0},children:a.action&&u(K,{...a.action})})})]})};try{A.displayName="InputField",A.__docgenInfo={description:"",displayName:"InputField",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"HTMLInputTypeAttribute"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number"}},originalValue:{defaultValue:null,description:"",name:"originalValue",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},focusOnRender:{defaultValue:null,description:"",name:"focusOnRender",required:!1,type:{name:"boolean"}},height:{defaultValue:{value:'"md" for mobile'},description:"height of the input. sm = height 2.5rem, md = 3rem",name:"height",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'}]}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((newVal: string, name: string) => void)"}},onControlledChange:{defaultValue:null,description:"",name:"onControlledChange",required:!1,type:{name:"((value: string) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e?: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onInput:{defaultValue:null,description:"",name:"onInput",required:!1,type:{name:"((event: KeyboardEvent<HTMLInputElement>) => void)"}},onKeyPress:{defaultValue:null,description:"",name:"onKeyPress",required:!1,type:{name:"((event: KeyboardEvent<HTMLInputElement>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent<HTMLInputElement>) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement, Element>) => void)"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},valid:{defaultValue:null,description:"",name:"valid",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},dirty:{defaultValue:null,description:"",name:"dirty",required:!1,type:{name:"boolean"}},action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"IUILink"}},validateAutofill:{defaultValue:null,description:"",name:"validateAutofill",required:!1,type:{name:"((name: string) => void)"}}}}}catch{}export{A as I};
