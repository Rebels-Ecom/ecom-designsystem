{"version":3,"file":"scrollable-list.stories-5ede366d.js","sources":["../../src/design-system/components/molecules/scrollable-list/scrollable-list.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport styles from './scrollable-list.module.css'\nimport cx from 'classnames'\nimport { Loader } from '../../atoms'\n\nexport interface IScrollableList {\n  children: Array<React.ReactNode>\n  loading?: boolean\n  visibleItemsNumber?: number\n  hasFade?: boolean\n  className?: string\n}\n\nconst ScrollableList = ({ children, loading, visibleItemsNumber, hasFade, className }: IScrollableList) => {\n  const [height, setHeight] = useState(0)\n  const [listHasFade, setListFade] = useState(hasFade)\n  const ref = useRef<HTMLLIElement | null>(null)\n\n  function handleScroll(e: React.UIEvent<HTMLUListElement, UIEvent>) {\n    const bottom = e.currentTarget.scrollHeight - e.currentTarget.clientHeight <= e.currentTarget.scrollTop + 50\n    setListFade(!bottom)\n  }\n\n  function getItemsNumber(itemsNumber: number, selectedItemsNumber: number) {\n    return itemsNumber < selectedItemsNumber ? itemsNumber : selectedItemsNumber\n  }\n\n  useEffect(() => {\n    ref?.current?.clientHeight && setHeight(ref.current.clientHeight)\n  }, [])\n\n  if (!Array.isArray(children) || !children.length) return null\n\n  return (\n    <div className={cx(styles.cartProductList, className && className)}>\n      {loading ? (\n        <Loader visible={loading} size=\"sm\" position=\"relative\" color=\"orange\" />\n      ) : (\n        <ul\n          onScroll={hasFade ? handleScroll : undefined}\n          className={cx(styles.list, listHasFade && visibleItemsNumber ? styles.listFade : '')}\n          style={visibleItemsNumber ? { height: height * getItemsNumber(children.length, visibleItemsNumber) } : { height: height * children.length }}\n        >\n          {children?.map((item: React.ReactNode) => (\n            <li key={Math.random()} ref={ref} className={styles.listItem}>\n              {item}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  )\n}\n\nexport { ScrollableList }\n"],"names":["ScrollableList","children","loading","visibleItemsNumber","hasFade","height","setHeight","useState","listHasFade","setListFade","ref","useRef","handleScroll","e","bottom","getItemsNumber","itemsNumber","selectedItemsNumber","useEffect","_jsx","cx","styles","className","Loader","undefined","length","item","listItem"],"mappings":"6bAaAA,EAAA,CAAA,CAAwB,SAAAC,EAAEA,QAAAA,EAAUC,mBAAAA,EAASC,QAAAA,EAAoBC,UAAAA,CAAoC,IAAA,CACnG,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,EACA,CAAAC,EAAAC,CAAA,EAAAF,EAAA,SAAAH,CAAA,EACAM,EAAAC,SAAA,IAAA,EAEA,SAAAC,EAAAC,EAAA,CACE,MAAAC,EAAAD,EAAA,cAAA,aAAAA,EAAA,cAAA,cAAAA,EAAA,cAAA,UAAA,GACAJ,EAAAA,CAAAA,CAAAA,CAAmB,CAGrB,SAAAM,EAAAC,EAAAC,EAAA,CACE,OAAAD,EAAAC,EAAAD,EAAAC,CAAyDA,CAO3D,OAJAC,EAAAA,UAAAA,IAAAA,QACER,EAAAA,GAAAA,YAAAA,EAAAA,UAAAA,MAAAA,EAAAA,cAAAA,EAAAA,EAAAA,QAAAA,YAAAA,CAAgE,EAAA,CAAA,CAAA,EAGlE,CAAA,MAAA,QAAAT,CAAA,GAAA,CAAAA,EAAA,OAAkD,KAElDkB,EAAA,MAAA,CACE,UAAAC,EAAAC,EAAA,gBAAAC,GAAAA,CAAA,EAAiE,SAAApB,EAAAiB,EAAAI,EAAA,CAEtD,QAAArB,EAAUA,KAAAA,KAAc,SAAA,WAAc,MAAA,QAAiB,CAAA,EAAAiB,EAAA,KAAA,CAE9D,SAAAf,EAAAQ,EAAA,OACqCY,UAAAA,EAAAA,EAAAA,KAAAA,GAAAA,EAAAA,EAAAA,SAAAA,EAAAA,EACgD,MAAArB,EAAA,CACvD,OAAAE,EAAAU,EAAAd,EAAA,OAAAE,CAAA,CAAqE,EAAA,CAAM,OAAAE,EAAAJ,EAAA,MAA4BwB,EAAO,SAAAxB,GAAA,YAAAA,EAAA,IAAAyB,GAAAP,EAAA,KAAA,CAGxI,IAAAT,EAAwBA,UAAAA,EAAAA,SAA4BiB,SAAAA,CACjDD,EAAAA,KAAAA,OAAAA,CAAAA,EAEJ,CAAA,CACC,CAAA,CAIZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}