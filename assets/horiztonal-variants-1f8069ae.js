import{j as e,r as W}from"./jsx-runtime-03333307.js";import{f as ye}from"./defaultFallbackImage-b43581a6.js";import{c as me}from"./format-helper-580ef2bc.js";import{g as Ge}from"./picture-helper-dd6bd3b8.js";import{c as s}from"./index-09749a66.js";import{P as Qe}from"./product-quantity-input-356a0492.js";import{T as Je}from"./tags-list-30883e29.js";import{D as Ke}from"./debounce-input-e697c8a3.js";import{u as Oe}from"./useOnClickOutside-9d2c35bb.js";import{m as we}from"./motion-9380e2c6.js";import{C as Xe,a as Ye}from"./carousel-c97bc3fd.js";import{m as Ze}from"./hooks-0265167d.js";import{F as ge}from"./flex-container-7aff6506.js";import{I as ke}from"./icon-with-tooltip-bfa653e5.js";import{I as Ie}from"./icon-a32914e5.js";import{I as J}from"./icon-button-c6bda5d8.js";import{C as L}from"./component-with-tooltip-83375017.js";import{P as K}from"./placeholder-3cf73146.js";import{P as Ce}from"./picture-ffae027b.js";import{B as Pe}from"./button-1f0f0554.js";import{A as er}from"./alert-box-78b45c5b.js";import{P as rr}from"./product-card-restricted-fbc61aff.js";import{P as nr}from"./product-card-vertical-0257eb43.js";const ar="_horizontalVariants_1o2ln_1",tr="_closeVariantsIcon_1o2ln_10",ir="_carousel_1o2ln_16",sr="_carouselTrack_1o2ln_19",or="_list_1o2ln_24",lr="_listItem_1o2ln_33",cr="_variantPicture_1o2ln_40",pe={horizontalVariants:ar,closeVariantsIcon:tr,carousel:ir,carouselTrack:sr,list:or,listItem:lr,variantPicture:cr},dr="_horizontalVariant_1mcgp_1",ur="_selected_1mcgp_21",mr="_topRow_1mcgp_25",pr="_mainContent_1mcgp_30",gr="_imageWrapper_1mcgp_37",yr="_picture_1mcgp_41",fr="_image_1mcgp_37",qr="_contentWrapper_1mcgp_52",hr="_heading_1mcgp_57",_r="_partNo_1mcgp_58",vr="_price_1mcgp_59",br="_selectedIcon_1mcgp_79",m={horizontalVariant:dr,selected:ur,topRow:mr,mainContent:pr,imageWrapper:gr,picture:yr,image:fr,contentWrapper:qr,heading:hr,partNo:_r,price:vr,selectedIcon:br},Be=({checked:l,onClick:t,variantId:p,sellerOnly:x,sellerOnlyTooltipText:C,image:_,isRestrictedUser:g,variantName:d,partNoLabel:v,priceStr:P,currencyLabel:i,unitLabel:b})=>e.jsxs("button",{className:s(m.horizontalVariant,{[m.selected]:l}),onClick:()=>t==null?void 0:t(p),children:[e.jsx(ge,{stretch:!0,justifyContent:"flex-end",alignItems:"center",className:m.topRow,children:x&&e.jsx(e.Fragment,{children:C?e.jsx(ke,{content:C,icon:{icon:"icon-eye"}}):e.jsx(Ie,{icon:"icon-eye",size:"large"})})}),e.jsxs("div",{className:m.mainContent,children:[e.jsxs("div",{className:m.imageWrapper,children:[e.jsx(Ce,{..._,classNamePicture:m.picture,classNameImg:`${m.image}`,fallbackImageUrl:ye})," "]}),e.jsxs("div",{className:`${m.contentWrapper}`,children:[e.jsx("p",{className:m.heading,children:d}),!g&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:m.partNo,children:`${v} ${p}`}),e.jsx("p",{className:m.price,children:`${P} ${i}/${b}`})]})]})]}),l&&e.jsx(Ie,{icon:"icon-check",className:m.selectedIcon})]});Be.__docgenInfo={description:"",methods:[],displayName:"HorizontalVariant",props:{productName:{required:!0,tsType:{name:"string"},description:""},variantName:{required:!0,tsType:{name:"string"},description:""},variantId:{required:!0,tsType:{name:"string"},description:""},country:{required:!0,tsType:{name:"string"},description:""},priceStr:{required:!0,tsType:{name:"string"},description:""},salesUnit:{required:!0,tsType:{name:"string"},description:""},itemNumberPerSalesUnit:{required:!0,tsType:{name:"number"},description:""},sellerOnly:{required:!0,tsType:{name:"boolean"},description:""},image:{required:!0,tsType:{name:"IPicture"},description:""},onChange:{required:!0,tsType:{name:"CallableFunction"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(partNo: string) => void",signature:{arguments:[{type:{name:"string"},name:"partNo"}],return:{name:"void"}}},description:""},checked:{required:!0,tsType:{name:"boolean"},description:""},partNoLabel:{required:!0,tsType:{name:"string"},description:""},unitLabel:{required:!0,tsType:{name:"string"},description:""},currencyLabel:{required:!0,tsType:{name:"string"},description:""},sellerOnlyTooltipText:{required:!1,tsType:{name:"string"},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},outOfStock:{required:!1,tsType:{name:"boolean"},description:""}}};const Tr="_productCardHorizontal_3zsqi_1",xr="_border_3zsqi_16",Pr="_specialCard_3zsqi_22",kr="_box_3zsqi_28",Ir="_noRemoveButton_3zsqi_39",Cr="_iconLink_3zsqi_44",jr="_campaign_3zsqi_49",Nr="_limitedProduct_3zsqi_63",Fr="_outOfStockProduct_3zsqi_73",zr="_picture_3zsqi_83",Sr="_smallPicture_3zsqi_94",Or="_image_3zsqi_101",wr="_smallImage_3zsqi_114",Br="_content_3zsqi_121",Wr="_mainLink_3zsqi_131",$r="_heading_3zsqi_140",Ur="_extraPadding_3zsqi_147",Ar="_cardInfoWrapper_3zsqi_156",Lr="_alertBox_3zsqi_169",Rr="_packaging_3zsqi_177",Hr="_priceText_3zsqi_178",Vr="_partNo_3zsqi_179",Dr="_buttonsWrapper_3zsqi_209",Er="_productCardBtn_3zsqi_224",Mr="_cartBtnIcon_3zsqi_228",Gr="_favoriteIconActive_3zsqi_237",Qr="_imageWrapper_3zsqi_242",Jr="_imageWrapperPlaceholder_3zsqi_246",Kr="_placeholderContent_3zsqi_252",Xr="_standardIcon_3zsqi_256",Yr="_alertBoxButton_3zsqi_269",Zr="_alertBoxWrapper_3zsqi_273",r={productCardHorizontal:Tr,border:xr,specialCard:Pr,box:kr,noRemoveButton:Ir,iconLink:Cr,campaign:jr,limitedProduct:Nr,outOfStockProduct:Fr,picture:zr,smallPicture:Sr,image:Or,smallImage:wr,content:Br,mainLink:Wr,heading:$r,extraPadding:Ur,cardInfoWrapper:Ar,alertBox:Lr,packaging:Rr,priceText:Hr,partNo:Vr,buttonsWrapper:Dr,productCardBtn:Er,cartBtnIcon:Mr,favoriteIconActive:Gr,imageWrapper:Qr,imageWrapperPlaceholder:Jr,placeholderContent:Kr,standardIcon:Xr,alertBoxButton:Yr,alertBoxWrapper:Zr},We=({product:l,loading:t=!1,addToCart:p,addToCartBtnLabel:x,hideCartButton:C,hidePrice:_,onClickRemoveProduct:g,hideRemoveButton:d,onChangeQuantity:v,productQuantityDisabled:P,linkComponent:i,className:b="",defaultQuantity:y,buttonLoading:R,disabled:X,displaySmallImage:$=!1,showAddToPurchaseListIcon:Y,onSaveToPurchaseListClick:H,maxQuantity:V,isRestrictedUser:N,alertBox:k,onClick:Z,debounceQuantityVal:ee,productArea:re,onVariantsButtonClick:F,variantsOpen:ne,onCloseVariants:fe,selectedVariantId:ae,handlePackageChange:te,productImage:I,showPackaging:qe=!1,favoriteProductsIds:D,showFavoriteIcon:ie,onFavoriteIconClick:z,tooltips:n,isAddingToFavorites:se})=>{var Se;const oe=W.useRef(null),{isMobile:c}=Ze(),{activeCampaign:u,partNo:o,partNoLabel:le,productName:E,productUrl:j,tags:T,isLimitedProduct:f,country:S,priceStr:M,totalPrice:q,quantity:U,outOfStock:G,salesUnit:ce,itemNumberPerSalesUnit:de,priceLabel:Q,currencyLabel:a,unitLabel:h,outOfStockLabel:O,limitedLabel:A,sellerOnly:je,isAccessoryPotItem:Ne,pricePerUnit:he,aLabel:Ue,productVariantList:w,packaging:Fe}=l,[Ae,ze]=W.useState(!1);function Le(B){g&&g(B)}function Re(B){const Me=parseInt(B.target.value)||0;v&&v(Me)}function He(B){v&&v(parseInt(B))}function Ve(B){return!D||D.length===0?!1:D.includes(B)}const De={"--campaign-color":(u==null?void 0:u.color)??"#FFF","--limited-product-color":f&&A?"#F08A00":"#FFF","--out-of-stock-product-color":G&&O?"#e4b6c3":"#FFF"},_e=je||Ne||!!(T!=null&&T.length),ue=Ve(o),ve=u==null?void 0:u.title,be=!!(!u&&f&&A),Te=!!(!u&&G&&O),xe=ve||be||Te,Ee=e.jsxs(ge,{alignItems:"center",gap:.5,minHeight:_e?2.25:0,stretch:!0,children:[je&&e.jsx(e.Fragment,{children:n!=null&&n.sellerOnly?e.jsx(ke,{content:n.sellerOnly,icon:{icon:"icon-eye"}}):e.jsx(Ie,{icon:"icon-eye",size:"large"})}),Ne&&e.jsx(e.Fragment,{children:n!=null&&n.accessoryPotItem?e.jsx(ke,{content:n.accessoryPotItem,text:"S"}):e.jsx("span",{className:r.standardIcon,children:"S"})}),Array.isArray(T)&&T.length?e.jsx(Je,{tagsList:T}):null,!d&&g&&e.jsx("div",{className:r.iconLink,children:e.jsx(J,{className:r.iconBtn,type:"button",icon:"icon-x-circle",onClick:()=>Le(o),isTransparent:!0,noBorder:!0,noPadding:!0,size:"large",name:"Remove product"})})]});return Oe({ref:oe,onClose:()=>ze(!1)}),e.jsxs("div",{className:s(r.productCardHorizontal,b,{[r.specialCard]:xe&&!t,[r.campaign]:ve&&!t,[r.limitedProduct]:be&&!t,[r.outOfStockProduct]:Te&&!t}),style:De,children:[!G&&ve&&!t&&e.jsx("div",{className:s(r.box,{[r.noRemoveButton]:d}),children:u.title}),be&&!t&&e.jsx("div",{className:s(r.box,{[r.noRemoveButton]:d}),children:A}),Te&&!t&&e.jsxs(e.Fragment,{children:[(n==null?void 0:n.stockShortage)&&e.jsx(L,{content:n.stockShortage,element:e.jsx("div",{children:O}),wrapperClassName:s(r.box,{[r.noRemoveButton]:d})}),(n==null?void 0:n.outOfStock)&&e.jsx(L,{content:n.outOfStock,element:e.jsx("div",{children:O}),wrapperClassName:s(r.box,{[r.noRemoveButton]:d})}),!(n!=null&&n.stockShortage)&&!(n!=null&&n.outOfStock)&&e.jsx("div",{className:s(r.box,{[r.noRemoveButton]:d}),children:O})]}),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:s(r.imageWrapper,r.imageWrapperPlaceholder),children:e.jsx(K,{type:"image"})}),e.jsxs("div",{className:r.placeholderContent,children:[e.jsx(K,{type:"heading"}),e.jsx(K,{type:"p_long"}),e.jsx(K,{type:"p_short"}),e.jsx(K,{type:"p_short"})]})]}):e.jsxs(e.Fragment,{children:[j&&i?e.jsx(i,{to:j,href:j,className:r.imageWrapper,onClick:Z,children:e.jsx(Ce,{...I,classNamePicture:s(r.picture,$&&r.smallPicture),classNameImg:s(r.image,$&&r.smallImage),fallbackImageUrl:ye})}):e.jsx("div",{className:r.imageWrapper,children:e.jsx(Ce,{...I,classNamePicture:s(r.picture,$&&r.smallPicture),classNameImg:s(r.image,$&&r.smallImage),fallbackImageUrl:ye})}),e.jsxs(ge,{flexDirection:"column",className:r.content,gap:.25,children:[Ee,j&&i?e.jsx(i,{to:j,href:j,className:r.mainLink,onClick:Z,children:e.jsx("h2",{className:s(r.heading,"h5",{[r.extraPadding]:!_e&&!d&&!xe}),children:E})}):e.jsx("h2",{className:s(r.heading,"h5",{[r.extraPadding]:!_e&&!d&&!xe}),children:E}),e.jsxs("div",{className:r.cardInfoWrapper,children:[e.jsxs("div",{children:[qe&&Fe&&e.jsx("p",{className:s(r.packaging,"bodyS"),children:Fe}),!_&&!N&&e.jsx("p",{className:s(r.priceText,"bodyS"),children:`${Q}: ${M?`${M} ${a??""}/${h?h.toLowerCase():""}`:""}`}),(S!==""||o!=="")&&!N&&e.jsx("p",{className:s(r.partNo,"bodyS"),children:`${o?`${le} ${o}`:""} ${S&&`- ${S}`}`}),!N&&e.jsx(e.Fragment,{children:ee?e.jsx(Ke,{debounceVal:ee,debouncedEvent:He,salesUnit:ce,itemNumberPerSalesUnit:de,totalPrice:q,quantity:y??U,quantityInputId:`${o}-${re}`,maxQuantity:V,disabled:P,hidePrice:_,pricePerUnitText:`${Ue} ${(Se=he==null?void 0:he.toFixed(2))==null?void 0:Se.replace(".",",")} ${a}`}):e.jsx(Qe,{className:r.quantityInput,salesUnit:ce,itemNumberPerSalesUnit:de,totalPrice:q,quantity:y??U,quantityInputId:`${o}-${re}`,onChange:Re,disabled:P,maxQuantity:V,hidePrice:_})})]}),e.jsxs("div",{className:r.buttonsWrapper,children:[(!!(w!=null&&w.length)||Y&&H||ie&&z)&&e.jsxs(ge,{gap:.5,justifyContent:"flex-end",alignItems:"center",children:[(w==null?void 0:w.length)>1&&e.jsx(L,{content:n==null?void 0:n.changeVariant,element:e.jsx(J,{type:"button",icon:"icon-layers",onClick:()=>F==null?void 0:F(),noBorder:!0,isTransparent:!0,size:"medium",noPadding:!0,name:"Open variants list"})}),Y&&H&&e.jsx(L,{content:n==null?void 0:n.addToPurchaseList,element:e.jsx(J,{type:"button",icon:"icon-file-plus",onClick:()=>H(o,q),noBorder:!0,isTransparent:!0,size:"medium",noPadding:!0,name:"Add to purchase list"})}),ie&&z&&e.jsx(L,{content:ue?n==null?void 0:n.removeFromFavorites:n==null?void 0:n.addToFavorites,element:e.jsx(J,{type:"button",icon:ue?"icon-heart1":"icon-heart-o",onClick:()=>z(o,ue,q),noBorder:!0,isTransparent:!0,name:"Add to favorite list",className:ue?r.favoriteIconActive:void 0,size:"medium",noPadding:!0,animate:se?"loading":"default"})}),k&&e.jsx(e.Fragment,{children:c?e.jsx(Pe,{type:"button",onClick:()=>ze(!0),className:r.alertBoxButton,children:k.buttonText??"Byt produkt",surface:"primary",iconRight:{icon:"icon-alert-circle",color:"error"},size:"x-small"}):e.jsx(L,{content:k.title,element:e.jsx(Pe,{type:"button",onClick:k.onClick,className:r.alertBoxButton,children:k.buttonText??"Byt produkt",surface:"primary",iconRight:{icon:"icon-alert-circle",color:"error"},size:"x-small"})})})]}),!C&&e.jsx(e.Fragment,{children:N?e.jsx(Pe,{type:"button",onClick:()=>p(l),surface:"primary",disabled:R||t||X||U<="0",name:x,children:x}):e.jsx(J,{type:"button",icon:"icon-shopping-cart",onClick:()=>p(l),surface:"primary",noBorder:!0,disabled:R||t||X||U<="0",name:x,size:"medium"})})]})]})]})]}),ae&&e.jsx($e,{open:ne,variantsList:w,onVariantSelect:te,onCloseVariants:fe,selectedVariantId:ae,sellerOnlyTooltipText:n==null?void 0:n.sellerOnly}),k&&c&&e.jsx(we.div,{ref:oe,className:r.alertBoxWrapper,initial:{y:"100%"},animate:Ae?{y:"0%"}:{y:"100%"},exit:{y:"100%"},transition:{type:"tween",duration:.3,ease:[.4,0,.2,1]},children:e.jsx(er,{className:r.alertBox,...k})})]})};We.__docgenInfo={description:"",methods:[],displayName:"ProductCardHorizontal",props:{productImage:{required:!0,tsType:{name:"IPicture"},description:""},cardDisplay:{required:!0,tsType:{name:"literal",value:"'horizontal'"},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},product:{required:!0,tsType:{name:"IProduct"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},buttonLoading:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},hidePrice:{required:!1,tsType:{name:"boolean"},description:""},addToCart:{required:!0,tsType:{name:"CallableFunction"},description:""},addToCartBtnLabel:{required:!0,tsType:{name:"string"},description:""},hideCartButton:{required:!1,tsType:{name:"boolean"},description:""},onChangeQuantity:{required:!1,tsType:{name:"CallableFunction"},description:""},productQuantityDisabled:{required:!1,tsType:{name:"boolean"},description:""},defaultQuantity:{required:!1,tsType:{name:"string"},description:`Sets a custom default quantity to start from
@default 0`},onRemoveProduct:{required:!1,tsType:{name:"CallableFunction"},description:""},hideRemoveButton:{required:!1,tsType:{name:"boolean"},description:""},showFavoriteIcon:{required:!1,tsType:{name:"boolean"},description:""},favoriteProductsIds:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:""},onFavoriteIconClick:{required:!1,tsType:{name:"CallableFunction"},description:""},isAddingToFavorites:{required:!1,tsType:{name:"boolean"},description:""},showAddToPurchaseListIcon:{required:!1,tsType:{name:"boolean"},description:""},onSaveToPurchaseListClick:{required:!1,tsType:{name:"CallableFunction"},description:""},border:{required:!1,tsType:{name:"boolean"},description:""},displaySmallImage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},linkComponent:{required:!1,tsType:{name:"any"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},maxQuantity:{required:!1,tsType:{name:"number"},description:""},alertBox:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  title: string
  buttonText?: string
  color?: TBoxColor
  className?: string
  onClick?: () => void
  loading?: boolean
  minHeight?: boolean
}`,signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"buttonText",value:{name:"string",required:!1}},{key:"color",value:{name:"union",raw:"'error' | 'warning' | 'information'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'information'"}],required:!1}},{key:"className",value:{name:"string",required:!1}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!1}},{key:"loading",value:{name:"boolean",required:!1}},{key:"minHeight",value:{name:"boolean",required:!1}}]}},description:""},onClick:{required:!1,tsType:{name:"CallableFunction"},description:""},debounceQuantityVal:{required:!1,tsType:{name:"number"},description:""},productArea:{required:!1,tsType:{name:"union",raw:"'category' | 'recommended' | 'details' | 'cart' | 'inspiration'",elements:[{name:"literal",value:"'category'"},{name:"literal",value:"'recommended'"},{name:"literal",value:"'details'"},{name:"literal",value:"'cart'"},{name:"literal",value:"'inspiration'"}]},description:""},imagePriority:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  fetchPriority: 'auto' | 'high' | 'low'
  loading: 'eager' | 'lazy'
}`,signature:{properties:[{key:"fetchPriority",value:{name:"union",raw:"'auto' | 'high' | 'low'",elements:[{name:"literal",value:"'auto'"},{name:"literal",value:"'high'"},{name:"literal",value:"'low'"}],required:!0}},{key:"loading",value:{name:"union",raw:"'eager' | 'lazy'",elements:[{name:"literal",value:"'eager'"},{name:"literal",value:"'lazy'"}],required:!0}}]}},description:""},variantsOpen:{required:!1,tsType:{name:"boolean"},description:""},handlePackageChange:{required:!0,tsType:{name:"CallableFunction"},description:""},selectedVariantId:{required:!1,tsType:{name:"string"},description:""},onVariantsButtonClick:{required:!0,tsType:{name:"CallableFunction"},description:""},onVariantChange:{required:!1,tsType:{name:"CallableFunction"},description:""},onCloseVariants:{required:!0,tsType:{name:"CallableFunction"},description:""},tooltips:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  addToFavorites?: string
  removeFromFavorites?: string
  addToPurchaseList?: string
  changeVariant?: string
  sellerOnly?: string
  accessoryPotItem?: string
  stockShortage?: string
  outOfStock?: string
}`,signature:{properties:[{key:"addToFavorites",value:{name:"string",required:!1}},{key:"removeFromFavorites",value:{name:"string",required:!1}},{key:"addToPurchaseList",value:{name:"string",required:!1}},{key:"changeVariant",value:{name:"string",required:!1}},{key:"sellerOnly",value:{name:"string",required:!1}},{key:"accessoryPotItem",value:{name:"string",required:!1}},{key:"stockShortage",value:{name:"string",required:!1}},{key:"outOfStock",value:{name:"string",required:!1}}]}},description:""},onClickRemoveProduct:{required:!1,tsType:{name:"CallableFunction"},description:""},removingProduct:{required:!1,tsType:{name:"boolean"},description:""},showPackaging:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onButtonClick:{required:!1,tsType:{name:"never"},description:""}}};function en({cardDisplay:l,isRestrictedUser:t,product:p,loading:x,buttonLoading:C,disabled:_,addToCart:g,addToCartBtnLabel:d,hideCartButton:v,hidePrice:P,onChangeQuantity:i,productQuantityDisabled:b,defaultQuantity:y,onRemoveProduct:R,hideRemoveButton:X,showFavoriteIcon:$,favoriteProductsIds:Y,onFavoriteIconClick:H,showAddToPurchaseListIcon:V,onSaveToPurchaseListClick:N,border:k,displaySmallImage:Z,linkComponent:ee,className:re,maxQuantity:F,alertBox:ne,onClick:fe,debounceQuantityVal:ae,productArea:te,imagePriority:I,showPackaging:qe,tooltips:D,isAddingToFavorites:ie,onVariantsButtonClick:z,onVariantChange:n}){if(!l)throw new Error("cardDisplay must be assigned");const{partNo:se,primaryImageUrl:oe,pricePerUnit:c,itemNumberPerSalesUnit:u,quantity:o,priceStr:le,activeCampaign:E}=p,[j,T]=W.useState(!1),[f,S]=W.useState({...p,productImage:Ge(se,oe,"120",void 0,I==null?void 0:I.loading,I==null?void 0:I.fetchPriority),quantity:q(o),pricePerUnit:c&&isFinite(c)?c:0,totalPrice:me((c&&isFinite(c)?c:0)*u*(y??q(o)?parseInt(y??q(o)):0)),selectedVariantId:se});W.useEffect(()=>{S(a=>({...a,quantity:q(o),priceStr:le,pricePerUnit:c&&isFinite(c)?c:0,totalPrice:me((c&&isFinite(c)?c:0)*u*(y??q(o)?parseInt(y??q(o)):0)),activeCampaign:E}))},[o,le,c,E]);function M(a){if(F&&a>F)return;const h={...f,quantity:a.toString(),totalPrice:me(f.pricePerUnit*f.itemNumberPerSalesUnit*a)};i?i(h):S(h)}function q(a){const h=parseInt(a);return!a||isNaN(h)?"1":h<0?"0":a}function U(){T(!0),z==null||z()}function G(){T(!1)}function ce(a){R&&R(a)}function de(a){const h=f.partNo===a.variantId?parseInt(f.quantity):1;S(O=>{const A={...O,partNo:a.variantId,productImage:a.image??ye,packaging:a.variantName,price:a.price,priceStr:a.priceStr,pricePerUnit:a.pricePerUnit&&isFinite(a.pricePerUnit)?a.pricePerUnit:0,pricePerUnitString:a.pricePerUnitString,salesUnit:a.salesUnit,itemNumberPerSalesUnit:a.itemNumberPerSalesUnit,totalPrice:me(a.price*a.itemNumberPerSalesUnit*h),quantity:h.toString(),selectedVariantId:a.variantId,sellerOnly:a.sellerOnly,activeCampaign:a.activeCampaign,productUrl:`/Product/${a.variantId}`,outOfStock:a.outOfStock,isAccessoryPotItem:a==null?void 0:a.isAccessoryPotItem,tags:a==null?void 0:a.tags};return n==null||n(A),A}),T(!1)}const Q={product:f,loading:x,buttonLoading:C,disabled:_,addToCart:g,addToCartBtnLabel:d,hideCartButton:v,hidePrice:P,linkComponent:ee,className:re,onClick:fe,productImage:f.productImage,variantsOpen:j,onVariantsButtonClick:U,handlePackageChange:de,selectedVariantId:f.selectedVariantId,onCloseVariants:G,tooltips:D,showFavoriteIcon:$,favoriteProductsIds:Y,onFavoriteIconClick:H,isAddingToFavorites:ie};return l==="horizontal"?e.jsx(We,{...Q,isRestrictedUser:t,cardDisplay:"horizontal",onChangeQuantity:M,productQuantityDisabled:b,defaultQuantity:y,onClickRemoveProduct:ce,hideRemoveButton:X,showAddToPurchaseListIcon:V,onSaveToPurchaseListClick:N,border:k,displaySmallImage:Z,maxQuantity:F,alertBox:ne,debounceQuantityVal:ae,productArea:te,showPackaging:qe}):l==="vertical"?t?e.jsx(rr,{cardDisplay:"vertical",...Q}):e.jsx(nr,{cardDisplay:"vertical",...Q,onChangeQuantity:M,productQuantityDisabled:b,defaultQuantity:y,showAddToPurchaseListIcon:V,onSaveToPurchaseListClick:N,alertBox:ne,productArea:te}):null}en.__docgenInfo={description:"",methods:[],displayName:"ProductCard",props:{productImage:{required:!0,tsType:{name:"IPicture"},description:""},cardDisplay:{required:!0,tsType:{name:"union",raw:"'vertical' | 'horizontal'",elements:[{name:"literal",value:"'vertical'"},{name:"literal",value:"'horizontal'"}]},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},product:{required:!0,tsType:{name:"IProduct"},description:""},loading:{required:!0,tsType:{name:"boolean"},description:""},buttonLoading:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},hidePrice:{required:!1,tsType:{name:"boolean"},description:""},addToCart:{required:!0,tsType:{name:"CallableFunction"},description:""},addToCartBtnLabel:{required:!0,tsType:{name:"string"},description:""},hideCartButton:{required:!1,tsType:{name:"boolean"},description:""},onChangeQuantity:{required:!1,tsType:{name:"CallableFunction"},description:""},productQuantityDisabled:{required:!1,tsType:{name:"boolean"},description:""},defaultQuantity:{required:!1,tsType:{name:"string"},description:`Sets a custom default quantity to start from
@default 0`},onRemoveProduct:{required:!1,tsType:{name:"CallableFunction"},description:""},hideRemoveButton:{required:!1,tsType:{name:"boolean"},description:""},showFavoriteIcon:{required:!1,tsType:{name:"boolean"},description:""},favoriteProductsIds:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:""},onFavoriteIconClick:{required:!1,tsType:{name:"CallableFunction"},description:""},isAddingToFavorites:{required:!1,tsType:{name:"boolean"},description:""},showAddToPurchaseListIcon:{required:!1,tsType:{name:"boolean"},description:""},onSaveToPurchaseListClick:{required:!1,tsType:{name:"CallableFunction"},description:""},border:{required:!1,tsType:{name:"boolean"},description:""},displaySmallImage:{required:!1,tsType:{name:"boolean"},description:""},linkComponent:{required:!1,tsType:{name:"any"},description:""},className:{required:!1,tsType:{name:"string"},description:""},maxQuantity:{required:!1,tsType:{name:"number"},description:""},alertBox:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  title: string
  buttonText?: string
  color?: TBoxColor
  className?: string
  onClick?: () => void
  loading?: boolean
  minHeight?: boolean
}`,signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"buttonText",value:{name:"string",required:!1}},{key:"color",value:{name:"union",raw:"'error' | 'warning' | 'information'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'information'"}],required:!1}},{key:"className",value:{name:"string",required:!1}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!1}},{key:"loading",value:{name:"boolean",required:!1}},{key:"minHeight",value:{name:"boolean",required:!1}}]}},description:""},onClick:{required:!1,tsType:{name:"CallableFunction"},description:""},debounceQuantityVal:{required:!1,tsType:{name:"number"},description:""},productArea:{required:!1,tsType:{name:"union",raw:"'category' | 'recommended' | 'details' | 'cart' | 'inspiration'",elements:[{name:"literal",value:"'category'"},{name:"literal",value:"'recommended'"},{name:"literal",value:"'details'"},{name:"literal",value:"'cart'"},{name:"literal",value:"'inspiration'"}]},description:""},imagePriority:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  fetchPriority: 'auto' | 'high' | 'low'
  loading: 'eager' | 'lazy'
}`,signature:{properties:[{key:"fetchPriority",value:{name:"union",raw:"'auto' | 'high' | 'low'",elements:[{name:"literal",value:"'auto'"},{name:"literal",value:"'high'"},{name:"literal",value:"'low'"}],required:!0}},{key:"loading",value:{name:"union",raw:"'eager' | 'lazy'",elements:[{name:"literal",value:"'eager'"},{name:"literal",value:"'lazy'"}],required:!0}}]}},description:""},variantsOpen:{required:!1,tsType:{name:"boolean"},description:""},handlePackageChange:{required:!0,tsType:{name:"CallableFunction"},description:""},selectedVariantId:{required:!1,tsType:{name:"string"},description:""},onVariantsButtonClick:{required:!0,tsType:{name:"CallableFunction"},description:""},onVariantChange:{required:!1,tsType:{name:"CallableFunction"},description:""},onCloseVariants:{required:!0,tsType:{name:"CallableFunction"},description:""},tooltips:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  addToFavorites?: string
  removeFromFavorites?: string
  addToPurchaseList?: string
  changeVariant?: string
  sellerOnly?: string
  accessoryPotItem?: string
  stockShortage?: string
  outOfStock?: string
}`,signature:{properties:[{key:"addToFavorites",value:{name:"string",required:!1}},{key:"removeFromFavorites",value:{name:"string",required:!1}},{key:"addToPurchaseList",value:{name:"string",required:!1}},{key:"changeVariant",value:{name:"string",required:!1}},{key:"sellerOnly",value:{name:"string",required:!1}},{key:"accessoryPotItem",value:{name:"string",required:!1}},{key:"stockShortage",value:{name:"string",required:!1}},{key:"outOfStock",value:{name:"string",required:!1}}]}},description:""}}};const $e=({variantsList:l,onCloseVariants:t,open:p,onVariantSelect:x,selectedVariantId:C})=>{var P;const _=W.useRef(null),[g,d]=W.useState(C);function v(i){d(i);const b=l.find(y=>y.variantId===i);x(b,l)}return Oe({ref:_,onClose:t}),e.jsx(we.div,{ref:_,className:s(pe.horizontalVariants,{[pe.open]:p}),initial:{y:"100%"},animate:p?{y:"0%"}:{y:"100%"},exit:{y:"100%"},transition:{type:"tween",duration:.3,ease:[.4,0,.2,1]},children:e.jsx(Xe,{className:pe.carousel,noGrid:!0,trackClassName:pe.carouselTrack,splideProps:{options:{gap:"0.25rem"}},zeroOffset:!0,breakpoints:{md:{perPage:2,perMove:2},lg:{perPage:2,perMove:2}},children:(P=l==null?void 0:l.sort((i,b)=>+(b.variantId===g)-+(i.variantId===g)))==null?void 0:P.map(i=>e.jsx(Ye,{children:e.jsx(Be,{...i,checked:i.variantId===g,onClick:v})},i.variantId))})})};$e.__docgenInfo={description:"",methods:[],displayName:"HorizontalVariants",props:{className:{required:!1,tsType:{name:"string"},description:""},variantsList:{required:!0,tsType:{name:"Array",elements:[{name:"IProductVariant"}],raw:"Array<IProductVariant>"},description:""},onVariantSelect:{required:!0,tsType:{name:"CallableFunction"},description:""},selectedVariantId:{required:!0,tsType:{name:"string"},description:""},sellerOnlyTooltipText:{required:!1,tsType:{name:"string"},description:""},onCloseVariants:{required:!0,tsType:{name:"CallableFunction"},description:""},isRestrictedUser:{required:!1,tsType:{name:"boolean"},description:""},absolutePositioned:{required:!1,tsType:{name:"boolean"},description:""},open:{required:!1,tsType:{name:"boolean"},description:""}}};export{en as P};
