import{r as u,j as i}from"./jsx-runtime-03333307.js";import{U as x}from"./ui-link-974ac70a.js";import{c as _}from"./index-09749a66.js";import{d as H}from"./form-helper-af1dc92c.js";import{m as w}from"./motion-9380e2c6.js";const L="_inputField_u4iks_1",K="_label_u4iks_5",k="_errorWrapper_u4iks_9",A="_error_u4iks_9",j="_input_u4iks_1",N="_sm_u4iks_98",W="_onAutoFillStart_u4iks_1",s={inputField:L,label:K,errorWrapper:k,error:A,input:j,sm:N,onAutoFillStart:W},V=({onChange:n,onBlur:m,onControlledChange:a,height:l,...t})=>{const e=u.useRef(null),M=u.useCallback(r=>{r.persist(),n==null||n(r.target.value,t.name),a==null||a(r.target.value)},[t.name,n]),g=u.useCallback(r=>{r.persist(),m==null||m(r),a==null||a(r.target.value)},[m]),F=async()=>{var r,c,d,y,v,o,T,b,E,f,p,q,I;e!=null&&e.current&&(await H(e==null?void 0:e.current)?(r=e==null?void 0:e.current)!=null&&r.value?(n==null||n((c=e==null?void 0:e.current)==null?void 0:c.value,t.name),a==null||a((d=e==null?void 0:e.current)==null?void 0:d.value),(v=t.validateAutofill)==null||v.call(t,(y=e==null?void 0:e.current)==null?void 0:y.name)):((o=e==null?void 0:e.current)==null||o.focus(),(b=t.validateAutofill)==null||b.call(t,(T=e==null?void 0:e.current)==null?void 0:T.name)):(E=e==null?void 0:e.current)!=null&&E.value&&(n==null||n((f=e==null?void 0:e.current)==null?void 0:f.value,t.name),a==null||a((p=e==null?void 0:e.current)==null?void 0:p.value),(I=t.validateAutofill)==null||I.call(t,(q=e==null?void 0:e.current)==null?void 0:q.name)))};return u.useEffect(()=>{t.validateAutofill&&F()},[e==null?void 0:e.current]),i.jsxs("div",{className:_(s.inputField,t.className),children:[t.label&&i.jsx("label",{className:s.label,children:t.label}),i.jsx("input",{id:t.name,autoComplete:"on",ref:e,"data-isinvalid":t.dirty&&!t.valid,type:t.type,name:t.name,inputMode:t.type==="number"?"decimal":void 0,placeholder:t.placeholder,className:_(s.input,{[s[l??""]]:l}),step:"any",onChange:M,value:t.value??t.originalValue,min:t.min,max:t.max,disabled:t.disabled,readOnly:t.readonly,autoFocus:t.focusOnRender,onBlur:g}),i.jsx("div",{className:s.errorWrapper,children:i.jsx(w.label,{className:s.error,initial:{y:"-100%",opacity:0},animate:t.error&&!t.valid&&t.dirty?{y:0,opacity:1}:{y:"-100%",opacity:0},children:t.error})}),i.jsx("div",{className:s.linkWrapper,children:i.jsx(w.div,{className:s.error,initial:{y:"-100%",opacity:0},animate:t.action?{y:0,opacity:1}:{y:"-100%",opacity:0},children:t.action&&i.jsx(x,{...t.action})})})]})};V.__docgenInfo={description:"",methods:[],displayName:"InputField",props:{name:{required:!0,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},type:{required:!0,tsType:{name:"HTMLInputTypeAttribute"},description:""},value:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},originalValue:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},min:{required:!1,tsType:{name:"number"},description:""},max:{required:!1,tsType:{name:"number"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},readonly:{required:!1,tsType:{name:"boolean"},description:""},focusOnRender:{required:!1,tsType:{name:"boolean"},description:""},height:{required:!1,tsType:{name:"union",raw:"'sm' | 'md'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"}]},description:`height of the input. sm = height 2.5rem, md = 3rem
@default "md" for mobile`},maxWidth:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(newVal: string, name: string) => void",signature:{arguments:[{type:{name:"string"},name:"newVal"},{type:{name:"string"},name:"name"}],return:{name:"void"}}},description:""},onControlledChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(e?: React.MouseEvent | React.KeyboardEvent) => void",signature:{arguments:[{type:{name:"union",raw:"React.MouseEvent | React.KeyboardEvent",elements:[{name:"ReactMouseEvent",raw:"React.MouseEvent"},{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent"}]},name:"e"}],return:{name:"void"}}},description:""},onBlur:{required:!1,tsType:{name:"ReactFocusEventHandler",raw:"React.FocusEventHandler<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:""},onInput:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.KeyboardEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},onKeyPress:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.KeyboardEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},onKeyDown:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.KeyboardEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.FocusEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactFocusEvent",raw:"React.FocusEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},valid:{required:!1,tsType:{name:"boolean"},description:""},error:{required:!1,tsType:{name:"string"},description:""},dirty:{required:!1,tsType:{name:"boolean"},description:""},action:{required:!1,tsType:{name:"IUILink"},description:""},validateAutofill:{required:!1,tsType:{name:"signature",type:"function",raw:"(name: string) => void",signature:{arguments:[{type:{name:"string"},name:"name"}],return:{name:"void"}}},description:""}}};export{V as I};
