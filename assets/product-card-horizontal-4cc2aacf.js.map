{"version":3,"file":"product-card-horizontal-4cc2aacf.js","sources":["../../src/design-system/components/molecules/product-card-horizontal/product-card-horizontal.tsx"],"sourcesContent":["import React from 'react'\nimport styles from './product-card-horizontal.module.css'\nimport { ProductQuantityInput } from '../product-quantity-input/product-quantity-input'\nimport { getProductPicture } from '../../../../helpers/picture-helper'\nimport fallbackProductImageUrl from '../../../../assets/fallback-images/defaultFallbackImage.svg'\nimport { Picture, IconButton, DividerLines, Loader, Placeholder, Button, Icon } from '../../atoms'\nimport cx from 'classnames'\nimport { TagsList } from '../tags-list/tags-list'\nimport { IProductCard, TProductCardHorizontal } from '../product-card/product-card'\n\nconst ProductCardHorizontal = ({\n  product,\n  loading = false,\n  addToCartButton,\n  addToCart,\n  hideCartButton,\n  onClickRemoveProduct,\n  hideRemoveButton,\n  removingProduct,\n  onChangeQuantity,\n  productQuantityDisabled,\n  linkComponent: Link,\n  className = \"\",\n  defaultQuantity,\n  campaign,\n  border = false,\n}: IProductCard & TProductCardHorizontal) => {\n  const { productId, productName, productUrl, productImageUrl, tags, country, packaging, priceStr, totalPrice, quantity, salesUnit, itemNumberPerSalesUnit } =\n    product\n  const productImage = getProductPicture(productId, productImageUrl)\n\n  function handleRemoveProduct(id: string) {\n    onClickRemoveProduct && onClickRemoveProduct(id)\n  }\n\n  function handleOnChangeQuantity(e: React.ChangeEvent<HTMLInputElement>) {\n    const quantity = parseInt(e.target.value) || 0\n    onChangeQuantity && onChangeQuantity(quantity)\n  }\n\n  const style: { [key: string]: string } = ({\n    '--campaign-color': campaign?.color ?? '#FFF',\n  })\n\n  return (\n    <div\n      className={cx(styles.productCardHorizontal, className, {\n        [styles.campaign]: campaign?.title,\n        [styles.border]: border,\n      })}\n      style={style}\n    >\n      {campaign?.title && <div className={styles.campaignBox}>{campaign.title}</div>}\n      {removingProduct? (\n        <Loader visible text={'Loading'} />\n      ) : (\n        <>\n          {loading ? (\n            <>\n              <div className={cx(styles.imageWrapper, styles.imageWrapperPlaceholder)}>\n              <Placeholder type=\"image\" />\n              </div>\n              <div className={styles.placeholderContent}>\n                <Placeholder type={'heading'} />\n                <DividerLines />\n                <Placeholder type={'p_short'} />\n                <Placeholder type={'p_short'} />\n                <Placeholder type={'p_long'} />\n              </div>\n            </>\n          ) : (\n            <>\n              <Picture\n                {...productImage}\n                classNamePicture={styles.picture}\n                classNameImg={`${styles.image}`}\n                fallbackImageUrl={fallbackProductImageUrl}\n              />\n              <div className={styles.contentWrapper}>\n                {Array.isArray(tags) && tags.length ?\n                  <TagsList tagsList={tags} /> : null\n                }\n                \n                {productUrl && Link ? (\n                  <Link to={productUrl} href={productUrl} className={styles.mainLink}>\n                    <h5 className={styles.heading}>{productName}</h5>\n                  </Link>\n                ) : (\n                  <h5 className={styles.heading}>{productName}</h5>\n                )}\n\n                <DividerLines />\n                \n                <p className={cx(styles.subTitle, 'bodyS')}>{`${packaging ? `${packaging}:` : ''} ${priceStr ? `${priceStr} kr/st` : ''}`}</p>\n                \n                {(country !== '' || productId !== '') && <p className={cx(styles.caption, 'bodyS')}>{`${productId ? `Art.nr. ${productId} -` : ''} ${country ?? ''}`}</p>}\n\n                <ProductQuantityInput\n                  className={styles.quantityInput}\n                  salesUnit={salesUnit}\n                  itemNumberPerSalesUnit={itemNumberPerSalesUnit}\n                  totalPrice={totalPrice}\n                  quantity={defaultQuantity ?? quantity}\n                  quantityInputId={productId}\n                  onChange={handleOnChangeQuantity}\n                  disabled={productQuantityDisabled}\n                />\n              </div>\n              {!hideRemoveButton && onClickRemoveProduct && (\n                <div className={styles.iconLink}>\n                  <IconButton\n                    type='button'\n                    icon='icon-x-circle'\n                    onClick={() => handleRemoveProduct(productId)}\n                    isTransparent\n                    noBorder\n                    size=\"large\"\n                  />\n                </div>\n              )}\n              {!hideCartButton ? (\n                <div className={styles.buttonsWrapper}>\n                  {/* TODO: replace this hc values with addToCartButton props? */}\n                  <Button\n                    {...addToCartButton}\n                    className={!loading ? styles.productCardBtn : ''}\n                    size={'x-small'}\n                    onClick={() => addToCart(product)}\n                    disabled={loading || quantity <= '0'}\n                  >\n                    <Icon icon={'icon-shopping-cart'} className={styles.cartBtnIcon}></Icon>\n                    {/* TODO: replace this hc copy with addToCartButton.children? */}\n                    <span className={styles.cartBtnText}>LÃ¤gg i kundvagn</span>\n                  </Button>\n                </div>\n              ) : null}\n            </>\n          )}\n        </>\n      )\n      }\n    </div>\n  )\n}\n\nexport { ProductCardHorizontal }\n"],"names":["ProductCardHorizontal","product","addToCartButton","addToCart","hideCartButton","onClickRemoveProduct","hideRemoveButton","removingProduct","onChangeQuantity","productQuantityDisabled","Link","defaultQuantity","campaign","productId","productName","productUrl","productImageUrl","tags","country","packaging","priceStr","totalPrice","quantity","salesUnit","itemNumberPerSalesUnit","productImage","getProductPicture","handleRemoveProduct","id","handleOnChangeQuantity","e","quantity2","style","_jsxs","cx","styles","className","title","border","campaignBox","_jsx","_Fragment","loading","Placeholder","placeholderContent","DividerLines","Picture","picture","image","fallbackProductImageUrl","contentWrapper","mainLink","heading","ProductQuantityInput","quantityInput","iconLink","buttonsWrapper","Icon","cartBtnIcon","cartBtnText"],"mappings":"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"}