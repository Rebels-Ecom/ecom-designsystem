import{r as f}from"./index-6f814c40.js";import{c as g,P as G}from"./format-helper-db7271cf.js";import{B as h}from"./button-b550aacc.js";import{P as j}from"./product-variant-list-62a9c744.js";import{g as b}from"./divider-lines-aed21525.js";import{c as o}from"./index-74f03c09.js";import{P as I}from"./picture-1385f78c.js";import{T as M}from"./tag-f7025b30.js";import{B as N,A as R}from"./above-38bf1a4b.js";import{j as u,a as n}from"./jsx-runtime-76c5c2e2.js";import{ChangePackagingButtonStory as Q,ButtonProductCardStory as z}from"./button.stories-6e742f23.js";const w="_productDetails_3l9os_1",H="_imageWrapper_3l9os_16",J="_variantsListOpen_3l9os_38",X="_tagsList_3l9os_45",Y="_quantityInput_3l9os_72",Z="_contentWrapper_3l9os_77",ee="_productVariants_3l9os_95",te="_heading_3l9os_109",re="_textGray_3l9os_115",ae="_textPurple_3l9os_120",ne="_cardPicture_3l9os_126",ie="_cardImage_3l9os_139",se="_btn_3l9os_150",a={productDetails:w,imageWrapper:H,variantsListOpen:J,tagsList:X,quantityInput:Y,contentWrapper:Z,productVariants:ee,heading:te,textGray:re,textPurple:ae,cardPicture:ne,cardImage:ie,btn:se},m=({productId:i,productName:r,productImageUrl:l,country:s,packaging:T,priceStr:q,price:P,salesUnit:B,itemNumberPerSalesUnit:y,tags:x,productVariantList:v,changePackagingButton:C,addToCartButton:A,addToCart:D,productDescription:O,className:ge})=>{const[e,S]=f.useState({productId:i,productName:r,productImage:b(i,l),country:s,packaging:T,priceStr:q,price:P,salesUnit:B,itemNumberPerSalesUnit:y,quantity:"1",totalPrice:g(P*y),tags:x,productDescription:O,productVariantList:v,selectedVariantId:i}),[E,U]=f.useState(!1);function F(t){const c=parseInt(t.target.value)||1;S({...e,quantity:c.toString(),totalPrice:g(e.price*e.itemNumberPerSalesUnit*c)})}function W(){U(!0)}function $(t){const c=e.productId===t.variantId?parseInt(e.quantity):1;S({...e,productId:t.variantId,productImage:t.image,country:t.country,packaging:t.variantName,priceStr:t.listPricePerUnitString,price:t.price,salesUnit:t.salesUnit,itemNumberPerSalesUnit:t.itemNumberPerSalesUnit,totalPrice:g(t.price*t.itemNumberPerSalesUnit*c),quantity:c.toString(),selectedVariantId:t.variantId}),U(!1)}const p=({tagsList:t=[]})=>n("ul",{className:a.tagsList,children:Array.isArray(t)&&t.length>0&&t.map((c,K)=>n("li",{children:n(M,{...c})},K))});return E?u("div",{className:o(a.productDetails),children:[u("div",{className:o(a.imageWrapper,a.variantsListOpen),children:[n(N,{breakpoint:"md",children:t=>t&&e.tags&&n(p,{tagsList:e.tags})}),n(I,{...e.productImage,classNamePicture:a.cardPicture,classNameImg:`${a.cardImage}`})]}),n(j,{className:o(a.contentWrapper,a.productVariants),variantsList:e.productVariantList,onVariantSelect:$,selectedVariantId:e.selectedVariantId})]}):u("div",{className:o(a.productDetails),children:[u("div",{className:a.imageWrapper,children:[n(N,{breakpoint:"md",children:t=>t&&e.tags&&n(p,{tagsList:e.tags})}),n(I,{...e.productImage,classNamePicture:a.cardPicture,classNameImg:`${a.cardImage}`})]}),u("div",{className:a.contentWrapper,children:[n(R,{breakpoint:"md",children:t=>t&&e.tags&&n(p,{tagsList:e.tags})}),n("h3",{className:a.heading,children:e.productName}),n("p",{className:o(a.textPurple,"bodyS"),children:`${e.packaging}: ${e.priceStr} kr/st`}),e.country!==""&&n("p",{className:o(a.textGray,"bodyS"),children:`Land: ${e.country}`}),n("p",{className:a.description,children:e.productDescription}),n(h,{...C,className:a.btn,surface:"secondary",iconRight:{icon:"icon-layers"},rounded:!0,onClick:()=>W(),children:"Byt förpackning"}),n(G,{className:a.quantityInput,salesUnit:e.salesUnit,itemNumberPerSalesUnit:e.itemNumberPerSalesUnit,totalPrice:e.totalPrice,quantity:e.quantity,quantityInputId:e.productId,onChange:F}),n(h,{...A,className:a.btn,size:"large",onClick:()=>D(e),children:"Lägg i kundvagn"})]})]})};try{m.displayName="ProductDetails",m.__docgenInfo={description:"",displayName:"ProductDetails",props:{product:{defaultValue:null,description:"",name:"product",required:!0,type:{name:"IProduct"}},changePackagingButton:{defaultValue:null,description:"",name:"changePackagingButton",required:!0,type:{name:"IButton"}},addToCartButton:{defaultValue:null,description:"",name:"addToCartButton",required:!0,type:{name:"IButton"}},addToCart:{defaultValue:null,description:"",name:"addToCart",required:!0,type:{name:"CallableFunction"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},productId:{defaultValue:null,description:"",name:"productId",required:!0,type:{name:"string"}},productName:{defaultValue:null,description:"",name:"productName",required:!0,type:{name:"string"}},productImageUrl:{defaultValue:null,description:"",name:"productImageUrl",required:!0,type:{name:"string"}},country:{defaultValue:null,description:"",name:"country",required:!0,type:{name:"string"}},packaging:{defaultValue:null,description:"",name:"packaging",required:!0,type:{name:"string"}},priceStr:{defaultValue:null,description:"",name:"priceStr",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},salesUnit:{defaultValue:null,description:"",name:"salesUnit",required:!0,type:{name:"string"}},itemNumberPerSalesUnit:{defaultValue:null,description:"",name:"itemNumberPerSalesUnit",required:!0,type:{name:"number"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:"string"}},totalPrice:{defaultValue:null,description:"",name:"totalPrice",required:!0,type:{name:"string"}},productVariantList:{defaultValue:null,description:"",name:"productVariantList",required:!0,type:{name:"IProductVariant[]"}},tags:{defaultValue:null,description:"",name:"tags",required:!0,type:{name:"ITag[]"}},productDescription:{defaultValue:null,description:"",name:"productDescription",required:!1,type:{name:"string"}}}}}catch{}const le={FirstVariantName:"",ListPricePerUnit:22.677,ListPricePerUnitString:"22,68",DisplayName:"Norrlands Guld Export 5,3",ProductUrl:"/Product/1105101",IsHit:!0,IsProduct:!0,PrimaryImageUrl:"https://spendrups.cdn.storm.io/4237ad51-a9f9-45e5-a85a-72389f6e65bb",ExternalId:"1105101",LimitedProduct:!1,CampaignProduct:!1,ActiveCampaign:null,Tags:[],SellerOnly:!1,ShortTexts:["Sverige"],Variants:[{Name:"50cl Returglas",VariantFullName:"50cl Returglas",VariantId:"1105101",PrimaryImageUrl:"https://spendrups.cdn.storm.io/4237ad51-a9f9-45e5-a85a-72389f6e65bb",SalesUnit:"KLI",UnitsPerBaseUnit:15,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:22.677,ListPricePerUnitString:"22,68",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"33cl Engångsglas",VariantFullName:"33cl Engångsglas",VariantId:"1105111",PrimaryImageUrl:"https://spendrups.cdn.storm.io/fca77f23-eacc-4b53-b1b4-9df3620154b4",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:16.209,ListPricePerUnitString:"16,21",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"33cl PET",VariantFullName:"33cl PET",VariantId:"1152339",PrimaryImageUrl:"https://spendrups.cdn.storm.io/57aafd54-e882-418f-8f2f-f43e98bf75e6",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:16.219,ListPricePerUnitString:"16,22",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"50cl PET",VariantFullName:"50cl PET",VariantId:"1152340",PrimaryImageUrl:"https://spendrups.cdn.storm.io/c873d755-c034-44b2-b599-b45eb67e5c71",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:23.645,ListPricePerUnitString:"23,65",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"30l FAT",VariantFullName:"30l FAT",VariantId:"1105191",PrimaryImageUrl:"https://spendrups.cdn.storm.io/09a0cd7a-ea94-4730-a46d-a36ef0669ec7",SalesUnit:"KLI",UnitsPerBaseUnit:1,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:1404.44,ListPricePerUnitString:"1404,44",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"33cl Burk",VariantFullName:"33cl Burk",VariantId:"1147921",PrimaryImageUrl:"https://spendrups.cdn.storm.io/a9a46999-1348-480e-909a-c33a8cb7974c",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:15.561,ListPricePerUnitString:"15,56",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null},{Name:"50cl Burk",VariantFullName:"50cl Burk",VariantId:"1146323",PrimaryImageUrl:"https://spendrups.cdn.storm.io/985e24c0-c1de-4a30-9d2b-5928c858b514",SalesUnit:"KLI",UnitsPerBaseUnit:24,Tags:[],ShortTexts:["Sverige"],ListPricePerUnit:22.933,ListPricePerUnitString:"22,93",SellerOnly:!1,AccessoryPotVariant:!1,ActiveCampaign:null}],Desc:"",SalesUnit:"KLI",UnitsPerBaseUnit:15,AccessoryPotItem:!1,ModelName:"50cl Returglas",CategoryName:"Öl",BrandName:"Norrlands Guld"},ce={title:"Design System/Organisms/ProductDetails",component:m},oe={render:({...i})=>{function r(l){alert(`Adding to cart - ${l.productName} - ${l.packaging}. Quantity: ${l.quantity}, Total: ${l.totalPrice}`)}return n(m,{...i,addToCart:r})}};function L(i){return i.map(r=>({text:r.Text,shape:r.Shape?r.Shape:"pill",color:r.Class}))}function ue(i,r){const l=r[0].VariantId;return r.map(s=>({productName:i,variantName:s.Name,variantId:s.VariantId,country:Array.isArray(s.ShortTexts)&&s.ShortTexts.length?s.ShortTexts[0]:"",listPricePerUnitString:s.ListPricePerUnitString,price:s.ListPricePerUnit,salesUnit:s.SalesUnit,itemNumberPerSalesUnit:s.UnitsPerBaseUnit,image:b(s.VariantId,s.PrimaryImageUrl),checked:s.VariantId===l,tags:L(s.Tags),onChange:()=>{}}))}function de(i){const r=i.Variants[0];return{productId:r.VariantId,productName:i.DisplayName,productImageUrl:r.PrimaryImageUrl,country:Array.isArray(r.ShortTexts)&&r.ShortTexts.length?r.ShortTexts[0]:"",packaging:r.VariantFullName,priceStr:r.ListPricePerUnitString,price:r.ListPricePerUnit,salesUnit:r.SalesUnit,itemNumberPerSalesUnit:r.UnitsPerBaseUnit,tags:L(r.Tags),productVariantList:ue(i.DisplayName,i.Variants)}}const me=de(le),d={...oe,args:{...me,productDescription:"Man brukar säga att pilsen är bryggmästarens stolthet och Pistonhead Lager är inget undantag. En pils med de klassiska inslagen av en riklig humlekaraktär som istället för att vara besk är mer markerad och balanserad. Serveras med en tydlig skumkrona. Dessutom ekologisk.",changePackagingButton:Q.args,addToCart:z.args}};var V,_,k;d.parameters={...d.parameters,docs:{...(V=d.parameters)==null?void 0:V.docs,source:{originalSource:`{
  ...ProductDetailsStoryTemplate,
  args: {
    ...productArgs,
    productDescription: 'Man brukar säga att pilsen är bryggmästarens stolthet och Pistonhead Lager är inget undantag. En pils med de klassiska inslagen av en riklig humlekaraktär som istället för att vara besk är mer markerad och balanserad. Serveras med en tydlig skumkrona. Dessutom ekologisk.',
    changePackagingButton: ChangePackagingButtonStory.args,
    addToCart: ButtonProductCardStory.args
  }
}`,...(k=(_=d.parameters)==null?void 0:_.docs)==null?void 0:k.source}}};const pe=["ProductDetailsStory"],be=Object.freeze(Object.defineProperty({__proto__:null,ProductDetailsStory:d,__namedExportsOrder:pe,default:ce},Symbol.toStringTag,{value:"Module"}));export{m as P,d as a,be as p};
//# sourceMappingURL=product-details.stories-2184293f.js.map
