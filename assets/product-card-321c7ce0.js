import{r as b}from"./index-6f814c40.js";import{g as h}from"./picture-helper-86177d87.js";import{c as o}from"./format-helper-6b4b1091.js";import{f as D}from"./defaultFallbackImage-b43581a6.js";import{P as w}from"./product-card-horizontal-24a98b7a.js";import{P as x}from"./product-card-vertical-f2980b17.js";import{a as V}from"./jsx-runtime-76c5c2e2.js";function k({cardDisplay:a,product:d,addToCartButton:c,addToCart:m,hideCartButton:p,onChangeQuantity:l,onRemoveProduct:s,hideRemoveButton:S,productQuantityDisabled:f,loading:g,changePackagingButton:B,linkComponent:y,className:P,defaultQuantity:n}){if(!a)throw new Error("cardDisplay must be assigned");const{productId:C,productImageUrl:U,price:N,itemNumberPerSalesUnit:_,quantity:r}=d,[R,q]=b.useState(!1),[t,I]=b.useState({...d,productImage:h(C,U),quantity:r||"1",totalPrice:o(N*_*(n??r?parseInt(n??r):0)),selectedVariantId:C});function v(e){I(u=>{const i={...u,quantity:e.toString(),totalPrice:o(t.price*t.itemNumberPerSalesUnit*e)};return l==null||l(i),i})}function F(){q(!0)}function O(e){s&&s(e)}function z(e){const u=t.productId===e.variantId?parseInt(t.quantity):1;I(i=>({...i,productId:e.variantId,productImage:h(e.variantId,e.imageUrl?e.imageUrl:D),country:e.country,packaging:e.variantName,priceStr:e.listPricePerUnitString,price:e.price,salesUnit:e.salesUnit,itemNumberPerSalesUnit:e.itemNumberPerSalesUnit,totalPrice:o(e.price*e.itemNumberPerSalesUnit*u),quantity:u.toString(),selectedVariantId:e.variantId})),q(!1)}return a==="horizontal"?V(w,{cardDisplay:"horizontal",loading:g,product:t,onChangeQuantity:v,productQuantityDisabled:f,addToCartButton:c,addToCart:m,onClickRemoveProduct:O,linkComponent:y,hideRemoveButton:S,className:P,hideCartButton:p,defaultQuantity:n}):a==="vertical"?V(x,{cardDisplay:"vertical",loading:g,product:t,productImage:t.productImage,onChangeQuantity:v,productQuantityDisabled:f,addToCartButton:c,addToCart:m,changePackagingButton:B,onVariantsButtonClick:F,variantsOpen:R,selectedVariantId:t.selectedVariantId,handlePackageChange:z,linkComponent:y,className:P,hideCartButton:p,defaultQuantity:n}):null}try{k.displayName="ProductCard",k.__docgenInfo={description:"",displayName:"ProductCard",props:{cardDisplay:{defaultValue:null,description:"",name:"cardDisplay",required:!0,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},product:{defaultValue:null,description:"",name:"product",required:!0,type:{name:"IProduct"}},defaultQuantity:{defaultValue:{value:"0"},description:"Sets a custom default quantity to start from",name:"defaultQuantity",required:!1,type:{name:"string"}},addToCartButton:{defaultValue:null,description:"",name:"addToCartButton",required:!0,type:{name:"IButton"}},addToCart:{defaultValue:null,description:"",name:"addToCart",required:!0,type:{name:"CallableFunction"}},onChangeQuantity:{defaultValue:null,description:"",name:"onChangeQuantity",required:!1,type:{name:"CallableFunction"}},hideCartButton:{defaultValue:null,description:"",name:"hideCartButton",required:!1,type:{name:"boolean"}},loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"boolean"}},linkComponent:{defaultValue:null,description:"",name:"linkComponent",required:!1,type:{name:"any"}},hideRemoveButton:{defaultValue:null,description:"",name:"hideRemoveButton",required:!1,type:{name:"boolean"}},onRemoveProduct:{defaultValue:null,description:"",name:"onRemoveProduct",required:!1,type:{name:"CallableFunction"}},productQuantityDisabled:{defaultValue:null,description:"",name:"productQuantityDisabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},changePackagingButton:{defaultValue:null,description:"",name:"changePackagingButton",required:!1,type:{name:"IButton"}},productImage:{defaultValue:null,description:"",name:"productImage",required:!0,type:{name:"IPicture"}},variantsOpen:{defaultValue:null,description:"",name:"variantsOpen",required:!1,type:{name:"boolean"}},handlePackageChange:{defaultValue:null,description:"",name:"handlePackageChange",required:!0,type:{name:"CallableFunction"}},selectedVariantId:{defaultValue:null,description:"",name:"selectedVariantId",required:!1,type:{name:"string"}},onVariantsButtonClick:{defaultValue:null,description:"",name:"onVariantsButtonClick",required:!0,type:{name:"CallableFunction"}},onClickRemoveProduct:{defaultValue:null,description:"",name:"onClickRemoveProduct",required:!1,type:{name:"CallableFunction"}},removingProduct:{defaultValue:null,description:"",name:"removingProduct",required:!1,type:{name:"boolean"}}}}}catch{}export{k as P};
//# sourceMappingURL=product-card-321c7ce0.js.map
