import{r as n,j as s}from"./jsx-runtime-03333307.js";import{c as p}from"./index-09749a66.js";const j="_picture_1n8zg_1",P="_fallback_1n8zg_11",N="_image_1n8zg_21",V="_loading_1n8zg_39",E="_opacityLayer_1n8zg_49",b="_withLightBackground_1n8zg_63",D="_withDarkBackground_1n8zg_71",R="_skeleton_1n8zg_79",a={picture:j,fallback:P,image:N,loading:V,opacityLayer:E,withLightBackground:b,withDarkBackground:D,skeleton:R},k=i=>{try{return new URL(i),!0}catch{return!1}},I=({id:i,sources:o,src:l,width:y,height:f,loading:v="lazy",decoding:w="auto",alt:L="",fetchPriority:z="auto",classNamePicture:q,classNameImg:T,pictureWithOpacity:c,fallbackImageUrl:t=""})=>{const[r,h]=n.useState({src:l,sources:o}),[d,u]=n.useState(!0),m=n.useRef(null);n.useEffect(()=>{const e=o,g=k(l)?l:"";h({src:g,sources:e}),u(!0)},[l,o]),n.useEffect(()=>{m.current&&m.current.complete&&_()},[r]);const x=()=>{t&&k(t)&&h({src:t,sources:[{srcset:t}]}),u(!1)},_=()=>{u(!1)},B=()=>{u(!0)},S=()=>{var e;return(e=r==null?void 0:r.sources)!=null&&e.length?!!r.src:!1};return s.jsxs(s.Fragment,{children:[s.jsxs("picture",{className:p(a.picture,q),id:i,children:[r.sources.map((e,g)=>s.jsx("source",{srcSet:e.srcset||t,type:e.type,media:e.media,sizes:e.sizes},`${i}_source_${g}`)),s.jsx("img",{ref:m,src:r.src||t,className:p(a.image,T,{[a.fallback]:!S()&&!!t},{[a.loading]:d}),loading:v,decoding:w,alt:L,"aria-busy":d,width:y,height:f,fetchpriority:z,onError:x,onLoad:_,onLoadStart:B}),d&&s.jsx("div",{className:a.skeleton,style:{width:y,height:f}})]}),c&&s.jsx("div",{className:p(a.opacityLayer,{[a.withLightBackground]:c==="light",[a.withDarkBackground]:c==="dark"}),"aria-hidden":"true"})]})};I.__docgenInfo={description:"",methods:[],displayName:"Picture",props:{id:{required:!0,tsType:{name:"string"},description:""},sources:{required:!0,tsType:{name:"Array",elements:[{name:"IPictureSource"}],raw:"Array<IPictureSource>"},description:""},src:{required:!0,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},height:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},loading:{required:!1,tsType:{name:"union",raw:"'eager' | 'lazy'",elements:[{name:"literal",value:"'eager'"},{name:"literal",value:"'lazy'"}]},description:"",defaultValue:{value:"'lazy'",computed:!1}},decoding:{required:!1,tsType:{name:"union",raw:"'sync' | 'async' | 'auto'",elements:[{name:"literal",value:"'sync'"},{name:"literal",value:"'async'"},{name:"literal",value:"'auto'"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},alt:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},fetchPriority:{required:!1,tsType:{name:"union",raw:"'high' | 'low' | 'auto'",elements:[{name:"literal",value:"'high'"},{name:"literal",value:"'low'"},{name:"literal",value:"'auto'"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},classNamePicture:{required:!1,tsType:{name:"string"},description:""},classNameImg:{required:!1,tsType:{name:"string"},description:""},pictureWithOpacity:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:""},fallbackImageUrl:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}}}};export{I as P};
