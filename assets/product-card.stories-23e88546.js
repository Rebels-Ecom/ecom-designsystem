import{r as C}from"./index-6f814c40.js";import{c as _}from"./index-74f03c09.js";import{P as H}from"./picture-1385f78c.js";import{g as b,D}from"./divider-lines-aed21525.js";import{c as g,P as E}from"./format-helper-aac6be36.js";import{B as U}from"./button-c74bbcb5.js";import{P as M}from"./product-variant-list-7d72977b.js";import{f as Q}from"./product-variant-322089ce.js";import{T as R}from"./tag-fb485b4a.js";import{a as r,j as m,F as J}from"./jsx-runtime-76c5c2e2.js";import{d as K,a as X}from"./dummy-product-a4cbc78e.js";const Y="_placeholderImage_zwoaa_1",Z="_placeholderShimmer_zwoaa_1",ee="_placeholderTags_zwoaa_15",re="_placeholderHeading_zwoaa_21",te="_placeholderParagraphLong_zwoaa_27",ae="_placeholderParagraphShort_zwoaa_32",N={placeholderImage:Y,placeholderShimmer:Z,placeholderTags:ee,placeholderHeading:re,placeholderParagraphLong:te,placeholderParagraphShort:ae};function c({type:a="heading"}){function e(d){switch(d){case"image":return"placeholderImage";case"tags":return"placeholderTags";case"p_long":return"placeholderParagraphLong";case"p_short":return"placeholderParagraphShort";case"heading":default:return"placeholderHeading"}}return r("div",{className:_(N.placeholder,N[e(a)])})}try{c.displayName="Placeholder",c.__docgenInfo={description:"",displayName:"Placeholder",props:{type:{defaultValue:{value:"heading"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"image"'},{value:'"heading"'},{value:'"tags"'},{value:'"p_long"'},{value:'"p_short"'}]}}}}}catch{}const ne="_productCard_utevk_1",ie="_imageWrapper_utevk_15",oe="_cardPicture_utevk_24",ce="_cardImage_utevk_31",de="_cardContent_utevk_42",le="_placeholderContent_utevk_42",ue="_headingWrapper_utevk_52",se="_heading_utevk_52",pe="_textGray_utevk_61",me="_textPurple_utevk_66",ge="_productCardInput_utevk_72",he="_productCardBtn_utevk_76",ye="_iconLink_utevk_80",i={productCard:ne,imageWrapper:ie,cardPicture:oe,cardImage:ce,cardContent:de,placeholderContent:le,headingWrapper:ue,heading:se,textGray:pe,textPurple:me,productCardInput:ge,productCardBtn:he,iconLink:ye},_e="_tagsList_1cf84_1",Pe={tagsList:_e};function P({tagsList:a=[]}){return r("ul",{className:Pe.tagsList,children:Array.isArray(a)&&a.length>0&&a.map((e,d)=>r("li",{children:r(R,{...e})},d))})}try{P.displayName="TagsList",P.__docgenInfo={description:"",displayName:"TagsList",props:{tagsList:{defaultValue:{value:"[]"},description:"",name:"tagsList",required:!1,type:{name:"ITag[]"}}}}}catch{}function h({product:a,changePackagingButton:e,addToCartButton:d,addToCart:n,loading:l,linkComponent:f}){const{productId:y,productImageUrl:w,price:$,itemNumberPerSalesUnit:z}=a,[O,I]=C.useState(!1),[t,S]=C.useState({...a,productImage:b(y,w),quantity:"1",totalPrice:g($*z),selectedVariantId:y});function j(o){const u=parseInt(o.target.value)||1;S({...t,quantity:u.toString(),totalPrice:g(t.price*t.itemNumberPerSalesUnit*u)})}function F(){I(!0)}function G(o){const u=t.productId===o.variantId?parseInt(t.quantity):1;S({...t,productId:o.variantId,productImage:o.image,country:o.country,packaging:o.variantName,priceStr:o.listPricePerUnitString,price:o.price,salesUnit:o.salesUnit,itemNumberPerSalesUnit:o.itemNumberPerSalesUnit,totalPrice:g(o.price*o.itemNumberPerSalesUnit*u),quantity:u.toString(),selectedVariantId:o.variantId}),I(!1)}return O?r(M,{className:i.productCard,variantsList:t.productVariantList,onVariantSelect:G,selectedVariantId:t.selectedVariantId}):m("div",{className:i.productCard,children:[Array.isArray(t.tags)&&t.tags.length?r(J,{children:l?r(c,{type:"tags"}):r(P,{tagsList:t.tags})}):null,l?r(c,{type:"image"}):r("div",{className:i.imageWrapper,children:r(H,{...t.productImage,classNamePicture:i.cardPicture,classNameImg:`${i.cardImage}`,fallbackImageUrl:Q})}),l?m("div",{className:i.placeholderContent,children:[r(c,{type:"heading"}),r(c,{type:"p_short"}),r(c,{type:"p_long"}),r(c,{type:"p_long"})]}):m("div",{className:`${i.cardContent}`,children:[t.productUrl&&f?r(f,{to:t.productUrl,href:t.productUrl,className:i.headingWrapper,children:r("h5",{className:i.heading,children:t.productName})}):r("h5",{className:i.heading,children:t.productName}),r(D,{}),r("p",{className:_(i.textGray,"bodyS"),children:`Art.nr. ${y} - ${t.country}`}),r("p",{className:_(i.textPurple,"bodyS"),children:`${t.packaging}: ${t.priceStr} kr/st`})]}),r(U,{...e,surface:"secondary",iconRight:{icon:"icon-layers"},rounded:!0,fullWidth:!0,onClick:()=>F(),disabled:l,children:"Byt förpackning"}),l?m("div",{className:i.placeholderContent,children:[r(c,{type:"p_long"}),r(c,{type:"p_long"})]}):r(E,{className:i.productCardInput,salesUnit:t.salesUnit,itemNumberPerSalesUnit:t.itemNumberPerSalesUnit,totalPrice:t.totalPrice,quantity:t.quantity,quantityInputId:t.productId,onChange:j}),r(U,{...d,className:l?"":i.productCardBtn,fullWidth:!0,onClick:()=>n(a),disabled:l,children:"Lägg i kundvagn"})]})}try{h.displayName="ProductCard",h.__docgenInfo={description:"",displayName:"ProductCard",props:{product:{defaultValue:null,description:"",name:"product",required:!0,type:{name:"IProduct"}},changePackagingButton:{defaultValue:null,description:"",name:"changePackagingButton",required:!0,type:{name:"IButton"}},addToCartButton:{defaultValue:null,description:"",name:"addToCartButton",required:!0,type:{name:"IButton"}},addToCart:{defaultValue:null,description:"",name:"addToCart",required:!0,type:{name:"CallableFunction"}},loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"boolean"}},linkComponent:{defaultValue:null,description:"",name:"linkComponent",required:!1,type:{name:"any"}},productId:{defaultValue:null,description:"",name:"productId",required:!0,type:{name:"string"}},productName:{defaultValue:null,description:"",name:"productName",required:!0,type:{name:"string"}},productUrl:{defaultValue:null,description:"",name:"productUrl",required:!1,type:{name:"string"}},productImageUrl:{defaultValue:null,description:"",name:"productImageUrl",required:!0,type:{name:"string"}},country:{defaultValue:null,description:"",name:"country",required:!0,type:{name:"string"}},packaging:{defaultValue:null,description:"",name:"packaging",required:!0,type:{name:"string"}},priceStr:{defaultValue:null,description:"",name:"priceStr",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},salesUnit:{defaultValue:null,description:"",name:"salesUnit",required:!0,type:{name:"string"}},itemNumberPerSalesUnit:{defaultValue:null,description:"",name:"itemNumberPerSalesUnit",required:!0,type:{name:"number"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:"string"}},totalPrice:{defaultValue:null,description:"",name:"totalPrice",required:!0,type:{name:"string"}},productVariantList:{defaultValue:null,description:"",name:"productVariantList",required:!0,type:{name:"IProductVariant[]"}},tags:{defaultValue:null,description:"",name:"tags",required:!0,type:{name:"ITag[]"}},productDescription:{defaultValue:null,description:"",name:"productDescription",required:!1,type:{name:"string"}}}}}catch{}const fe={title:"Design System/Molecules/ProductCard",component:h},x={render:({...a})=>{function e(d){console.log("Showing toast with product...")}return r("div",{style:{width:"100%",marginTop:"2rem",marginLeft:"2rem"},children:r(h,{...a,addToCart:e})})}};function B(a){return a.map(e=>({text:e.Text,shape:e.Shape?e.Shape:"pill",color:e.Class}))}function Ie(a,e){const d=e[0].VariantId;return e.map(n=>({productName:a,variantName:n.Name,variantId:n.VariantId,country:Array.isArray(n.ShortTexts)&&n.ShortTexts.length?n.ShortTexts[0]:"",listPricePerUnitString:n.ListPricePerUnitString,price:n.ListPricePerUnit,salesUnit:n.SalesUnit,itemNumberPerSalesUnit:n.UnitsPerBaseUnit,image:b(n.VariantId,n.PrimaryImageUrl),checked:n.VariantId===d,tags:B(n.Tags),onChange:()=>{}}))}function W(a){const e=a.Variants[0];return{productId:e.VariantId,productUrl:a.ProductUrl,productName:a.DisplayName,productImageUrl:e.PrimaryImageUrl,country:Array.isArray(e.ShortTexts)&&e.ShortTexts.length?e.ShortTexts[0]:"",packaging:e.VariantFullName,priceStr:e.ListPricePerUnitString,price:e.ListPricePerUnit,salesUnit:e.SalesUnit,itemNumberPerSalesUnit:e.UnitsPerBaseUnit,tags:B(e.Tags),quantity:"1",totalPrice:g(e.ListPricePerUnit*e.UnitsPerBaseUnit),productVariantList:Ie(a.DisplayName,a.Variants)}}W(K);const A=W(X),s={...x,args:{product:A,linkComponent:"a"}},p={...x,args:{product:A,loading:!0}};var k,q,V;s.parameters={...s.parameters,docs:{...(k=s.parameters)==null?void 0:k.docs,source:{originalSource:`{
  ...ProductCardStoryTemplate,
  args: {
    product: productWineArgs,
    linkComponent: 'a'
  }
}`,...(V=(q=s.parameters)==null?void 0:q.docs)==null?void 0:V.source}}};var T,L,v;p.parameters={...p.parameters,docs:{...(T=p.parameters)==null?void 0:T.docs,source:{originalSource:`{
  ...ProductCardStoryTemplate,
  args: {
    product: productWineArgs,
    loading: true
  }
}`,...(v=(L=p.parameters)==null?void 0:L.docs)==null?void 0:v.source}}};const Se=["ProductCardStory","ProductCardStory_Loading"],Be=Object.freeze(Object.defineProperty({__proto__:null,ProductCardStory:s,ProductCardStory_Loading:p,__namedExportsOrder:Se,default:fe},Symbol.toStringTag,{value:"Module"}));export{h as P,s as a,Be as p};
//# sourceMappingURL=product-card.stories-23e88546.js.map
