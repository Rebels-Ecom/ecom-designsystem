{"version":3,"file":"search-nav-bar.stories-e9eceed2.js","sources":["../../src/design-system/components/molecules/search-nav-bar/search-nav-bar.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport styles from './search-nav-bar.module.css'\nimport { Search } from '../../atoms/search/search'\nimport { motion } from 'framer-motion'\nimport { Below, Above } from '../../layouts'\n\nexport interface ISearchNavBar {\n  linkComponent: any\n  isOpen?: boolean\n  itemsToFilterOn: Array<any>\n}\n\nconst variants = {\n  open: { y: 0, opacity: 1, width: '100%' },\n  closed: { y: \"-3.7rem\", opacity: 0 },\n}\n\nconst SearchNavBar = ({ itemsToFilterOn, isOpen=false }: ISearchNavBar) => {\n  const [isSearchBarOpen, setIsOpen] = useState<boolean>(isOpen)\n  const [isFocused, setIsFocused] = useState<boolean>(false)\n  const [query, setQuery] = useState<string>('')\n  const [results, setResults] = useState<Array<any>>([])\n\n  useEffect(() => {\n    const pattern = new RegExp(query.toLowerCase(), 'i')\n    setResults(itemsToFilterOn.filter((item: any) => query && item.label && pattern.test(item.label.toLowerCase())))\n  }, [query])\n\n  function renderSearchBar(){\n    return(\n      <Search\n        className={styles.searchComponent}\n        id={'Search_Id'}\n        query={query}\n        setQuery={setQuery}\n        results={results}\n        isOpen={isSearchBarOpen}\n        setIsOpen={setIsOpen}\n        setIsFocused={setIsFocused}\n        placeholder={'Sök på produkt'}\n        noResult={{ label: 'Din sökning gav inga träffar', text: '' }}\n      />\n    )\n  }\n\n  return (\n    <div className={styles.innerSearchWrapper}>\n      <Below breakpoint=\"lg\">{(matches: any) => matches && \n        <motion.div initial={{opacity: 0}} animate={isOpen ? \"open\" : \"closed\"} transition={{duration: 1}} variants={variants}>\n          {renderSearchBar()}\n        </motion.div>}\n      </Below>\n      <Above breakpoint=\"lg\">{(matches: any) => matches && \n          <>{renderSearchBar()}</>}\n      </Above>\n    </div>\n  )\n}\n\nexport { SearchNavBar }\n"],"names":["variants","SearchNavBar","itemsToFilterOn","isSearchBarOpen","setIsOpen","useState","isOpen","isFocused","setIsFocused","query","setQuery","results","setResults","useEffect","pattern","renderSearchBar","_jsx","Search","styles","searchComponent","_jsxs","innerSearchWrapper","matches","motion","Above","_Fragment"],"mappings":"8UAYAA,EAAA,CAAiB,KAAA,CACT,EAAA,EAAK,QAAA,EAAY,MAAA,MAAU,EAAO,OAAA,CAChC,EAAA,UAAK,QAAA,CAAoB,CACnC,EAEAC,EAAA,CAAA,CAAsB,gBAAAC,EAAEA,OAAAA,EAAAA,EAA6C,IAAA,CACnE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAAC,CAAA,EACA,CAAAC,EAAAC,CAAA,EAAAH,EAAA,SAAA,EAAA,EACA,CAAAI,EAAAC,CAAA,EAAAL,EAAA,SAAA,EAAA,EACA,CAAAM,EAAAC,CAAA,EAAAP,EAAA,SAAA,CAAA,CAAA,EAEAQ,EAAAA,UAAAA,IAAAA,CACE,MAAAC,EAAA,IAAA,OAAAL,EAAA,YAAA,EAAA,GAAA,EACAG,EAAAA,EAAAA,OAAAA,GAAAA,GAAAA,EAAAA,OAAAA,EAAAA,KAAAA,EAAAA,MAAAA,YAAAA,CAAAA,CAAAA,CAAAA,CAA+G,EAAA,CAAAH,CAAA,CAAA,EAGjH,SAAAM,GAAA,CACE,OAAAC,EAAAC,EAAA,CACS,UAAAC,EAAA,gBACaC,GAAAA,YACd,MAAAV,EACJA,SAAAA,EACAC,QAAAA,EACAC,OAAAA,EACQR,UAAAA,EACRC,aAAAA,EACAI,YAAAA,iBACa,SAAA,CACH,MAAA,+BAAS,KAAA,EAAsC,CAAG,CAAA,CAC7D,CAIL,OAAAY,EAAA,MAAA,CACE,UAAAF,EAAA,mBAAuBG,SAAAA,CAAAA,EAAAA,EAAAA,CACf,WAAA,KAAY,SAAAC,GAAAA,GAAAN,EAAAO,EAAA,IAAA,CACL,QAAA,CAAU,QAAA,CAAU,EAAC,QAAAjB,EAAA,OAAA,SAA8B,WAAA,CAAsB,SAAA,CAAW,EAAC,SAAAN,EAAGA,SAAAA,EAAAA,CAChF,CAAA,CACP,CAAA,EAAAgB,EAAAQ,EAAA,CAER,WAAA,KAAY,SAAAF,GAAAA,GAAAN,EAAAS,EAAA,CACd,SAAAV,EAAA,CAAmB,CAAA,CAAI,CAAA,CAAA,CACnB,CAAA,CAGd;;;;;"}