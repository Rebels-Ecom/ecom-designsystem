{"version":3,"file":"search-nav-bar.stories-4eb72a3d.js","sources":["../../src/design-system/components/molecules/search-nav-bar/search-nav-bar.tsx","../../src/design-system/components/molecules/search-nav-bar/search-nav-bar.stories.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport styles from './search-nav-bar.module.css'\nimport { Icon } from '../../atoms/icon/icon'\nimport { IPicture, Picture } from '../../atoms/picture/picture'\nimport { TNavLink } from '../../../../types/links'\nimport { Search } from '../../atoms/search/search'\n\nexport interface ISearchNavBar {\n  linkComponent: any\n  itemsToFilterOn: Array<any>\n}\n\nconst SearchNavBar = ({ itemsToFilterOn }: ISearchNavBar) => {\n  const [isOpen, setIsOpen] = useState<boolean>(false)\n  const [isFocused, setIsFocused] = useState<boolean>(false)\n  const [query, setQuery] = useState<string>('')\n  const [results, setResults] = useState<Array<any>>([])\n\n  useEffect(() => {\n    const pattern = new RegExp(query.toLowerCase(), 'i')\n    setResults(itemsToFilterOn.filter((item: any) => query && item.label && pattern.test(item.label.toLowerCase())))\n  }, [query])\n\n  return (\n    <div className={styles.innerSearchWrapper}>\n      <Search\n        className={styles.searchComponent}\n        id={'Search_Id'}\n        query={query}\n        setQuery={setQuery}\n        results={results}\n        isOpen={isOpen}\n        setIsOpen={setIsOpen}\n        setIsFocused={setIsFocused}\n        placeholder={'Sök på produkt'}\n        noResult={{ label: 'Din sökning gav inga träffar', text: '' }}\n      />\n    </div>\n  )\n}\n\nexport { SearchNavBar }\n","import React from 'react';\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { SearchNavBar } from './search-nav-bar';\nimport { SearchStory } from '../../atoms/search/search.stories';\nconst meta: Meta<typeof SearchNavBar> = {\n  title: 'Design System/Molecules/Search Nav Bar',\n  component: SearchNavBar\n};\nexport default meta;\ntype Story = StoryObj<typeof SearchNavBar>;\nconst SearchNavBarStoryTemplate: Story = {\n  render: args => <div style={{\n    position: 'relative',\n    height: '5rem',\n    display: 'flex',\n    justifyContent: 'center',\n    padding: '0.5rem 1rem'\n  }}>\n      <SearchNavBar {...args} />\n    </div>\n};\nconst itemsToFilterOn = [{\n  id: 'NCG626689',\n  label: 'Ekoöl på riktigt',\n  text: 'Testa vår ekoöl',\n  slug: 'eko-ol'\n}, {\n  id: 'NCG691725',\n  label: 'Loka årets vinnare',\n  text: 'Loka årets vinnare i sustainable brand index',\n  slug: 'loka-arets-vinnare'\n}, {\n  id: 'NCG383172',\n  label: 'Spendrups hållbarhetsredovisning',\n  text: 'Läsa om Spendrups hållbarhetsredovisning',\n  slug: 'spendrups-hallbarhetsredovisning'\n}, {\n  id: 'NCG521824',\n  label: 'Briska',\n  text: 'Briska',\n  slug: 'briska'\n}, {\n  id: 'NCG583714',\n  label: 'Spring wine and spirits',\n  text: 'Vårens nya smak',\n  slug: 'spring-wine-spirits'\n}, {\n  id: 'NCG769205',\n  label: 'Det här är vi',\n  text: 'Familjeföretaget med öl i blodet',\n  slug: 'om-oss'\n}, {\n  id: 'NCG880524',\n  label: 'Kiviks musteri',\n  text: 'Prova nya cider',\n  slug: 'kiviks-cider'\n}, {\n  id: 'NCG153793',\n  label: 'Här är nya Loka likes favorites',\n  text: 'loka likes favorites - smakar glass och kokos ',\n  slug: 'loka-favorites'\n}, {\n  id: 'NCG660063',\n  label: 'Övrig läsk och vatten',\n  text: 'Övrig läsk och vatten',\n  slug: 'lask-och-vatten'\n}];\nconst searchNavBarArgs = {\n  logo: {\n    src: '/logotypes/Spendrups_logo_desktop_horizontal.svg',\n    alt: 'logo',\n    href: '/',\n    id: 'logo',\n    sources: [{\n      srcset: '/logotypes/Spendrups_logo_mobile_vertical.svg',\n      media: `(max-width: 767px)`\n    }, {\n      srcset: '/logotypes/Spendrups_logo_desktop_horizontal.svg',\n      media: `(min-width: 768px)`\n    }]\n  },\n  searchNavLinks: [{\n    navLinkType: 'favorites',\n    href: '/favorites',\n    text: 'My favorites',\n    isExternal: false\n  }, {\n    navLinkType: 'cart',\n    href: '/cart',\n    text: 'Cart',\n    isExternal: false\n  }],\n  linkComponent: 'a',\n  searchArgs: SearchStory.args,\n  itemsToFilterOn: itemsToFilterOn\n};\nexport const SearchNavBarStory = {\n  ...SearchNavBarStoryTemplate,\n  args: {\n    ...searchNavBarArgs\n  }\n};\nSearchNavBarStory.parameters = {\n  ...SearchNavBarStory.parameters,\n  docs: {\n    ...SearchNavBarStory.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  ...SearchNavBarStoryTemplate,\\n  args: {\\n    ...searchNavBarArgs\\n  }\\n}\",\n      ...SearchNavBarStory.parameters?.docs?.source\n    }\n  }\n};"],"names":["SearchNavBar","itemsToFilterOn","isOpen","setIsOpen","useState","isFocused","setIsFocused","query","setQuery","results","setResults","useEffect","pattern","_jsx","styles","innerSearchWrapper","searchComponent","meta","title","component","SearchNavBarStoryTemplate","render","style","position","height","display","justifyContent","padding","children","args","id","label","text","slug","searchNavBarArgs","logo","src","alt","href","sources","srcset","media","searchNavLinks","navLinkType","isExternal","linkComponent","searchArgs","SearchStory","SearchNavBarStory","parameters","docs","source","originalSource"],"mappings":"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"}