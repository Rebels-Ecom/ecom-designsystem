import{g as Ht,c as ln}from"./jsx-runtime-03333307.js";import{b as _e,i as ze,_ as K,c as we,e as un,d as Yt,a as Xe}from"./isSymbol-9d21be03.js";var pn=_e,yn=ze,dn="[object AsyncFunction]",fn="[object Function]",mn="[object GeneratorFunction]",Tn="[object Proxy]";function hn(e){if(!yn(e))return!1;var r=pn(e);return r==fn||r==mn||r==dn||r==Tn}var Qe=hn;const By=Ht(Qe);var gn=K,vn=gn["__core-js_shared__"],bn=vn,Me=bn,bt=function(){var e=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _n(e){return!!bt&&bt in e}var wn=_n,Jn=Function.prototype,Pn=Jn.toString;function $n(e){if(e!=null){try{return Pn.call(e)}catch{}try{return e+""}catch{}}return""}var Wt=$n,En=Qe,An=wn,On=ze,Sn=Wt,Nn=/[\\^$.*+?()[\]{}|]/g,xn=/^\[object .+?Constructor\]$/,In=Function.prototype,Rn=Object.prototype,Cn=In.toString,Fn=Rn.hasOwnProperty,Ln=RegExp("^"+Cn.call(Fn).replace(Nn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kn(e){if(!On(e)||An(e))return!1;var r=En(e)?Ln:xn;return r.test(Sn(e))}var jn=kn;function Dn(e,r){return e==null?void 0:e[r]}var Un=Dn,Mn=jn,Kn=Un;function Vn(e,r){var a=Kn(e,r);return Mn(a)?a:void 0}var H=Vn,qn=H,Bn=function(){try{var e=qn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Gn=Bn,_t=Gn;function Hn(e,r,a){r=="__proto__"&&_t?_t(e,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[r]=a}var Yn=Hn;function Wn(e){return function(r,a,s){for(var i=-1,l=Object(r),u=s(r),p=u.length;p--;){var d=u[e?p:++i];if(a(l[d],d,l)===!1)break}return r}}var zn=Wn,Xn=zn,Qn=Xn(),Zn=Qn;function ea(e,r){for(var a=-1,s=Array(e);++a<e;)s[a]=r(a);return s}var ta=ea,ra=_e,na=we,aa="[object Arguments]";function oa(e){return na(e)&&ra(e)==aa}var sa=oa,wt=sa,ia=we,zt=Object.prototype,ca=zt.hasOwnProperty,la=zt.propertyIsEnumerable,ua=wt(function(){return arguments}())?wt:function(e){return ia(e)&&ca.call(e,"callee")&&!la.call(e,"callee")},Xt=ua,pa=Array.isArray,V=pa,ge={exports:{}};function ya(){return!1}var da=ya;ge.exports;(function(e,r){var a=K,s=da,i=r&&!r.nodeType&&r,l=i&&!0&&e&&!e.nodeType&&e,u=l&&l.exports===i,p=u?a.Buffer:void 0,d=p?p.isBuffer:void 0,f=d||s;e.exports=f})(ge,ge.exports);var Qt=ge.exports,fa=9007199254740991,ma=/^(?:0|[1-9]\d*)$/;function Ta(e,r){var a=typeof e;return r=r??fa,!!r&&(a=="number"||a!="symbol"&&ma.test(e))&&e>-1&&e%1==0&&e<r}var Zt=Ta,ha=9007199254740991;function ga(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ha}var Ze=ga,va=_e,ba=Ze,_a=we,wa="[object Arguments]",Ja="[object Array]",Pa="[object Boolean]",$a="[object Date]",Ea="[object Error]",Aa="[object Function]",Oa="[object Map]",Sa="[object Number]",Na="[object Object]",xa="[object RegExp]",Ia="[object Set]",Ra="[object String]",Ca="[object WeakMap]",Fa="[object ArrayBuffer]",La="[object DataView]",ka="[object Float32Array]",ja="[object Float64Array]",Da="[object Int8Array]",Ua="[object Int16Array]",Ma="[object Int32Array]",Ka="[object Uint8Array]",Va="[object Uint8ClampedArray]",qa="[object Uint16Array]",Ba="[object Uint32Array]",J={};J[ka]=J[ja]=J[Da]=J[Ua]=J[Ma]=J[Ka]=J[Va]=J[qa]=J[Ba]=!0;J[wa]=J[Ja]=J[Fa]=J[Pa]=J[La]=J[$a]=J[Ea]=J[Aa]=J[Oa]=J[Sa]=J[Na]=J[xa]=J[Ia]=J[Ra]=J[Ca]=!1;function Ga(e){return _a(e)&&ba(e.length)&&!!J[va(e)]}var Ha=Ga;function Ya(e){return function(r){return e(r)}}var Wa=Ya,ve={exports:{}};ve.exports;(function(e,r){var a=un,s=r&&!r.nodeType&&r,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,u=l&&a.process,p=function(){try{var d=i&&i.require&&i.require("util").types;return d||u&&u.binding&&u.binding("util")}catch{}}();e.exports=p})(ve,ve.exports);var za=ve.exports,Xa=Ha,Qa=Wa,Jt=za,Pt=Jt&&Jt.isTypedArray,Za=Pt?Qa(Pt):Xa,er=Za,eo=ta,to=Xt,ro=V,no=Qt,ao=Zt,oo=er,so=Object.prototype,io=so.hasOwnProperty;function co(e,r){var a=ro(e),s=!a&&to(e),i=!a&&!s&&no(e),l=!a&&!s&&!i&&oo(e),u=a||s||i||l,p=u?eo(e.length,String):[],d=p.length;for(var f in e)(r||io.call(e,f))&&!(u&&(f=="length"||i&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||ao(f,d)))&&p.push(f);return p}var lo=co,uo=Object.prototype;function po(e){var r=e&&e.constructor,a=typeof r=="function"&&r.prototype||uo;return e===a}var yo=po;function fo(e,r){return function(a){return e(r(a))}}var tr=fo,mo=tr,To=mo(Object.keys,Object),ho=To,go=yo,vo=ho,bo=Object.prototype,_o=bo.hasOwnProperty;function wo(e){if(!go(e))return vo(e);var r=[];for(var a in Object(e))_o.call(e,a)&&a!="constructor"&&r.push(a);return r}var Jo=wo,Po=Qe,$o=Ze;function Eo(e){return e!=null&&$o(e.length)&&!Po(e)}var Ao=Eo,Oo=lo,So=Jo,No=Ao;function xo(e){return No(e)?Oo(e):So(e)}var et=xo,Io=Zn,Ro=et;function Co(e,r){return e&&Io(e,r,Ro)}var Fo=Co;function Lo(){this.__data__=[],this.size=0}var ko=Lo;function jo(e,r){return e===r||e!==e&&r!==r}var rr=jo,Do=rr;function Uo(e,r){for(var a=e.length;a--;)if(Do(e[a][0],r))return a;return-1}var Je=Uo,Mo=Je,Ko=Array.prototype,Vo=Ko.splice;function qo(e){var r=this.__data__,a=Mo(r,e);if(a<0)return!1;var s=r.length-1;return a==s?r.pop():Vo.call(r,a,1),--this.size,!0}var Bo=qo,Go=Je;function Ho(e){var r=this.__data__,a=Go(r,e);return a<0?void 0:r[a][1]}var Yo=Ho,Wo=Je;function zo(e){return Wo(this.__data__,e)>-1}var Xo=zo,Qo=Je;function Zo(e,r){var a=this.__data__,s=Qo(a,e);return s<0?(++this.size,a.push([e,r])):a[s][1]=r,this}var es=Zo,ts=ko,rs=Bo,ns=Yo,as=Xo,os=es;function Q(e){var r=-1,a=e==null?0:e.length;for(this.clear();++r<a;){var s=e[r];this.set(s[0],s[1])}}Q.prototype.clear=ts;Q.prototype.delete=rs;Q.prototype.get=ns;Q.prototype.has=as;Q.prototype.set=os;var Pe=Q,ss=Pe;function is(){this.__data__=new ss,this.size=0}var cs=is;function ls(e){var r=this.__data__,a=r.delete(e);return this.size=r.size,a}var us=ls;function ps(e){return this.__data__.get(e)}var ys=ps;function ds(e){return this.__data__.has(e)}var fs=ds,ms=H,Ts=K,hs=ms(Ts,"Map"),tt=hs,gs=H,vs=gs(Object,"create"),$e=vs,$t=$e;function bs(){this.__data__=$t?$t(null):{},this.size=0}var _s=bs;function ws(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var Js=ws,Ps=$e,$s="__lodash_hash_undefined__",Es=Object.prototype,As=Es.hasOwnProperty;function Os(e){var r=this.__data__;if(Ps){var a=r[e];return a===$s?void 0:a}return As.call(r,e)?r[e]:void 0}var Ss=Os,Ns=$e,xs=Object.prototype,Is=xs.hasOwnProperty;function Rs(e){var r=this.__data__;return Ns?r[e]!==void 0:Is.call(r,e)}var Cs=Rs,Fs=$e,Ls="__lodash_hash_undefined__";function ks(e,r){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Fs&&r===void 0?Ls:r,this}var js=ks,Ds=_s,Us=Js,Ms=Ss,Ks=Cs,Vs=js;function Z(e){var r=-1,a=e==null?0:e.length;for(this.clear();++r<a;){var s=e[r];this.set(s[0],s[1])}}Z.prototype.clear=Ds;Z.prototype.delete=Us;Z.prototype.get=Ms;Z.prototype.has=Ks;Z.prototype.set=Vs;var qs=Z,Et=qs,Bs=Pe,Gs=tt;function Hs(){this.size=0,this.__data__={hash:new Et,map:new(Gs||Bs),string:new Et}}var Ys=Hs;function Ws(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var zs=Ws,Xs=zs;function Qs(e,r){var a=e.__data__;return Xs(r)?a[typeof r=="string"?"string":"hash"]:a.map}var Ee=Qs,Zs=Ee;function ei(e){var r=Zs(this,e).delete(e);return this.size-=r?1:0,r}var ti=ei,ri=Ee;function ni(e){return ri(this,e).get(e)}var ai=ni,oi=Ee;function si(e){return oi(this,e).has(e)}var ii=si,ci=Ee;function li(e,r){var a=ci(this,e),s=a.size;return a.set(e,r),this.size+=a.size==s?0:1,this}var ui=li,pi=Ys,yi=ti,di=ai,fi=ii,mi=ui;function ee(e){var r=-1,a=e==null?0:e.length;for(this.clear();++r<a;){var s=e[r];this.set(s[0],s[1])}}ee.prototype.clear=pi;ee.prototype.delete=yi;ee.prototype.get=di;ee.prototype.has=fi;ee.prototype.set=mi;var rt=ee,Ti=Pe,hi=tt,gi=rt,vi=200;function bi(e,r){var a=this.__data__;if(a instanceof Ti){var s=a.__data__;if(!hi||s.length<vi-1)return s.push([e,r]),this.size=++a.size,this;a=this.__data__=new gi(s)}return a.set(e,r),this.size=a.size,this}var _i=bi,wi=Pe,Ji=cs,Pi=us,$i=ys,Ei=fs,Ai=_i;function te(e){var r=this.__data__=new wi(e);this.size=r.size}te.prototype.clear=Ji;te.prototype.delete=Pi;te.prototype.get=$i;te.prototype.has=Ei;te.prototype.set=Ai;var nr=te,Oi="__lodash_hash_undefined__";function Si(e){return this.__data__.set(e,Oi),this}var Ni=Si;function xi(e){return this.__data__.has(e)}var Ii=xi,Ri=rt,Ci=Ni,Fi=Ii;function be(e){var r=-1,a=e==null?0:e.length;for(this.__data__=new Ri;++r<a;)this.add(e[r])}be.prototype.add=be.prototype.push=Ci;be.prototype.has=Fi;var Li=be;function ki(e,r){for(var a=-1,s=e==null?0:e.length;++a<s;)if(r(e[a],a,e))return!0;return!1}var ji=ki;function Di(e,r){return e.has(r)}var Ui=Di,Mi=Li,Ki=ji,Vi=Ui,qi=1,Bi=2;function Gi(e,r,a,s,i,l){var u=a&qi,p=e.length,d=r.length;if(p!=d&&!(u&&d>p))return!1;var f=l.get(e),g=l.get(r);if(f&&g)return f==r&&g==e;var $=-1,_=!0,N=a&Bi?new Mi:void 0;for(l.set(e,r),l.set(r,e);++$<p;){var A=e[$],v=r[$];if(s)var I=u?s(v,A,$,r,e,l):s(A,v,$,e,r,l);if(I!==void 0){if(I)continue;_=!1;break}if(N){if(!Ki(r,function(F,L){if(!Vi(N,L)&&(A===F||i(A,F,a,s,l)))return N.push(L)})){_=!1;break}}else if(!(A===v||i(A,v,a,s,l))){_=!1;break}}return l.delete(e),l.delete(r),_}var ar=Gi,Hi=K,Yi=Hi.Uint8Array,Wi=Yi;function zi(e){var r=-1,a=Array(e.size);return e.forEach(function(s,i){a[++r]=[i,s]}),a}var Xi=zi;function Qi(e){var r=-1,a=Array(e.size);return e.forEach(function(s){a[++r]=s}),a}var Zi=Qi,At=Yt,Ot=Wi,ec=rr,tc=ar,rc=Xi,nc=Zi,ac=1,oc=2,sc="[object Boolean]",ic="[object Date]",cc="[object Error]",lc="[object Map]",uc="[object Number]",pc="[object RegExp]",yc="[object Set]",dc="[object String]",fc="[object Symbol]",mc="[object ArrayBuffer]",Tc="[object DataView]",St=At?At.prototype:void 0,Ke=St?St.valueOf:void 0;function hc(e,r,a,s,i,l,u){switch(a){case Tc:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case mc:return!(e.byteLength!=r.byteLength||!l(new Ot(e),new Ot(r)));case sc:case ic:case uc:return ec(+e,+r);case cc:return e.name==r.name&&e.message==r.message;case pc:case dc:return e==r+"";case lc:var p=rc;case yc:var d=s&ac;if(p||(p=nc),e.size!=r.size&&!d)return!1;var f=u.get(e);if(f)return f==r;s|=oc,u.set(e,r);var g=tc(p(e),p(r),s,i,l,u);return u.delete(e),g;case fc:if(Ke)return Ke.call(e)==Ke.call(r)}return!1}var gc=hc;function vc(e,r){for(var a=-1,s=r.length,i=e.length;++a<s;)e[i+a]=r[a];return e}var bc=vc,_c=bc,wc=V;function Jc(e,r,a){var s=r(e);return wc(e)?s:_c(s,a(e))}var Pc=Jc;function $c(e,r){for(var a=-1,s=e==null?0:e.length,i=0,l=[];++a<s;){var u=e[a];r(u,a,e)&&(l[i++]=u)}return l}var Ec=$c;function Ac(){return[]}var Oc=Ac,Sc=Ec,Nc=Oc,xc=Object.prototype,Ic=xc.propertyIsEnumerable,Nt=Object.getOwnPropertySymbols,Rc=Nt?function(e){return e==null?[]:(e=Object(e),Sc(Nt(e),function(r){return Ic.call(e,r)}))}:Nc,Cc=Rc,Fc=Pc,Lc=Cc,kc=et;function jc(e){return Fc(e,kc,Lc)}var Dc=jc,xt=Dc,Uc=1,Mc=Object.prototype,Kc=Mc.hasOwnProperty;function Vc(e,r,a,s,i,l){var u=a&Uc,p=xt(e),d=p.length,f=xt(r),g=f.length;if(d!=g&&!u)return!1;for(var $=d;$--;){var _=p[$];if(!(u?_ in r:Kc.call(r,_)))return!1}var N=l.get(e),A=l.get(r);if(N&&A)return N==r&&A==e;var v=!0;l.set(e,r),l.set(r,e);for(var I=u;++$<d;){_=p[$];var F=e[_],L=r[_];if(s)var le=u?s(L,F,_,r,e,l):s(F,L,_,e,r,l);if(!(le===void 0?F===L||i(F,L,a,s,l):le)){v=!1;break}I||(I=_=="constructor")}if(v&&!I){var Y=e.constructor,C=r.constructor;Y!=C&&"constructor"in e&&"constructor"in r&&!(typeof Y=="function"&&Y instanceof Y&&typeof C=="function"&&C instanceof C)&&(v=!1)}return l.delete(e),l.delete(r),v}var qc=Vc,Bc=H,Gc=K,Hc=Bc(Gc,"DataView"),Yc=Hc,Wc=H,zc=K,Xc=Wc(zc,"Promise"),Qc=Xc,Zc=H,el=K,tl=Zc(el,"Set"),rl=tl,nl=H,al=K,ol=nl(al,"WeakMap"),sl=ol,qe=Yc,Be=tt,Ge=Qc,He=rl,Ye=sl,or=_e,re=Wt,It="[object Map]",il="[object Object]",Rt="[object Promise]",Ct="[object Set]",Ft="[object WeakMap]",Lt="[object DataView]",cl=re(qe),ll=re(Be),ul=re(Ge),pl=re(He),yl=re(Ye),G=or;(qe&&G(new qe(new ArrayBuffer(1)))!=Lt||Be&&G(new Be)!=It||Ge&&G(Ge.resolve())!=Rt||He&&G(new He)!=Ct||Ye&&G(new Ye)!=Ft)&&(G=function(e){var r=or(e),a=r==il?e.constructor:void 0,s=a?re(a):"";if(s)switch(s){case cl:return Lt;case ll:return It;case ul:return Rt;case pl:return Ct;case yl:return Ft}return r});var dl=G,Ve=nr,fl=ar,ml=gc,Tl=qc,kt=dl,jt=V,Dt=Qt,hl=er,gl=1,Ut="[object Arguments]",Mt="[object Array]",he="[object Object]",vl=Object.prototype,Kt=vl.hasOwnProperty;function bl(e,r,a,s,i,l){var u=jt(e),p=jt(r),d=u?Mt:kt(e),f=p?Mt:kt(r);d=d==Ut?he:d,f=f==Ut?he:f;var g=d==he,$=f==he,_=d==f;if(_&&Dt(e)){if(!Dt(r))return!1;u=!0,g=!1}if(_&&!g)return l||(l=new Ve),u||hl(e)?fl(e,r,a,s,i,l):ml(e,r,d,a,s,i,l);if(!(a&gl)){var N=g&&Kt.call(e,"__wrapped__"),A=$&&Kt.call(r,"__wrapped__");if(N||A){var v=N?e.value():e,I=A?r.value():r;return l||(l=new Ve),i(v,I,a,s,l)}}return _?(l||(l=new Ve),Tl(e,r,a,s,i,l)):!1}var _l=bl,wl=_l,Vt=we;function sr(e,r,a,s,i){return e===r?!0:e==null||r==null||!Vt(e)&&!Vt(r)?e!==e&&r!==r:wl(e,r,a,s,sr,i)}var ir=sr,Jl=nr,Pl=ir,$l=1,El=2;function Al(e,r,a,s){var i=a.length,l=i,u=!s;if(e==null)return!l;for(e=Object(e);i--;){var p=a[i];if(u&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++i<l;){p=a[i];var d=p[0],f=e[d],g=p[1];if(u&&p[2]){if(f===void 0&&!(d in e))return!1}else{var $=new Jl;if(s)var _=s(f,g,d,e,r,$);if(!(_===void 0?Pl(g,f,$l|El,s,$):_))return!1}}return!0}var Ol=Al,Sl=ze;function Nl(e){return e===e&&!Sl(e)}var cr=Nl,xl=cr,Il=et;function Rl(e){for(var r=Il(e),a=r.length;a--;){var s=r[a],i=e[s];r[a]=[s,i,xl(i)]}return r}var Cl=Rl;function Fl(e,r){return function(a){return a==null?!1:a[e]===r&&(r!==void 0||e in Object(a))}}var lr=Fl,Ll=Ol,kl=Cl,jl=lr;function Dl(e){var r=kl(e);return r.length==1&&r[0][2]?jl(r[0][0],r[0][1]):function(a){return a===e||Ll(a,e,r)}}var Ul=Dl,Ml=V,Kl=Xe,Vl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ql=/^\w*$/;function Bl(e,r){if(Ml(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||Kl(e)?!0:ql.test(e)||!Vl.test(e)||r!=null&&e in Object(r)}var nt=Bl,ur=rt,Gl="Expected a function";function at(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Gl);var a=function(){var s=arguments,i=r?r.apply(this,s):s[0],l=a.cache;if(l.has(i))return l.get(i);var u=e.apply(this,s);return a.cache=l.set(i,u)||l,u};return a.cache=new(at.Cache||ur),a}at.Cache=ur;var Hl=at,Yl=Hl,Wl=500;function zl(e){var r=Yl(e,function(s){return a.size===Wl&&a.clear(),s}),a=r.cache;return r}var Xl=zl,Ql=Xl,Zl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eu=/\\(\\)?/g,tu=Ql(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Zl,function(a,s,i,l){r.push(i?l.replace(eu,"$1"):s||a)}),r}),ru=tu;function nu(e,r){for(var a=-1,s=e==null?0:e.length,i=Array(s);++a<s;)i[a]=r(e[a],a,e);return i}var au=nu,qt=Yt,ou=au,su=V,iu=Xe,cu=1/0,Bt=qt?qt.prototype:void 0,Gt=Bt?Bt.toString:void 0;function pr(e){if(typeof e=="string")return e;if(su(e))return ou(e,pr)+"";if(iu(e))return Gt?Gt.call(e):"";var r=e+"";return r=="0"&&1/e==-cu?"-0":r}var lu=pr,uu=lu;function pu(e){return e==null?"":uu(e)}var yu=pu,du=V,fu=nt,mu=ru,Tu=yu;function hu(e,r){return du(e)?e:fu(e,r)?[e]:mu(Tu(e))}var yr=hu,gu=Xe,vu=1/0;function bu(e){if(typeof e=="string"||gu(e))return e;var r=e+"";return r=="0"&&1/e==-vu?"-0":r}var Ae=bu,_u=yr,wu=Ae;function Ju(e,r){r=_u(r,e);for(var a=0,s=r.length;e!=null&&a<s;)e=e[wu(r[a++])];return a&&a==s?e:void 0}var dr=Ju,Pu=dr;function $u(e,r,a){var s=e==null?void 0:Pu(e,r);return s===void 0?a:s}var Eu=$u;function Au(e,r){return e!=null&&r in Object(e)}var Ou=Au,Su=yr,Nu=Xt,xu=V,Iu=Zt,Ru=Ze,Cu=Ae;function Fu(e,r,a){r=Su(r,e);for(var s=-1,i=r.length,l=!1;++s<i;){var u=Cu(r[s]);if(!(l=e!=null&&a(e,u)))break;e=e[u]}return l||++s!=i?l:(i=e==null?0:e.length,!!i&&Ru(i)&&Iu(u,i)&&(xu(e)||Nu(e)))}var Lu=Fu,ku=Ou,ju=Lu;function Du(e,r){return e!=null&&ju(e,r,ku)}var Uu=Du,Mu=ir,Ku=Eu,Vu=Uu,qu=nt,Bu=cr,Gu=lr,Hu=Ae,Yu=1,Wu=2;function zu(e,r){return qu(e)&&Bu(r)?Gu(Hu(e),r):function(a){var s=Ku(a,e);return s===void 0&&s===r?Vu(a,e):Mu(r,s,Yu|Wu)}}var Xu=zu;function Qu(e){return e}var Zu=Qu;function ep(e){return function(r){return r==null?void 0:r[e]}}var tp=ep,rp=dr;function np(e){return function(r){return rp(r,e)}}var ap=np,op=tp,sp=ap,ip=nt,cp=Ae;function lp(e){return ip(e)?op(cp(e)):sp(e)}var up=lp,pp=Ul,yp=Xu,dp=Zu,fp=V,mp=up;function Tp(e){return typeof e=="function"?e:e==null?dp:typeof e=="object"?fp(e)?yp(e[0],e[1]):pp(e):mp(e)}var hp=Tp,gp=Yn,vp=Fo,bp=hp;function _p(e,r){var a={};return r=bp(r),vp(e,function(s,i,l){gp(a,i,r(s,i,l))}),a}var wp=_p;const Jp=Ht(wp);var M;(function(e){e.start="/**",e.nostart="/***",e.delim="*",e.end="*/"})(M=M||(M={}));function Pp(e){return/^\s+$/.test(e)}function $p(e){const r=e.match(/\r+$/);return r==null?["",e]:[e.slice(-r[0].length),e.slice(0,-r[0].length)]}function X(e){const r=e.match(/^\s+/);return r==null?["",e]:[e.slice(0,r[0].length),e.slice(r[0].length)]}function Ep(e){return e.split(/\n/)}function Ap(e={}){return Object.assign({tag:"",name:"",type:"",optional:!1,description:"",problems:[],source:[]},e)}function Op(e={}){return Object.assign({start:"",delimiter:"",postDelimiter:"",tag:"",postTag:"",name:"",postName:"",type:"",postType:"",description:"",end:"",lineEnd:""},e)}const Sp=/^@\S+/;function Np({fence:e="```"}={}){const r=xp(e),a=(s,i)=>r(s)?!i:i;return function(i){const l=[[]];let u=!1;for(const p of i)Sp.test(p.tokens.description)&&!u?l.push([p]):l[l.length-1].push(p),u=a(p.tokens.description,u);return l}}function xp(e){return typeof e=="string"?r=>r.split(e).length%2===0:e}function Ip({startLine:e=0,markers:r=M}={}){let a=null,s=e;return function(l){let u=l;const p=Op();if([p.lineEnd,u]=$p(u),[p.start,u]=X(u),a===null&&u.startsWith(r.start)&&!u.startsWith(r.nostart)&&(a=[],p.delimiter=u.slice(0,r.start.length),u=u.slice(r.start.length),[p.postDelimiter,u]=X(u)),a===null)return s++,null;const d=u.trimRight().endsWith(r.end);if(p.delimiter===""&&u.startsWith(r.delim)&&!u.startsWith(r.end)&&(p.delimiter=r.delim,u=u.slice(r.delim.length),[p.postDelimiter,u]=X(u)),d){const f=u.trimRight();p.end=u.slice(f.length-r.end.length),u=f.slice(0,-r.end.length)}if(p.description=u,a.push({number:s,source:l,tokens:p}),s++,d){const f=a.slice();return a=null,f}return null}}function Rp({tokenizers:e}){return function(a){var s;let i=Ap({source:a});for(const l of e)if(i=l(i),!((s=i.problems[i.problems.length-1])===null||s===void 0)&&s.critical)break;return i}}function Cp(){return e=>{const{tokens:r}=e.source[0],a=r.description.match(/\s*(@(\S+))(\s*)/);return a===null?(e.problems.push({code:"spec:tag:prefix",message:'tag should start with "@" symbol',line:e.source[0].number,critical:!0}),e):(r.tag=a[1],r.postTag=a[3],r.description=r.description.slice(a[0].length),e.tag=a[2],e)}}function Fp(e="compact"){const r=kp(e);return a=>{let s=0,i=[];for(const[p,{tokens:d}]of a.source.entries()){let f="";if(p===0&&d.description[0]!=="{")return a;for(const g of d.description)if(g==="{"&&s++,g==="}"&&s--,f+=g,s===0)break;if(i.push([d,f]),s===0)break}if(s!==0)return a.problems.push({code:"spec:type:unpaired-curlies",message:"unpaired curlies",line:a.source[0].number,critical:!0}),a;const l=[],u=i[0][0].postDelimiter.length;for(const[p,[d,f]]of i.entries())d.type=f,p>0&&(d.type=d.postDelimiter.slice(u)+f,d.postDelimiter=d.postDelimiter.slice(0,u)),[d.postType,d.description]=X(d.description.slice(f.length)),l.push(d.type);return l[0]=l[0].slice(1),l[l.length-1]=l[l.length-1].slice(0,-1),a.type=r(l),a}}const Lp=e=>e.trim();function kp(e){return e==="compact"?r=>r.map(Lp).join(""):e==="preserve"?r=>r.join(`
`):e}const jp=e=>e&&e.startsWith('"')&&e.endsWith('"');function Dp(){const e=(r,{tokens:a},s)=>a.type===""?r:s;return r=>{const{tokens:a}=r.source[r.source.reduce(e,0)],s=a.description.trimLeft(),i=s.split('"');if(i.length>1&&i[0]===""&&i.length%2===1)return r.name=i[1],a.name=`"${i[1]}"`,[a.postName,a.description]=X(s.slice(a.name.length)),r;let l=0,u="",p=!1,d;for(const g of s){if(l===0&&Pp(g))break;g==="["&&l++,g==="]"&&l--,u+=g}if(l!==0)return r.problems.push({code:"spec:name:unpaired-brackets",message:"unpaired brackets",line:r.source[0].number,critical:!0}),r;const f=u;if(u[0]==="["&&u[u.length-1]==="]"){p=!0,u=u.slice(1,-1);const g=u.split("=");if(u=g[0].trim(),g[1]!==void 0&&(d=g.slice(1).join("=").trim()),u==="")return r.problems.push({code:"spec:name:empty-name",message:"empty name",line:r.source[0].number,critical:!0}),r;if(d==="")return r.problems.push({code:"spec:name:empty-default",message:"empty default value",line:r.source[0].number,critical:!0}),r;if(!jp(d)&&/=(?!>)/.test(d))return r.problems.push({code:"spec:name:invalid-default",message:"invalid default value syntax",line:r.source[0].number,critical:!0}),r}return r.optional=p,r.name=u,a.name=f,d!==void 0&&(r.default=d),[a.postName,a.description]=X(s.slice(a.name.length)),r}}function Up(e="compact",r=M){const a=fr(e);return s=>(s.description=a(s.source,r),s)}function fr(e){return e==="compact"?Mp:e==="preserve"?qp:e}function Mp(e,r=M){return e.map(({tokens:{description:a}})=>a.trim()).filter(a=>a!=="").join(" ")}const Kp=(e,{tokens:r},a)=>r.type===""?e:a,Vp=({tokens:e})=>(e.delimiter===""?e.start:e.postDelimiter.slice(1))+e.description;function qp(e,r=M){if(e.length===0)return"";e[0].tokens.description===""&&e[0].tokens.delimiter===r.start&&(e=e.slice(1));const a=e[e.length-1];return a!==void 0&&a.tokens.description===""&&a.tokens.end.endsWith(r.end)&&(e=e.slice(0,-1)),e=e.slice(e.reduce(Kp,0)),e.map(Vp).join(`
`)}function Bp({startLine:e=0,fence:r="```",spacing:a="compact",markers:s=M,tokenizers:i=[Cp(),Fp(a),Dp(),Up(a)]}={}){if(e<0||e%1>0)throw new Error("Invalid startLine");const l=Ip({startLine:e,markers:s}),u=Np({fence:r}),p=Rp({tokenizers:i}),d=fr(a);return function(f){const g=[];for(const $ of Ep(f)){const _=l($);if(_===null)continue;const N=u(_),A=N.slice(1).map(p);g.push({description:d(N[0],s),tags:A,source:_,problems:A.reduce((v,I)=>v.concat(I.problems),[])})}return g}}globalThis&&globalThis.__rest;globalThis&&globalThis.__rest;globalThis&&globalThis.__rest;function Gp(e,r={}){return Bp(r)(e)}var We={exports:{}};(function(e,r){(function(a,s){s(r)})(ln,function(a){function s(t){return t.text!==void 0&&t.text!==""?`'${t.type}' with value '${t.text}'`:`'${t.type}'`}class i extends Error{constructor(n){super(`No parslet found for token: ${s(n)}`),this.token=n,Object.setPrototypeOf(this,i.prototype)}getToken(){return this.token}}class l extends Error{constructor(n){super(`The parsing ended early. The next token was: ${s(n)}`),this.token=n,Object.setPrototypeOf(this,l.prototype)}getToken(){return this.token}}class u extends Error{constructor(n,o){let c=`Unexpected type: '${n.type}'.`;o!==void 0&&(c+=` Message: ${o}`),super(c),Object.setPrototypeOf(this,u.prototype)}}function p(t){return n=>n.startsWith(t)?{type:t,text:t}:null}function d(t){let n=0,o;const c=t[0];let y=!1;if(c!=="'"&&c!=='"')return null;for(;n<t.length;){if(n++,o=t[n],!y&&o===c){n++;break}y=!y&&o==="\\"}if(o!==c)throw new Error("Unterminated String");return t.slice(0,n)}const f=/[$_\p{ID_Start}]|\\u\p{Hex_Digit}{4}|\\u\{0*(?:\p{Hex_Digit}{1,5}|10\p{Hex_Digit}{4})\}/u,g=/[$\-\p{ID_Continue}\u200C\u200D]|\\u\p{Hex_Digit}{4}|\\u\{0*(?:\p{Hex_Digit}{1,5}|10\p{Hex_Digit}{4})\}/u;function $(t){let n=t[0];if(!f.test(n))return null;let o=1;do{if(n=t[o],!g.test(n))break;o++}while(o<t.length);return t.slice(0,o)}const _=/^(NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity))/;function N(t){var n,o;return(o=(n=_.exec(t))===null||n===void 0?void 0:n[0])!==null&&o!==void 0?o:null}const A=t=>{const n=$(t);return n==null?null:{type:"Identifier",text:n}};function v(t){return n=>{if(!n.startsWith(t))return null;const o=n[t.length];return o!==void 0&&g.test(o)?null:{type:t,text:t}}}const I=t=>{const n=d(t);return n==null?null:{type:"StringValue",text:n}},F=t=>t.length>0?null:{type:"EOF",text:""},L=t=>{const n=N(t);return n===null?null:{type:"Number",text:n}},le=[F,p("=>"),p("("),p(")"),p("{"),p("}"),p("["),p("]"),p("|"),p("&"),p("<"),p(">"),p(","),p(";"),p("*"),p("?"),p("!"),p("="),p(":"),p("..."),p("."),p("#"),p("~"),p("/"),p("@"),v("undefined"),v("null"),v("function"),v("this"),v("new"),v("module"),v("event"),v("external"),v("typeof"),v("keyof"),v("readonly"),v("import"),v("is"),v("in"),L,A,I],Y=/^\s*\n\s*/;class C{static create(n){const o=this.read(n);n=o.text;const c=this.read(n);return n=c.text,new C(n,void 0,o.token,c.token)}constructor(n,o,c,y){this.text="",this.text=n,this.previous=o,this.current=c,this.next=y}static read(n,o=!1){o=o||Y.test(n),n=n.trim();for(const c of le){const y=c(n);if(y!==null){const m=Object.assign(Object.assign({},y),{startOfLine:o});return n=n.slice(m.text.length),{text:n,token:m}}}throw new Error("Unexpected Token "+n)}advance(){const n=C.read(this.text);return new C(n.text,this.current,this.next,n.token)}}function P(t){if(t===void 0)throw new Error("Unexpected undefined");if(t.type==="JsdocTypeKeyValue"||t.type==="JsdocTypeParameterList"||t.type==="JsdocTypeProperty"||t.type==="JsdocTypeReadonlyProperty"||t.type==="JsdocTypeObjectField"||t.type==="JsdocTypeJsdocObjectField"||t.type==="JsdocTypeIndexSignature"||t.type==="JsdocTypeMappedType")throw new u(t);return t}function Se(t){return t.type==="JsdocTypeKeyValue"?ue(t):P(t)}function Sr(t){return t.type==="JsdocTypeName"?t:ue(t)}function ue(t){if(t.type!=="JsdocTypeKeyValue")throw new u(t);return t}function Nr(t){var n;if(t.type==="JsdocTypeVariadic"){if(((n=t.element)===null||n===void 0?void 0:n.type)==="JsdocTypeName")return t;throw new u(t)}if(t.type!=="JsdocTypeNumber"&&t.type!=="JsdocTypeName")throw new u(t);return t}function Ne(t){return t.type==="JsdocTypeIndexSignature"||t.type==="JsdocTypeMappedType"}var T;(function(t){t[t.ALL=0]="ALL",t[t.PARAMETER_LIST=1]="PARAMETER_LIST",t[t.OBJECT=2]="OBJECT",t[t.KEY_VALUE=3]="KEY_VALUE",t[t.UNION=4]="UNION",t[t.INTERSECTION=5]="INTERSECTION",t[t.PREFIX=6]="PREFIX",t[t.INFIX=7]="INFIX",t[t.TUPLE=8]="TUPLE",t[t.SYMBOL=9]="SYMBOL",t[t.OPTIONAL=10]="OPTIONAL",t[t.NULLABLE=11]="NULLABLE",t[t.KEY_OF_TYPE_OF=12]="KEY_OF_TYPE_OF",t[t.FUNCTION=13]="FUNCTION",t[t.ARROW=14]="ARROW",t[t.ARRAY_BRACKETS=15]="ARRAY_BRACKETS",t[t.GENERIC=16]="GENERIC",t[t.NAME_PATH=17]="NAME_PATH",t[t.PARENTHESIS=18]="PARENTHESIS",t[t.SPECIAL_TYPES=19]="SPECIAL_TYPES"})(T||(T={}));class W{constructor(n,o,c){this.grammar=n,typeof o=="string"?this._lexer=C.create(o):this._lexer=o,this.baseParser=c}get lexer(){return this._lexer}parse(){const n=this.parseType(T.ALL);if(this.lexer.current.type!=="EOF")throw new l(this.lexer.current);return n}parseType(n){return P(this.parseIntermediateType(n))}parseIntermediateType(n){const o=this.tryParslets(null,n);if(o===null)throw new i(this.lexer.current);return this.parseInfixIntermediateType(o,n)}parseInfixIntermediateType(n,o){let c=this.tryParslets(n,o);for(;c!==null;)n=c,c=this.tryParslets(n,o);return n}tryParslets(n,o){for(const c of this.grammar){const y=c(this,o,n);if(y!==null)return y}return null}consume(n){return Array.isArray(n)||(n=[n]),n.includes(this.lexer.current.type)?(this._lexer=this.lexer.advance(),!0):!1}acceptLexerState(n){this._lexer=n.lexer}}function ct(t){return t==="EOF"||t==="|"||t===","||t===")"||t===">"}const xe=(t,n,o)=>{const c=t.lexer.current.type,y=t.lexer.next.type;return o==null&&c==="?"&&!ct(y)||o!=null&&c==="?"?(t.consume("?"),o==null?{type:"JsdocTypeNullable",element:t.parseType(T.NULLABLE),meta:{position:"prefix"}}:{type:"JsdocTypeNullable",element:P(o),meta:{position:"suffix"}}):null};function b(t){const n=(o,c,y)=>{const m=o.lexer.current.type,h=o.lexer.next.type;if(y===null){if("parsePrefix"in t&&t.accept(m,h))return t.parsePrefix(o)}else if("parseInfix"in t&&t.precedence>c&&t.accept(m,h))return t.parseInfix(o,y);return null};return Object.defineProperty(n,"name",{value:t.name}),n}const pe=b({name:"optionalParslet",accept:t=>t==="=",precedence:T.OPTIONAL,parsePrefix:t=>(t.consume("="),{type:"JsdocTypeOptional",element:t.parseType(T.OPTIONAL),meta:{position:"prefix"}}),parseInfix:(t,n)=>(t.consume("="),{type:"JsdocTypeOptional",element:P(n),meta:{position:"suffix"}})}),ye=b({name:"numberParslet",accept:t=>t==="Number",parsePrefix:t=>{const n=parseFloat(t.lexer.current.text);return t.consume("Number"),{type:"JsdocTypeNumber",value:n}}}),xr=b({name:"parenthesisParslet",accept:t=>t==="(",parsePrefix:t=>{if(t.consume("("),t.consume(")"))return{type:"JsdocTypeParameterList",elements:[]};const n=t.parseIntermediateType(T.ALL);if(!t.consume(")"))throw new Error("Unterminated parenthesis");return n.type==="JsdocTypeParameterList"?n:n.type==="JsdocTypeKeyValue"?{type:"JsdocTypeParameterList",elements:[n]}:{type:"JsdocTypeParenthesis",element:P(n)}}}),Ir=b({name:"specialTypesParslet",accept:(t,n)=>t==="?"&&ct(n)||t==="null"||t==="undefined"||t==="*",parsePrefix:t=>{if(t.consume("null"))return{type:"JsdocTypeNull"};if(t.consume("undefined"))return{type:"JsdocTypeUndefined"};if(t.consume("*"))return{type:"JsdocTypeAny"};if(t.consume("?"))return{type:"JsdocTypeUnknown"};throw new Error("Unacceptable token: "+t.lexer.current.text)}}),Rr=b({name:"notNullableParslet",accept:t=>t==="!",precedence:T.NULLABLE,parsePrefix:t=>(t.consume("!"),{type:"JsdocTypeNotNullable",element:t.parseType(T.NULLABLE),meta:{position:"prefix"}}),parseInfix:(t,n)=>(t.consume("!"),{type:"JsdocTypeNotNullable",element:P(n),meta:{position:"suffix"}})});function Cr({allowTrailingComma:t}){return b({name:"parameterListParslet",accept:n=>n===",",precedence:T.PARAMETER_LIST,parseInfix:(n,o)=>{const c=[Se(o)];n.consume(",");do try{const y=n.parseIntermediateType(T.PARAMETER_LIST);c.push(Se(y))}catch(y){if(t&&y instanceof i)break;throw y}while(n.consume(","));if(c.length>0&&c.slice(0,-1).some(y=>y.type==="JsdocTypeVariadic"))throw new Error("Only the last parameter may be a rest parameter");return{type:"JsdocTypeParameterList",elements:c}}})}const Fr=b({name:"genericParslet",accept:(t,n)=>t==="<"||t==="."&&n==="<",precedence:T.GENERIC,parseInfix:(t,n)=>{const o=t.consume(".");t.consume("<");const c=[];do c.push(t.parseType(T.PARAMETER_LIST));while(t.consume(","));if(!t.consume(">"))throw new Error("Unterminated generic parameter list");return{type:"JsdocTypeGeneric",left:P(n),elements:c,meta:{brackets:"angle",dot:o}}}}),Lr=b({name:"unionParslet",accept:t=>t==="|",precedence:T.UNION,parseInfix:(t,n)=>{t.consume("|");const o=[];do o.push(t.parseType(T.UNION));while(t.consume("|"));return{type:"JsdocTypeUnion",elements:[P(n),...o]}}}),Ie=[xe,pe,ye,xr,Ir,Rr,Cr({allowTrailingComma:!0}),Fr,Lr,pe];function de({allowSquareBracketsOnAnyType:t,allowJsdocNamePaths:n,pathGrammar:o}){return function(y,m,h){if(h==null||m>=T.NAME_PATH)return null;const w=y.lexer.current.type,S=y.lexer.next.type;if(!(w==="."&&S!=="<"||w==="["&&(t||h.type==="JsdocTypeName")||n&&(w==="~"||w==="#")))return null;let R,Te=!1;y.consume(".")?R="property":y.consume("[")?(R="property-brackets",Te=!0):y.consume("~")?R="inner":(y.consume("#"),R="instance");const gt=o!==null?new W(o,y.lexer,y):y,k=gt.parseIntermediateType(T.NAME_PATH);y.acceptLexerState(gt);let oe;switch(k.type){case"JsdocTypeName":oe={type:"JsdocTypeProperty",value:k.value,meta:{quote:void 0}};break;case"JsdocTypeNumber":oe={type:"JsdocTypeProperty",value:k.value.toString(10),meta:{quote:void 0}};break;case"JsdocTypeStringValue":oe={type:"JsdocTypeProperty",value:k.value,meta:{quote:k.meta.quote}};break;case"JsdocTypeSpecialNamePath":if(k.specialType==="event")oe=k;else throw new u(k,"Type 'JsdocTypeSpecialNamePath' is only allowed with specialType 'event'");break;default:throw new u(k,"Expecting 'JsdocTypeName', 'JsdocTypeNumber', 'JsdocStringValue' or 'JsdocTypeSpecialNamePath'")}if(Te&&!y.consume("]")){const vt=y.lexer.current;throw new Error(`Unterminated square brackets. Next token is '${vt.type}' with text '${vt.text}'`)}return{type:"JsdocTypeNamePath",left:P(h),right:oe,pathType:R}}}function j({allowedAdditionalTokens:t}){return b({name:"nameParslet",accept:n=>n==="Identifier"||n==="this"||n==="new"||t.includes(n),parsePrefix:n=>{const{type:o,text:c}=n.lexer.current;return n.consume(o),{type:"JsdocTypeName",value:c}}})}const ne=b({name:"stringValueParslet",accept:t=>t==="StringValue",parsePrefix:t=>{const n=t.lexer.current.text;return t.consume("StringValue"),{type:"JsdocTypeStringValue",value:n.slice(1,-1),meta:{quote:n[0]==="'"?"single":"double"}}}});function fe({pathGrammar:t,allowedTypes:n}){return b({name:"specialNamePathParslet",accept:o=>n.includes(o),parsePrefix:o=>{const c=o.lexer.current.type;if(o.consume(c),!o.consume(":"))return{type:"JsdocTypeName",value:c};let y,m=o.lexer.current;if(o.consume("StringValue"))y={type:"JsdocTypeSpecialNamePath",value:m.text.slice(1,-1),specialType:c,meta:{quote:m.text[0]==="'"?"single":"double"}};else{let S="";const O=["Identifier","@","/"];for(;O.some(R=>o.consume(R));)S+=m.text,m=o.lexer.current;y={type:"JsdocTypeSpecialNamePath",value:S,specialType:c,meta:{quote:void 0}}}const h=new W(t,o.lexer,o),w=h.parseInfixIntermediateType(y,T.ALL);return o.acceptLexerState(h),P(w)}})}const lt=[j({allowedAdditionalTokens:["external","module"]}),ne,ye,de({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:null})],z=[...lt,fe({allowedTypes:["event"],pathGrammar:lt})];function Re(t){let n;if(t.type==="JsdocTypeParameterList")n=t.elements;else if(t.type==="JsdocTypeParenthesis")n=[t.element];else throw new u(t);return n.map(o=>Se(o))}function kr(t){const n=Re(t);if(n.some(o=>o.type==="JsdocTypeKeyValue"))throw new Error("No parameter should be named");return n}function Ce({allowNamedParameters:t,allowNoReturnType:n,allowWithoutParenthesis:o,allowNewAsFunctionKeyword:c}){return b({name:"functionParslet",accept:(y,m)=>y==="function"||c&&y==="new"&&m==="(",parsePrefix:y=>{const m=y.consume("new");y.consume("function");const h=y.lexer.current.type==="(";if(!h){if(!o)throw new Error("function is missing parameter list");return{type:"JsdocTypeName",value:"function"}}let w={type:"JsdocTypeFunction",parameters:[],arrow:!1,constructor:m,parenthesis:h};const S=y.parseIntermediateType(T.FUNCTION);if(t===void 0)w.parameters=kr(S);else{if(m&&S.type==="JsdocTypeFunction"&&S.arrow)return w=S,w.constructor=!0,w;w.parameters=Re(S);for(const O of w.parameters)if(O.type==="JsdocTypeKeyValue"&&!t.includes(O.key))throw new Error(`only allowed named parameters are ${t.join(", ")} but got ${O.type}`)}if(y.consume(":"))w.returnType=y.parseType(T.PREFIX);else if(!n)throw new Error("function is missing return type");return w}})}function Fe({allowPostfix:t,allowEnclosingBrackets:n}){return b({name:"variadicParslet",accept:o=>o==="...",precedence:T.PREFIX,parsePrefix:o=>{o.consume("...");const c=n&&o.consume("[");try{const y=o.parseType(T.PREFIX);if(c&&!o.consume("]"))throw new Error("Unterminated variadic type. Missing ']'");return{type:"JsdocTypeVariadic",element:P(y),meta:{position:"prefix",squareBrackets:c}}}catch(y){if(y instanceof i){if(c)throw new Error("Empty square brackets for variadic are not allowed.");return{type:"JsdocTypeVariadic",meta:{position:void 0,squareBrackets:!1}}}else throw y}},parseInfix:t?(o,c)=>(o.consume("..."),{type:"JsdocTypeVariadic",element:P(c),meta:{position:"suffix",squareBrackets:!1}}):void 0})}const ut=b({name:"symbolParslet",accept:t=>t==="(",precedence:T.SYMBOL,parseInfix:(t,n)=>{if(n.type!=="JsdocTypeName")throw new Error("Symbol expects a name on the left side. (Reacting on '(')");t.consume("(");const o={type:"JsdocTypeSymbol",value:n.value};if(!t.consume(")")){const c=t.parseIntermediateType(T.SYMBOL);if(o.element=Nr(c),!t.consume(")"))throw new Error("Symbol does not end after value")}return o}}),pt=b({name:"arrayBracketsParslet",precedence:T.ARRAY_BRACKETS,accept:(t,n)=>t==="["&&n==="]",parseInfix:(t,n)=>(t.consume("["),t.consume("]"),{type:"JsdocTypeGeneric",left:{type:"JsdocTypeName",value:"Array"},elements:[P(n)],meta:{brackets:"square",dot:!1}})});function Le({objectFieldGrammar:t,allowKeyTypes:n}){return b({name:"objectParslet",accept:o=>o==="{",parsePrefix:o=>{o.consume("{");const c={type:"JsdocTypeObject",meta:{separator:"comma"},elements:[]};if(!o.consume("}")){let y;const m=new W(t,o.lexer,o);for(;;){m.acceptLexerState(o);let h=m.parseIntermediateType(T.OBJECT);o.acceptLexerState(m),h===void 0&&n&&(h=o.parseIntermediateType(T.OBJECT));let w=!1;if(h.type==="JsdocTypeNullable"&&(w=!0,h=h.element),h.type==="JsdocTypeNumber"||h.type==="JsdocTypeName"||h.type==="JsdocTypeStringValue"){let O;h.type==="JsdocTypeStringValue"&&(O=h.meta.quote),c.elements.push({type:"JsdocTypeObjectField",key:h.value.toString(),right:void 0,optional:w,readonly:!1,meta:{quote:O}})}else if(h.type==="JsdocTypeObjectField"||h.type==="JsdocTypeJsdocObjectField")c.elements.push(h);else throw new u(h);if(o.lexer.current.startOfLine)y="linebreak";else if(o.consume(","))y="comma";else if(o.consume(";"))y="semicolon";else break;if(o.lexer.current.type==="}")break}if(c.meta.separator=y??"comma",!o.consume("}"))throw new Error("Unterminated record type. Missing '}'")}return c}})}function ke({allowSquaredProperties:t,allowKeyTypes:n,allowReadonly:o,allowOptional:c}){return b({name:"objectFieldParslet",precedence:T.KEY_VALUE,accept:y=>y===":",parseInfix:(y,m)=>{var h;let w=!1,S=!1;c&&m.type==="JsdocTypeNullable"&&(w=!0,m=m.element),o&&m.type==="JsdocTypeReadonlyProperty"&&(S=!0,m=m.element);const O=(h=y.baseParser)!==null&&h!==void 0?h:y;if(O.acceptLexerState(y),m.type==="JsdocTypeNumber"||m.type==="JsdocTypeName"||m.type==="JsdocTypeStringValue"||Ne(m)){if(Ne(m)&&!t)throw new u(m);O.consume(":");let R;m.type==="JsdocTypeStringValue"&&(R=m.meta.quote);const Te=O.parseType(T.KEY_VALUE);return y.acceptLexerState(O),{type:"JsdocTypeObjectField",key:Ne(m)?m:m.value.toString(),right:Te,optional:w,readonly:S,meta:{quote:R}}}else{if(!n)throw new u(m);O.consume(":");const R=O.parseType(T.KEY_VALUE);return y.acceptLexerState(O),{type:"JsdocTypeJsdocObjectField",left:P(m),right:R}}}})}function je({allowOptional:t,allowVariadic:n}){return b({name:"keyValueParslet",precedence:T.KEY_VALUE,accept:o=>o===":",parseInfix:(o,c)=>{let y=!1,m=!1;if(t&&c.type==="JsdocTypeNullable"&&(y=!0,c=c.element),n&&c.type==="JsdocTypeVariadic"&&c.element!==void 0&&(m=!0,c=c.element),c.type!=="JsdocTypeName")throw new u(c);o.consume(":");const h=o.parseType(T.KEY_VALUE);return{type:"JsdocTypeKeyValue",key:c.value,right:h,optional:y,variadic:m}}})}const yt=[...Ie,Ce({allowWithoutParenthesis:!0,allowNamedParameters:["this","new"],allowNoReturnType:!0,allowNewAsFunctionKeyword:!1}),ne,fe({allowedTypes:["module","external","event"],pathGrammar:z}),Fe({allowEnclosingBrackets:!0,allowPostfix:!0}),j({allowedAdditionalTokens:["keyof"]}),ut,pt,de({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:z})],jr=[...yt,Le({objectFieldGrammar:[j({allowedAdditionalTokens:["module","in"]}),ke({allowSquaredProperties:!1,allowKeyTypes:!0,allowOptional:!1,allowReadonly:!1}),...yt],allowKeyTypes:!0}),je({allowOptional:!0,allowVariadic:!0})],dt=b({name:"typeOfParslet",accept:t=>t==="typeof",parsePrefix:t=>(t.consume("typeof"),{type:"JsdocTypeTypeof",element:P(t.parseType(T.KEY_OF_TYPE_OF))})}),Dr=[j({allowedAdditionalTokens:["module","keyof","event","external","in"]}),xe,pe,ne,ye,ke({allowSquaredProperties:!1,allowKeyTypes:!1,allowOptional:!1,allowReadonly:!1})],Ur=[...Ie,Le({allowKeyTypes:!1,objectFieldGrammar:Dr}),j({allowedAdditionalTokens:["event","external","in"]}),dt,Ce({allowWithoutParenthesis:!1,allowNamedParameters:["this","new"],allowNoReturnType:!0,allowNewAsFunctionKeyword:!1}),Fe({allowEnclosingBrackets:!1,allowPostfix:!1}),j({allowedAdditionalTokens:["keyof"]}),fe({allowedTypes:["module"],pathGrammar:z}),de({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:z}),je({allowOptional:!1,allowVariadic:!1}),ut];function Mr({allowQuestionMark:t}){return b({name:"tupleParslet",accept:n=>n==="[",parsePrefix:n=>{n.consume("[");const o={type:"JsdocTypeTuple",elements:[]};if(n.consume("]"))return o;const c=n.parseIntermediateType(T.ALL);if(c.type==="JsdocTypeParameterList"?c.elements[0].type==="JsdocTypeKeyValue"?o.elements=c.elements.map(ue):o.elements=c.elements.map(P):c.type==="JsdocTypeKeyValue"?o.elements=[ue(c)]:o.elements=[P(c)],!n.consume("]"))throw new Error("Unterminated '['");if(!t&&o.elements.some(y=>y.type==="JsdocTypeUnknown"))throw new Error("Question mark in tuple not allowed");return o}})}const Kr=b({name:"keyOfParslet",accept:t=>t==="keyof",parsePrefix:t=>(t.consume("keyof"),{type:"JsdocTypeKeyof",element:P(t.parseType(T.KEY_OF_TYPE_OF))})}),Vr=b({name:"importParslet",accept:t=>t==="import",parsePrefix:t=>{if(t.consume("import"),!t.consume("("))throw new Error("Missing parenthesis after import keyword");const n=t.parseType(T.PREFIX);if(n.type!=="JsdocTypeStringValue")throw new Error("Only string values are allowed as paths for imports");if(!t.consume(")"))throw new Error("Missing closing parenthesis after import keyword");return{type:"JsdocTypeImport",element:n}}}),qr=b({name:"readonlyPropertyParslet",accept:t=>t==="readonly",parsePrefix:t=>(t.consume("readonly"),{type:"JsdocTypeReadonlyProperty",element:t.parseType(T.KEY_VALUE)})}),Br=b({name:"arrowFunctionParslet",precedence:T.ARROW,accept:t=>t==="=>",parseInfix:(t,n)=>(t.consume("=>"),{type:"JsdocTypeFunction",parameters:Re(n).map(Sr),arrow:!0,constructor:!1,parenthesis:!0,returnType:t.parseType(T.OBJECT)})}),Gr=b({name:"intersectionParslet",accept:t=>t==="&",precedence:T.INTERSECTION,parseInfix:(t,n)=>{t.consume("&");const o=[];do o.push(t.parseType(T.INTERSECTION));while(t.consume("&"));return{type:"JsdocTypeIntersection",elements:[P(n),...o]}}}),Hr=b({name:"predicateParslet",precedence:T.INFIX,accept:t=>t==="is",parseInfix:(t,n)=>{if(n.type!=="JsdocTypeName")throw new u(n,"A typescript predicate always has to have a name on the left side.");return t.consume("is"),{type:"JsdocTypePredicate",left:n,right:P(t.parseIntermediateType(T.INFIX))}}}),Yr=b({name:"objectSquareBracketPropertyParslet",accept:t=>t==="[",parsePrefix:t=>{if(t.baseParser===void 0)throw new Error("Only allowed inside object grammar");t.consume("[");const n=t.lexer.current.text;t.consume("Identifier");let o;if(t.consume(":")){const c=t.baseParser;c.acceptLexerState(t),o={type:"JsdocTypeIndexSignature",key:n,right:c.parseType(T.ARRAY_BRACKETS)},t.acceptLexerState(c)}else if(t.consume("in")){const c=t.baseParser;c.acceptLexerState(t),o={type:"JsdocTypeMappedType",key:n,right:c.parseType(T.ARRAY_BRACKETS)},t.acceptLexerState(c)}else throw new Error("Missing ':' or 'in' inside square bracketed property.");if(!t.consume("]"))throw new Error("Unterminated square brackets");return o}}),Wr=[qr,j({allowedAdditionalTokens:["module","event","keyof","event","external","in"]}),xe,pe,ne,ye,ke({allowSquaredProperties:!0,allowKeyTypes:!1,allowOptional:!0,allowReadonly:!0}),Yr],zr=[...Ie,Le({allowKeyTypes:!1,objectFieldGrammar:Wr}),dt,Kr,Vr,ne,Ce({allowWithoutParenthesis:!0,allowNoReturnType:!1,allowNamedParameters:["this","new","args"],allowNewAsFunctionKeyword:!0}),Mr({allowQuestionMark:!1}),Fe({allowEnclosingBrackets:!1,allowPostfix:!1}),j({allowedAdditionalTokens:["event","external","in"]}),fe({allowedTypes:["module"],pathGrammar:z}),pt,Br,de({allowSquareBracketsOnAnyType:!0,allowJsdocNamePaths:!1,pathGrammar:z}),Gr,Hr,je({allowVariadic:!0,allowOptional:!0})];function ft(t,n){switch(n){case"closure":return new W(Ur,t).parse();case"jsdoc":return new W(jr,t).parse();case"typescript":return new W(zr,t).parse()}}function Xr(t,n=["typescript","closure","jsdoc"]){let o;for(const c of n)try{return ft(t,c)}catch(y){o=y}throw o}function ae(t,n){const o=t[n.type];if(o===void 0)throw new Error(`In this set of transform rules exists no rule for type ${n.type}.`);return o(n,c=>ae(t,c))}function x(t){throw new Error("This transform is not available. Are you trying the correct parsing mode?")}function mt(t){const n={params:[]};for(const o of t.parameters)o.type==="JsdocTypeKeyValue"?o.key==="this"?n.this=o.right:o.key==="new"?n.new=o.right:n.params.push(o):n.params.push(o);return n}function me(t,n,o){return t==="prefix"?o+n:n+o}function D(t,n){switch(n){case"double":return`"${t}"`;case"single":return`'${t}'`;case void 0:return t}}function Tt(){return{JsdocTypeParenthesis:(t,n)=>`(${t.element!==void 0?n(t.element):""})`,JsdocTypeKeyof:(t,n)=>`keyof ${n(t.element)}`,JsdocTypeFunction:(t,n)=>{if(t.arrow){if(t.returnType===void 0)throw new Error("Arrow function needs a return type.");let o=`(${t.parameters.map(n).join(", ")}) => ${n(t.returnType)}`;return t.constructor&&(o="new "+o),o}else{let o=t.constructor?"new":"function";return t.parenthesis&&(o+=`(${t.parameters.map(n).join(", ")})`,t.returnType!==void 0&&(o+=`: ${n(t.returnType)}`)),o}},JsdocTypeName:t=>t.value,JsdocTypeTuple:(t,n)=>`[${t.elements.map(n).join(", ")}]`,JsdocTypeVariadic:(t,n)=>t.meta.position===void 0?"...":me(t.meta.position,n(t.element),"..."),JsdocTypeNamePath:(t,n)=>{const o=n(t.left),c=n(t.right);switch(t.pathType){case"inner":return`${o}~${c}`;case"instance":return`${o}#${c}`;case"property":return`${o}.${c}`;case"property-brackets":return`${o}[${c}]`}},JsdocTypeStringValue:t=>D(t.value,t.meta.quote),JsdocTypeAny:()=>"*",JsdocTypeGeneric:(t,n)=>{if(t.meta.brackets==="square"){const o=t.elements[0],c=n(o);return o.type==="JsdocTypeUnion"||o.type==="JsdocTypeIntersection"?`(${c})[]`:`${c}[]`}else return`${n(t.left)}${t.meta.dot?".":""}<${t.elements.map(n).join(", ")}>`},JsdocTypeImport:(t,n)=>`import(${n(t.element)})`,JsdocTypeObjectField:(t,n)=>{let o="";return t.readonly&&(o+="readonly "),typeof t.key=="string"?o+=D(t.key,t.meta.quote):o+=n(t.key),t.optional&&(o+="?"),t.right===void 0?o:o+`: ${n(t.right)}`},JsdocTypeJsdocObjectField:(t,n)=>`${n(t.left)}: ${n(t.right)}`,JsdocTypeKeyValue:(t,n)=>{let o=t.key;return t.optional&&(o+="?"),t.variadic&&(o="..."+o),t.right===void 0?o:o+`: ${n(t.right)}`},JsdocTypeSpecialNamePath:t=>`${t.specialType}:${D(t.value,t.meta.quote)}`,JsdocTypeNotNullable:(t,n)=>me(t.meta.position,n(t.element),"!"),JsdocTypeNull:()=>"null",JsdocTypeNullable:(t,n)=>me(t.meta.position,n(t.element),"?"),JsdocTypeNumber:t=>t.value.toString(),JsdocTypeObject:(t,n)=>`{${t.elements.map(n).join((t.meta.separator==="comma"?",":";")+" ")}}`,JsdocTypeOptional:(t,n)=>me(t.meta.position,n(t.element),"="),JsdocTypeSymbol:(t,n)=>`${t.value}(${t.element!==void 0?n(t.element):""})`,JsdocTypeTypeof:(t,n)=>`typeof ${n(t.element)}`,JsdocTypeUndefined:()=>"undefined",JsdocTypeUnion:(t,n)=>t.elements.map(n).join(" | "),JsdocTypeUnknown:()=>"?",JsdocTypeIntersection:(t,n)=>t.elements.map(n).join(" & "),JsdocTypeProperty:t=>D(t.value,t.meta.quote),JsdocTypePredicate:(t,n)=>`${n(t.left)} is ${n(t.right)}`,JsdocTypeIndexSignature:(t,n)=>`[${t.key}: ${n(t.right)}]`,JsdocTypeMappedType:(t,n)=>`[${t.key} in ${n(t.right)}]`}}const Qr=Tt();function Zr(t){return ae(Qr,t)}const en=["null","true","false","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield"];function U(t){const n={type:"NameExpression",name:t};return en.includes(t)&&(n.reservedWord=!0),n}const tn={JsdocTypeOptional:(t,n)=>{const o=n(t.element);return o.optional=!0,o},JsdocTypeNullable:(t,n)=>{const o=n(t.element);return o.nullable=!0,o},JsdocTypeNotNullable:(t,n)=>{const o=n(t.element);return o.nullable=!1,o},JsdocTypeVariadic:(t,n)=>{if(t.element===void 0)throw new Error("dots without value are not allowed in catharsis mode");const o=n(t.element);return o.repeatable=!0,o},JsdocTypeAny:()=>({type:"AllLiteral"}),JsdocTypeNull:()=>({type:"NullLiteral"}),JsdocTypeStringValue:t=>U(D(t.value,t.meta.quote)),JsdocTypeUndefined:()=>({type:"UndefinedLiteral"}),JsdocTypeUnknown:()=>({type:"UnknownLiteral"}),JsdocTypeFunction:(t,n)=>{const o=mt(t),c={type:"FunctionType",params:o.params.map(n)};return o.this!==void 0&&(c.this=n(o.this)),o.new!==void 0&&(c.new=n(o.new)),t.returnType!==void 0&&(c.result=n(t.returnType)),c},JsdocTypeGeneric:(t,n)=>({type:"TypeApplication",applications:t.elements.map(o=>n(o)),expression:n(t.left)}),JsdocTypeSpecialNamePath:t=>U(t.specialType+":"+D(t.value,t.meta.quote)),JsdocTypeName:t=>t.value!=="function"?U(t.value):{type:"FunctionType",params:[]},JsdocTypeNumber:t=>U(t.value.toString()),JsdocTypeObject:(t,n)=>{const o={type:"RecordType",fields:[]};for(const c of t.elements)c.type!=="JsdocTypeObjectField"&&c.type!=="JsdocTypeJsdocObjectField"?o.fields.push({type:"FieldType",key:n(c),value:void 0}):o.fields.push(n(c));return o},JsdocTypeObjectField:(t,n)=>{if(typeof t.key!="string")throw new Error("Index signatures and mapped types are not supported");return{type:"FieldType",key:U(D(t.key,t.meta.quote)),value:t.right===void 0?void 0:n(t.right)}},JsdocTypeJsdocObjectField:(t,n)=>({type:"FieldType",key:n(t.left),value:n(t.right)}),JsdocTypeUnion:(t,n)=>({type:"TypeUnion",elements:t.elements.map(o=>n(o))}),JsdocTypeKeyValue:(t,n)=>({type:"FieldType",key:U(t.key),value:t.right===void 0?void 0:n(t.right)}),JsdocTypeNamePath:(t,n)=>{const o=n(t.left);let c;t.right.type==="JsdocTypeSpecialNamePath"?c=n(t.right).name:c=D(t.right.value,t.right.meta.quote);const y=t.pathType==="inner"?"~":t.pathType==="instance"?"#":".";return U(`${o.name}${y}${c}`)},JsdocTypeSymbol:t=>{let n="",o=t.element,c=!1;return(o==null?void 0:o.type)==="JsdocTypeVariadic"&&(o.meta.position==="prefix"?n="...":c=!0,o=o.element),(o==null?void 0:o.type)==="JsdocTypeName"?n+=o.value:(o==null?void 0:o.type)==="JsdocTypeNumber"&&(n+=o.value.toString()),c&&(n+="..."),U(`${t.value}(${n})`)},JsdocTypeParenthesis:(t,n)=>n(P(t.element)),JsdocTypeMappedType:x,JsdocTypeIndexSignature:x,JsdocTypeImport:x,JsdocTypeKeyof:x,JsdocTypeTuple:x,JsdocTypeTypeof:x,JsdocTypeIntersection:x,JsdocTypeProperty:x,JsdocTypePredicate:x};function rn(t){return ae(tn,t)}function B(t){switch(t){case void 0:return"none";case"single":return"single";case"double":return"double"}}function nn(t){switch(t){case"inner":return"INNER_MEMBER";case"instance":return"INSTANCE_MEMBER";case"property":return"MEMBER";case"property-brackets":return"MEMBER"}}function De(t,n){return n.length===2?{type:t,left:n[0],right:n[1]}:{type:t,left:n[0],right:De(t,n.slice(1))}}const an={JsdocTypeOptional:(t,n)=>({type:"OPTIONAL",value:n(t.element),meta:{syntax:t.meta.position==="prefix"?"PREFIX_EQUAL_SIGN":"SUFFIX_EQUALS_SIGN"}}),JsdocTypeNullable:(t,n)=>({type:"NULLABLE",value:n(t.element),meta:{syntax:t.meta.position==="prefix"?"PREFIX_QUESTION_MARK":"SUFFIX_QUESTION_MARK"}}),JsdocTypeNotNullable:(t,n)=>({type:"NOT_NULLABLE",value:n(t.element),meta:{syntax:t.meta.position==="prefix"?"PREFIX_BANG":"SUFFIX_BANG"}}),JsdocTypeVariadic:(t,n)=>{const o={type:"VARIADIC",meta:{syntax:t.meta.position==="prefix"?"PREFIX_DOTS":t.meta.position==="suffix"?"SUFFIX_DOTS":"ONLY_DOTS"}};return t.element!==void 0&&(o.value=n(t.element)),o},JsdocTypeName:t=>({type:"NAME",name:t.value}),JsdocTypeTypeof:(t,n)=>({type:"TYPE_QUERY",name:n(t.element)}),JsdocTypeTuple:(t,n)=>({type:"TUPLE",entries:t.elements.map(n)}),JsdocTypeKeyof:(t,n)=>({type:"KEY_QUERY",value:n(t.element)}),JsdocTypeImport:t=>({type:"IMPORT",path:{type:"STRING_VALUE",quoteStyle:B(t.element.meta.quote),string:t.element.value}}),JsdocTypeUndefined:()=>({type:"NAME",name:"undefined"}),JsdocTypeAny:()=>({type:"ANY"}),JsdocTypeFunction:(t,n)=>{const o=mt(t),c={type:t.arrow?"ARROW":"FUNCTION",params:o.params.map(y=>{if(y.type==="JsdocTypeKeyValue"){if(y.right===void 0)throw new Error("Function parameter without ':' is not expected to be 'KEY_VALUE'");return{type:"NAMED_PARAMETER",name:y.key,typeName:n(y.right)}}else return n(y)}),new:null,returns:null};return o.this!==void 0?c.this=n(o.this):t.arrow||(c.this=null),o.new!==void 0&&(c.new=n(o.new)),t.returnType!==void 0&&(c.returns=n(t.returnType)),c},JsdocTypeGeneric:(t,n)=>{const o={type:"GENERIC",subject:n(t.left),objects:t.elements.map(n),meta:{syntax:t.meta.brackets==="square"?"SQUARE_BRACKET":t.meta.dot?"ANGLE_BRACKET_WITH_DOT":"ANGLE_BRACKET"}};return t.meta.brackets==="square"&&t.elements[0].type==="JsdocTypeFunction"&&!t.elements[0].parenthesis&&(o.objects[0]={type:"NAME",name:"function"}),o},JsdocTypeObjectField:(t,n)=>{if(typeof t.key!="string")throw new Error("Index signatures and mapped types are not supported");if(t.right===void 0)return{type:"RECORD_ENTRY",key:t.key,quoteStyle:B(t.meta.quote),value:null,readonly:!1};let o=n(t.right);return t.optional&&(o={type:"OPTIONAL",value:o,meta:{syntax:"SUFFIX_KEY_QUESTION_MARK"}}),{type:"RECORD_ENTRY",key:t.key.toString(),quoteStyle:B(t.meta.quote),value:o,readonly:!1}},JsdocTypeJsdocObjectField:()=>{throw new Error("Keys may not be typed in jsdoctypeparser.")},JsdocTypeKeyValue:(t,n)=>{if(t.right===void 0)return{type:"RECORD_ENTRY",key:t.key,quoteStyle:"none",value:null,readonly:!1};let o=n(t.right);return t.optional&&(o={type:"OPTIONAL",value:o,meta:{syntax:"SUFFIX_KEY_QUESTION_MARK"}}),{type:"RECORD_ENTRY",key:t.key,quoteStyle:"none",value:o,readonly:!1}},JsdocTypeObject:(t,n)=>{const o=[];for(const c of t.elements)(c.type==="JsdocTypeObjectField"||c.type==="JsdocTypeJsdocObjectField")&&o.push(n(c));return{type:"RECORD",entries:o}},JsdocTypeSpecialNamePath:t=>{if(t.specialType!=="module")throw new Error(`jsdoctypeparser does not support type ${t.specialType} at this point.`);return{type:"MODULE",value:{type:"FILE_PATH",quoteStyle:B(t.meta.quote),path:t.value}}},JsdocTypeNamePath:(t,n)=>{let o=!1,c,y;t.right.type==="JsdocTypeSpecialNamePath"&&t.right.specialType==="event"?(o=!0,c=t.right.value,y=B(t.right.meta.quote)):(c=t.right.value,y=B(t.right.meta.quote));const m={type:nn(t.pathType),owner:n(t.left),name:c,quoteStyle:y,hasEventPrefix:o};if(m.owner.type==="MODULE"){const h=m.owner;return m.owner=m.owner.value,h.value=m,h}else return m},JsdocTypeUnion:(t,n)=>De("UNION",t.elements.map(n)),JsdocTypeParenthesis:(t,n)=>({type:"PARENTHESIS",value:n(P(t.element))}),JsdocTypeNull:()=>({type:"NAME",name:"null"}),JsdocTypeUnknown:()=>({type:"UNKNOWN"}),JsdocTypeStringValue:t=>({type:"STRING_VALUE",quoteStyle:B(t.meta.quote),string:t.value}),JsdocTypeIntersection:(t,n)=>De("INTERSECTION",t.elements.map(n)),JsdocTypeNumber:t=>({type:"NUMBER_VALUE",number:t.value.toString()}),JsdocTypeSymbol:x,JsdocTypeProperty:x,JsdocTypePredicate:x,JsdocTypeMappedType:x,JsdocTypeIndexSignature:x};function on(t){return ae(an,t)}function sn(){return{JsdocTypeIntersection:(t,n)=>({type:"JsdocTypeIntersection",elements:t.elements.map(n)}),JsdocTypeGeneric:(t,n)=>({type:"JsdocTypeGeneric",left:n(t.left),elements:t.elements.map(n),meta:{dot:t.meta.dot,brackets:t.meta.brackets}}),JsdocTypeNullable:t=>t,JsdocTypeUnion:(t,n)=>({type:"JsdocTypeUnion",elements:t.elements.map(n)}),JsdocTypeUnknown:t=>t,JsdocTypeUndefined:t=>t,JsdocTypeTypeof:(t,n)=>({type:"JsdocTypeTypeof",element:n(t.element)}),JsdocTypeSymbol:(t,n)=>{const o={type:"JsdocTypeSymbol",value:t.value};return t.element!==void 0&&(o.element=n(t.element)),o},JsdocTypeOptional:(t,n)=>({type:"JsdocTypeOptional",element:n(t.element),meta:{position:t.meta.position}}),JsdocTypeObject:(t,n)=>({type:"JsdocTypeObject",meta:{separator:"comma"},elements:t.elements.map(n)}),JsdocTypeNumber:t=>t,JsdocTypeNull:t=>t,JsdocTypeNotNullable:(t,n)=>({type:"JsdocTypeNotNullable",element:n(t.element),meta:{position:t.meta.position}}),JsdocTypeSpecialNamePath:t=>t,JsdocTypeObjectField:(t,n)=>({type:"JsdocTypeObjectField",key:t.key,right:t.right===void 0?void 0:n(t.right),optional:t.optional,readonly:t.readonly,meta:t.meta}),JsdocTypeJsdocObjectField:(t,n)=>({type:"JsdocTypeJsdocObjectField",left:n(t.left),right:n(t.right)}),JsdocTypeKeyValue:(t,n)=>({type:"JsdocTypeKeyValue",key:t.key,right:t.right===void 0?void 0:n(t.right),optional:t.optional,variadic:t.variadic}),JsdocTypeImport:(t,n)=>({type:"JsdocTypeImport",element:n(t.element)}),JsdocTypeAny:t=>t,JsdocTypeStringValue:t=>t,JsdocTypeNamePath:t=>t,JsdocTypeVariadic:(t,n)=>{const o={type:"JsdocTypeVariadic",meta:{position:t.meta.position,squareBrackets:t.meta.squareBrackets}};return t.element!==void 0&&(o.element=n(t.element)),o},JsdocTypeTuple:(t,n)=>({type:"JsdocTypeTuple",elements:t.elements.map(n)}),JsdocTypeName:t=>t,JsdocTypeFunction:(t,n)=>{const o={type:"JsdocTypeFunction",arrow:t.arrow,parameters:t.parameters.map(n),constructor:t.constructor,parenthesis:t.parenthesis};return t.returnType!==void 0&&(o.returnType=n(t.returnType)),o},JsdocTypeKeyof:(t,n)=>({type:"JsdocTypeKeyof",element:n(t.element)}),JsdocTypeParenthesis:(t,n)=>({type:"JsdocTypeParenthesis",element:n(t.element)}),JsdocTypeProperty:t=>t,JsdocTypePredicate:(t,n)=>({type:"JsdocTypePredicate",left:n(t.left),right:n(t.right)}),JsdocTypeIndexSignature:(t,n)=>({type:"JsdocTypeIndexSignature",key:t.key,right:n(t.right)}),JsdocTypeMappedType:(t,n)=>({type:"JsdocTypeMappedType",key:t.key,right:n(t.right)})}}const ht={JsdocTypeAny:[],JsdocTypeFunction:["parameters","returnType"],JsdocTypeGeneric:["left","elements"],JsdocTypeImport:[],JsdocTypeIndexSignature:["right"],JsdocTypeIntersection:["elements"],JsdocTypeKeyof:["element"],JsdocTypeKeyValue:["right"],JsdocTypeMappedType:["right"],JsdocTypeName:[],JsdocTypeNamePath:["left","right"],JsdocTypeNotNullable:["element"],JsdocTypeNull:[],JsdocTypeNullable:["element"],JsdocTypeNumber:[],JsdocTypeObject:["elements"],JsdocTypeObjectField:["right"],JsdocTypeJsdocObjectField:["left","right"],JsdocTypeOptional:["element"],JsdocTypeParenthesis:["element"],JsdocTypeSpecialNamePath:[],JsdocTypeStringValue:[],JsdocTypeSymbol:["element"],JsdocTypeTuple:["elements"],JsdocTypeTypeof:["element"],JsdocTypeUndefined:[],JsdocTypeUnion:["elements"],JsdocTypeUnknown:[],JsdocTypeVariadic:["element"],JsdocTypeProperty:[],JsdocTypePredicate:["left","right"]};function Ue(t,n,o,c,y){c==null||c(t,n,o);const m=ht[t.type];for(const h of m){const w=t[h];if(w!==void 0)if(Array.isArray(w))for(const S of w)Ue(S,t,h,c,y);else Ue(w,t,h,c,y)}y==null||y(t,n,o)}function cn(t,n,o){Ue(t,void 0,void 0,n,o)}a.catharsisTransform=rn,a.identityTransformRules=sn,a.jtpTransform=on,a.parse=ft,a.stringify=Zr,a.stringifyRules=Tt,a.transform=ae,a.traverse=cn,a.tryParse=Xr,a.visitorKeys=ht})})(We,We.exports);var ot=We.exports;const{UnknownArgTypesError:mr}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{combineParameters:Hp}=__STORYBOOK_MODULE_PREVIEW_API__;var Tr=/^['"]|['"]$/g,Yp=e=>e.replace(Tr,""),Wp=e=>Tr.test(e),hr=e=>{let r=Yp(e);return Wp(e)||Number.isNaN(Number(r))?r:Number(r)},zp=e=>{switch(e.type){case"function":return{name:"function"};case"object":let r={};return e.signature.properties.forEach(a=>{r[a.key]=ie(a.value)}),{name:"object",value:r};default:throw new mr({type:e,language:"Typescript"})}},ie=e=>{var i,l,u,p;let{name:r,raw:a}=e,s={};switch(typeof a<"u"&&(s.raw=a),e.name){case"string":case"number":case"symbol":case"boolean":return{...s,name:r};case"Array":return{...s,name:"array",value:e.elements.map(ie)};case"signature":return{...s,...zp(e)};case"union":let d;return(i=e.elements)!=null&&i.every(f=>f.name==="literal")?d={...s,name:"enum",value:(l=e.elements)==null?void 0:l.map(f=>hr(f.value))}:d={...s,name:r,value:(u=e.elements)==null?void 0:u.map(ie)},d;case"intersection":return{...s,name:r,value:(p=e.elements)==null?void 0:p.map(ie)};default:return{...s,name:"other",value:r}}},Xp=e=>e.name==="literal",Qp=e=>e.value.replace(/['|"]/g,""),Zp=e=>{switch(e.type){case"function":return{name:"function"};case"object":let r={};return e.signature.properties.forEach(a=>{r[a.key]=ce(a.value)}),{name:"object",value:r};default:throw new mr({type:e,language:"Flow"})}},ce=e=>{var i,l,u,p;let{name:r,raw:a}=e,s={};switch(typeof a<"u"&&(s.raw=a),e.name){case"literal":return{...s,name:"other",value:e.value};case"string":case"number":case"symbol":case"boolean":return{...s,name:r};case"Array":return{...s,name:"array",value:e.elements.map(ce)};case"signature":return{...s,...Zp(e)};case"union":return(i=e.elements)!=null&&i.every(Xp)?{...s,name:"enum",value:(l=e.elements)==null?void 0:l.map(Qp)}:{...s,name:r,value:(u=e.elements)==null?void 0:u.map(ce)};case"intersection":return{...s,name:r,value:(p=e.elements)==null?void 0:p.map(ce)};default:return{...s,name:"other",value:r}}},ey=/^\(.*\) => /,se=e=>{let{name:r,raw:a,computed:s,value:i}=e,l={};switch(typeof a<"u"&&(l.raw=a),r){case"enum":{let p=s?i:i.map(d=>hr(d.value));return{...l,name:r,value:p}}case"string":case"number":case"symbol":return{...l,name:r};case"func":return{...l,name:"function"};case"bool":case"boolean":return{...l,name:"boolean"};case"arrayOf":case"array":return{...l,name:"array",value:i&&se(i)};case"object":return{...l,name:r};case"objectOf":return{...l,name:r,value:se(i)};case"shape":case"exact":let u=Jp(i,p=>se(p));return{...l,name:"object",value:u};case"union":return{...l,name:"union",value:i.map(p=>se(p))};case"instanceOf":case"element":case"elementType":default:{if((r==null?void 0:r.indexOf("|"))>0)try{let f=r.split("|").map(g=>JSON.parse(g));return{...l,name:"enum",value:f}}catch{}let p=i?`${r}(${i})`:r,d=ey.test(r)?"function":"other";return{...l,name:d,value:p}}}},st=e=>{let{type:r,tsType:a,flowType:s}=e;try{if(r!=null)return se(r);if(a!=null)return ie(a);if(s!=null)return ce(s)}catch(i){console.error(i)}return null},ty=(e=>(e.JAVASCRIPT="JavaScript",e.FLOW="Flow",e.TYPESCRIPT="TypeScript",e.UNKNOWN="Unknown",e))(ty||{}),ry=["null","undefined"];function it(e){return ry.some(r=>r===e)}var ny=e=>{if(!e)return"";if(typeof e=="string")return e;throw new Error(`Description: expected string, got: ${JSON.stringify(e)}`)};function gr(e){return!!e.__docgenInfo}function ay(e){return e!=null&&Object.keys(e).length>0}function oy(e,r){return gr(e)?e.__docgenInfo[r]:null}function sy(e){return gr(e)?ny(e.__docgenInfo.description):""}function iy(e){return e!=null&&e.includes("@")}function cy(e){let r=`/**
`+(e??"").split(`
`).map(s=>` * ${s}`).join(`
`)+`
*/`,a=Gp(r,{spacing:"preserve"});if(!a||a.length===0)throw new Error("Cannot parse JSDoc tags.");return a[0]}var ly={tags:["param","arg","argument","returns","ignore","deprecated"]},uy=(e,r=ly)=>{if(!iy(e))return{includesJsDoc:!1,ignore:!1};let a=cy(e),s=py(a,r.tags);return s.ignore?{includesJsDoc:!0,ignore:!0}:{includesJsDoc:!0,ignore:!1,description:a.description.trim(),extractedTags:s}};function py(e,r){let a={params:null,deprecated:null,returns:null,ignore:!1};for(let s of e.tags)if(!(r!==void 0&&!r.includes(s.tag)))if(s.tag==="ignore"){a.ignore=!0;break}else switch(s.tag){case"param":case"arg":case"argument":{let i=dy(s);i!=null&&(a.params==null&&(a.params=[]),a.params.push(i));break}case"deprecated":{let i=fy(s);i!=null&&(a.deprecated=i);break}case"returns":{let i=my(s);i!=null&&(a.returns=i);break}}return a}function yy(e){return e.replace(/[\.-]$/,"")}function dy(e){if(!e.name||e.name==="-")return null;let r=_r(e.type);return{name:e.name,type:r,description:br(e.description),getPrettyName:()=>yy(e.name),getTypeName:()=>r?wr(r):null}}function fy(e){return e.name?vr(e.name,e.description):null}function vr(e,r){let a=e===""?r:`${e} ${r}`;return br(a)}function br(e){let r=e.replace(/^- /g,"").trim();return r===""?null:r}function my(e){let r=_r(e.type);return r?{type:r,description:vr(e.name,e.description),getTypeName:()=>wr(r)}:null}var q=ot.stringifyRules(),Ty=q.JsdocTypeObject;q.JsdocTypeAny=()=>"any";q.JsdocTypeObject=(e,r)=>`(${Ty(e,r)})`;q.JsdocTypeOptional=(e,r)=>r(e.element);q.JsdocTypeNullable=(e,r)=>r(e.element);q.JsdocTypeNotNullable=(e,r)=>r(e.element);q.JsdocTypeUnion=(e,r)=>e.elements.map(r).join("|");function _r(e){try{return ot.parse(e,"typescript")}catch{return null}}function wr(e){return ot.transform(q,e)}function Jr(e){return e.length>90}function hy(e){return e.length>50}function E(e,r){return e===r?{summary:e}:{summary:e,detail:r}}function Pr({name:e,value:r,elements:a,raw:s}){return r??(a!=null?a.map(Pr).join(" | "):s??e)}function gy({name:e,raw:r,elements:a}){return a!=null?E(a.map(Pr).join(" | ")):r!=null?E(r.replace(/^\|\s*/,"")):E(e)}function vy({type:e,raw:r}){return r!=null?E(r):E(e)}function by({type:e,raw:r}){return r!=null?Jr(r)?E(e,r):E(r):E(e)}function _y(e){let{type:r}=e;return r==="object"?by(e):vy(e)}function wy({name:e,raw:r}){return r!=null?Jr(r)?E(e,r):E(r):E(e)}function Jy(e){if(e==null)return null;switch(e.name){case"union":return gy(e);case"signature":return _y(e);default:return wy(e)}}function Py(e,r){if(e!=null){let{value:a}=e;if(!it(a))return hy(a)?E(r==null?void 0:r.name,a):E(a)}return null}var $y=(e,r)=>{let{flowType:a,description:s,required:i,defaultValue:l}=r;return{name:e,type:Jy(a),required:i,description:s,defaultValue:Py(l??null,a??null)}};function Ey({tsType:e,required:r}){if(e==null)return null;let a=e.name;return r||(a=a.replace(" | undefined","")),E(["Array","Record","signature"].includes(e.name)?e.raw:a)}function Ay({defaultValue:e}){if(e!=null){let{value:r}=e;if(!it(r))return E(r)}return null}var Oy=(e,r)=>{let{description:a,required:s}=r;return{name:e,type:Ey(r),required:s,description:a,defaultValue:Ay(r)}};function Sy(e){return e!=null?E(e.name):null}function Ny(e){let{computed:r,func:a}=e;return typeof r>"u"&&typeof a>"u"}function xy(e){return e?e.name==="string"?!0:e.name==="enum"?Array.isArray(e.value)&&e.value.every(({value:r})=>typeof r=="string"&&r[0]==='"'&&r[r.length-1]==='"'):!1:!1}function Iy(e,r){if(e!=null){let{value:a}=e;if(!it(a))return Ny(e)&&xy(r)?E(JSON.stringify(a)):E(a)}return null}function $r(e,r,a){let{description:s,required:i,defaultValue:l}=a;return{name:e,type:Sy(r),required:i,description:s,defaultValue:Iy(l,r)}}function Oe(e,r){var a;if(r!=null&&r.includesJsDoc){let{description:s,extractedTags:i}=r;s!=null&&(e.description=r.description);let l={...i,params:(a=i==null?void 0:i.params)==null?void 0:a.map(u=>({name:u.getPrettyName(),description:u.description}))};Object.values(l).filter(Boolean).length>0&&(e.jsDocTags=l)}return e}var Ry=(e,r,a)=>{let s=$r(e,r.type,r);return s.sbType=st(r),Oe(s,a)},Cy=(e,r,a)=>{let s=Oy(e,r);return s.sbType=st(r),Oe(s,a)},Fy=(e,r,a)=>{let s=$y(e,r);return s.sbType=st(r),Oe(s,a)},Ly=(e,r,a)=>{let s=$r(e,{name:"unknown"},r);return Oe(s,a)},Er=e=>{switch(e){case"JavaScript":return Ry;case"TypeScript":return Cy;case"Flow":return Fy;default:return Ly}},Ar=e=>e.type!=null?"JavaScript":e.flowType!=null?"Flow":e.tsType!=null?"TypeScript":"Unknown",ky=e=>{let r=Ar(e[0]),a=Er(r);return e.map(s=>{var l;let i=s;return(l=s.type)!=null&&l.elements&&(i={...s,type:{...s.type,value:s.type.elements}}),Or(i.name,i,r,a)})},jy=e=>{let r=Object.keys(e),a=Ar(e[r[0]]),s=Er(a);return r.map(i=>{let l=e[i];return l!=null?Or(i,l,a,s):null}).filter(Boolean)},Gy=(e,r)=>{let a=oy(e,r);return ay(a)?Array.isArray(a)?ky(a):jy(a):[]};function Or(e,r,a,s){let i=uy(r.description);return i.includesJsDoc&&i.ignore?null:{propDef:s(e,r,i),jsDocTags:i.extractedTags,docgenInfo:r,typeSystem:a}}function Hy(e){return e!=null?sy(e):""}var Yy=e=>{let{component:r,argTypes:a,parameters:{docs:s={}}}=e,{extractArgTypes:i}=s,l=i&&r?i(r):{};return l?Hp(l,a):a},Dy="storybook/docs",Wy=`${Dy}/snippet-rendered`,Uy=(e=>(e.AUTO="auto",e.CODE="code",e.DYNAMIC="dynamic",e))(Uy||{}),My=tr,Ky=My(Object.getPrototypeOf,Object),zy=Ky;export{rl as A,Zi as B,Li as C,Ui as D,et as E,Wi as F,dl as G,za as H,Wa as I,nr as J,Qt as K,Dc as L,Wy as S,ty as T,zy as _,Yy as a,Uy as b,E as c,By as d,Hy as e,Gy as f,oy as g,gr as h,V as i,hy as j,Jr as k,Yn as l,rr as m,yr as n,Zt as o,Ae as p,dr as q,bc as r,Cc as s,Oc as t,yo as u,lo as v,Ao as w,Pc as x,au as y,hp as z};
